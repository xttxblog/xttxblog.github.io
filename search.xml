<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ã€‹ç¬¬4ç« .å¯¹è±¡ä¸ç±»</title>
    <url>/2021/12/06/OOP%E6%A6%82%E8%BF%B0/</url>
    <content><![CDATA[<h1 id="OOPæ¦‚è¿°"><a href="#OOPæ¦‚è¿°" class="headerlink" title="OOPæ¦‚è¿°"></a>OOPæ¦‚è¿°</h1><h2 id="1-ç±»"><a href="#1-ç±»" class="headerlink" title="1.ç±»"></a>1.ç±»</h2><ul>
<li>ç±»æ˜¯æ„é€ å¯¹è±¡çš„æ¨¡æ¿æˆ–è“å›¾</li>
<li>ç”±ç±»æ„é€ å¯¹è±¡çš„è¿‡ç¨‹æˆä¸ºåˆ›å»ºç±»çš„å®ä¾‹</li>
<li>å°è£…æ˜¯å¤„ç†å¯¹è±¡çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚</li>
<li>å¯¹è±¡ä¸­çš„æ•°æ®ç§°ä¸ºå®ä¾‹å­—æ®µ</li>
<li>æ“ä½œæ•°æ®çš„è¿‡ç¨‹ç§°ä¸ºæ–¹æ³•</li>
<li>ä½œä¸ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œç‰¹å®šå¯¹è±¡éƒ½æœ‰ä¸€ç»„ç‰¹å®šçš„å®ä¾‹å­—æ®µå€¼ï¼Œè¿™äº›å€¼çš„é›†åˆå°±æ˜¯è¿™ä¸ªå¯¹è±¡çš„å½“å‰çŠ¶æ€ã€‚</li>
</ul>
<h2 id="2-å¯¹è±¡"><a href="#2-å¯¹è±¡" class="headerlink" title="2.å¯¹è±¡"></a>2.å¯¹è±¡</h2><ul>
<li>å¯¹è±¡çš„ä¸‰ä¸ªä¸»è¦ç‰¹å¾<ol>
<li>å¯¹è±¡çš„è¡Œä¸º</li>
<li>å¯¹è±¡çš„çŠ¶æ€</li>
<li>å¯¹è±¡çš„æ ‡è¯†</li>
</ol>
</li>
</ul>
<h2 id="3-è¯†åˆ«ç±»"><a href="#3-è¯†åˆ«ç±»" class="headerlink" title="3.è¯†åˆ«ç±»"></a>3.è¯†åˆ«ç±»</h2><ul>
<li>é¦–å…ˆä»è¯†åˆ«ç±»å¼€å§‹ï¼Œç„¶åå†ä¸ºå„ä¸ªç±»æ·»åŠ æ–¹æ³•</li>
<li>åˆ†æé—®é¢˜çš„è¿‡ç¨‹ä¸­å¯»æ‰¾åè¯ï¼Œè€Œæ–¹æ³•å¯¹åº”ç€åŠ¨è¯</li>
</ul>
<h2 id="4-ç±»ä¹‹é—´çš„å…³ç³»"><a href="#4-ç±»ä¹‹é—´çš„å…³ç³»" class="headerlink" title="4.ç±»ä¹‹é—´çš„å…³ç³»"></a>4.ç±»ä¹‹é—´çš„å…³ç³»</h2><ul>
<li>ä¾èµ–ï¼ˆuses-aï¼‰<br>å¦‚æœä¸€ä¸ªç±»çš„æ–¹æ³•ä½¿ç”¨æˆ–æ“çºµå¦ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å°±è¯´ä¸€ä¸ªç±»ä¾èµ–äºå¦ä¸€ä¸ªç±»ã€‚<br>åº”è¯¥å°½é‡å°†ç›¸äº’ä¾èµ–çš„ç±»å‡åˆ°æœ€å°‘ï¼Œå°½å¯èƒ½å‡å°‘ç±»ä¹‹é—´çš„è€¦åˆã€‚</li>
<li>èšåˆï¼ˆhas-aï¼‰<br>ç±»Açš„å¯¹è±¡åŒ…å«ç±»Bçš„å¯¹è±¡ã€‚</li>
<li>ç»§æ‰¿ï¼ˆis-aï¼‰<br>è¡¨ç¤ºä¸€ä¸ªæ›´ç‰¹æ®Šçš„ç±»å’Œä¸€ä¸ªæ›´ä¸€èˆ¬çš„ç±»ä¹‹é—´çš„å…³ç³»ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>å¯¹è±¡</tag>
        <tag>ç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥ç†è§£ Java æ³¨è§£</title>
    <url>/2021/12/06/java-annotation/</url>
    <content><![CDATA[<h1 id="æ·±å…¥ç†è§£-Java-æ³¨è§£"><a href="#æ·±å…¥ç†è§£-Java-æ³¨è§£" class="headerlink" title="æ·±å…¥ç†è§£ Java æ³¨è§£"></a>æ·±å…¥ç†è§£ Java æ³¨è§£</h1><blockquote>
<p>æœ¬æ–‡å†…å®¹åŸºäº JDK8ã€‚æ³¨è§£æ˜¯ JDK5 å¼•å…¥çš„ï¼Œåç»­ JDK ç‰ˆæœ¬æ‰©å±•äº†ä¸€äº›å†…å®¹ï¼Œæœ¬æ–‡ä¸­æ²¡æœ‰æ˜ç¡®æŒ‡æ˜ç‰ˆæœ¬çš„æ³¨è§£éƒ½æ˜¯ JDK5 å°±å·²ç»æ”¯æŒçš„æ³¨è§£ã€‚</p>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E7%AE%80%E4%BB%8B">1. ç®€ä»‹</a><ul>
<li><a href="#11-%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%BD%A2%E5%BC%8F">1.1. æ³¨è§£çš„å½¢å¼</a></li>
<li><a href="#12-%E4%BB%80%E4%B9%88%E6%98%AF%E6%B3%A8%E8%A7%A3">1.2. ä»€ä¹ˆæ˜¯æ³¨è§£</a></li>
<li><a href="#13-%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8">1.3. æ³¨è§£çš„ä½œç”¨</a></li>
<li><a href="#14-%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BB%A3%E4%BB%B7">1.4. æ³¨è§£çš„ä»£ä»·</a></li>
<li><a href="#15-%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%BA%94%E7%94%A8%E8%8C%83%E5%9B%B4">1.5. æ³¨è§£çš„åº”ç”¨èŒƒå›´</a></li>
</ul>
</li>
<li><a href="#2-%E5%86%85%E7%BD%AE%E6%B3%A8%E8%A7%A3">2. å†…ç½®æ³¨è§£</a><ul>
<li><a href="#21-override">2.1. @Override</a></li>
<li><a href="#22-deprecated">2.2. @Deprecated</a></li>
<li><a href="#23-suppresswarnnings">2.3. @SuppressWarnnings</a></li>
<li><a href="#24-safevarargs">2.4. @SafeVarargs</a></li>
<li><a href="#25-functionalinterface">2.5. @FunctionalInterface</a></li>
</ul>
</li>
<li><a href="#3-%E5%85%83%E6%B3%A8%E8%A7%A3">3. å…ƒæ³¨è§£</a><ul>
<li><a href="#31-retention">3.1. @Retention</a></li>
<li><a href="#32-documented">3.2. @Documented</a></li>
<li><a href="#33-target">3.3. @Target</a></li>
<li><a href="#34-inherited">3.4. @Inherited</a></li>
<li><a href="#35-repeatable">3.5. @Repeatable</a></li>
</ul>
</li>
<li><a href="#4-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3">4. è‡ªå®šä¹‰æ³¨è§£</a><ul>
<li><a href="#41-%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%AE%9A%E4%B9%89">4.1. æ³¨è§£çš„å®šä¹‰</a></li>
<li><a href="#42-%E6%B3%A8%E8%A7%A3%E5%B1%9E%E6%80%A7">4.2. æ³¨è§£å±æ€§</a></li>
<li><a href="#43-%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%99%A8">4.3. æ³¨è§£å¤„ç†å™¨</a></li>
<li><a href="#44-%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3">4.4. ä½¿ç”¨æ³¨è§£</a></li>
</ul>
</li>
<li><a href="#5-%E5%B0%8F%E7%BB%93">5. å°ç»“</a></li>
<li><a href="#6-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">6. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h2><h3 id="1-1-æ³¨è§£çš„å½¢å¼"><a href="#1-1-æ³¨è§£çš„å½¢å¼" class="headerlink" title="1.1. æ³¨è§£çš„å½¢å¼"></a>1.1. æ³¨è§£çš„å½¢å¼</h3><p>Java ä¸­ï¼Œæ³¨è§£æ˜¯ä»¥ <code>@</code> å­—ç¬¦å¼€å§‹çš„ä¿®é¥°ç¬¦ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mySuperMethod</span><span class="params">()</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨è§£å¯ä»¥åŒ…å«å‘½åæˆ–æœªå‘½åçš„å±æ€§ï¼Œå¹¶ä¸”è¿™äº›å±æ€§æœ‰å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Author(</span></span><br><span class="line"><span class="meta">   name = &quot;Benjamin Franklin&quot;,</span></span><br><span class="line"><span class="meta">   date = &quot;3/27/2003&quot;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>() </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåªæœ‰ä¸€ä¸ªåä¸º value çš„å±æ€§ï¼Œé‚£ä¹ˆåç§°å¯ä»¥çœç•¥ï¼Œå¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myMethod</span><span class="params">()</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ³¨è§£æ²¡æœ‰å±æ€§ï¼Œåˆ™ç§°ä¸º <code>æ ‡è®°æ³¨è§£</code>ã€‚å¦‚ï¼š<code>@Override</code>ã€‚</p>
<h3 id="1-2-ä»€ä¹ˆæ˜¯æ³¨è§£"><a href="#1-2-ä»€ä¹ˆæ˜¯æ³¨è§£" class="headerlink" title="1.2. ä»€ä¹ˆæ˜¯æ³¨è§£"></a>1.2. ä»€ä¹ˆæ˜¯æ³¨è§£</h3><p>ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œ<strong>æ³¨è§£æ˜¯ä¸€ç§æ ‡ç­¾ï¼Œå…¶å®è´¨ä¸Šå¯ä»¥è§†ä¸ºä¸€ç§ç‰¹æ®Šçš„æ³¨é‡Šï¼Œå¦‚æœæ²¡æœ‰è§£æå®ƒçš„ä»£ç ï¼Œå®ƒå¹¶ä¸æ¯”æ™®é€šæ³¨é‡Šå¼ºã€‚</strong></p>
<p>è§£æä¸€ä¸ªæ³¨è§£å¾€å¾€æœ‰ä¸¤ç§å½¢å¼ï¼š</p>
<ul>
<li><strong>ç¼–è¯‘æœŸç›´æ¥çš„æ‰«æ</strong> - ç¼–è¯‘å™¨çš„æ‰«ææŒ‡çš„æ˜¯ç¼–è¯‘å™¨åœ¨å¯¹ java ä»£ç ç¼–è¯‘å­—èŠ‚ç çš„è¿‡ç¨‹ä¸­ä¼šæ£€æµ‹åˆ°æŸä¸ªç±»æˆ–è€…æ–¹æ³•è¢«ä¸€äº›æ³¨è§£ä¿®é¥°ï¼Œè¿™æ—¶å®ƒå°±ä¼šå¯¹äºè¿™äº›æ³¨è§£è¿›è¡ŒæŸäº›å¤„ç†ã€‚è¿™ç§æƒ…å†µåªé€‚ç”¨äº JDK å†…ç½®çš„æ³¨è§£ç±»ã€‚</li>
<li><strong>è¿è¡ŒæœŸçš„åå°„</strong> - å¦‚æœè¦è‡ªå®šä¹‰æ³¨è§£ï¼ŒJava ç¼–è¯‘å™¨æ— æ³•è¯†åˆ«å¹¶å¤„ç†è¿™ä¸ªæ³¨è§£ï¼Œå®ƒåªèƒ½æ ¹æ®è¯¥æ³¨è§£çš„ä½œç”¨èŒƒå›´æ¥é€‰æ‹©æ˜¯å¦ç¼–è¯‘è¿›å­—èŠ‚ç æ–‡ä»¶ã€‚å¦‚æœè¦å¤„ç†æ³¨è§£ï¼Œå¿…é¡»åˆ©ç”¨åå°„æŠ€æœ¯ï¼Œè¯†åˆ«è¯¥æ³¨è§£ä»¥åŠå®ƒæ‰€æºå¸¦çš„ä¿¡æ¯ï¼Œç„¶ååšç›¸åº”çš„å¤„ç†ã€‚</li>
</ul>
<h3 id="1-3-æ³¨è§£çš„ä½œç”¨"><a href="#1-3-æ³¨è§£çš„ä½œç”¨" class="headerlink" title="1.3. æ³¨è§£çš„ä½œç”¨"></a>1.3. æ³¨è§£çš„ä½œç”¨</h3><p>æ³¨è§£æœ‰è®¸å¤šç”¨é€”ï¼š</p>
<ul>
<li>ç¼–è¯‘å™¨ä¿¡æ¯ - ç¼–è¯‘å™¨å¯ä»¥ä½¿ç”¨æ³¨è§£æ¥æ£€æµ‹é”™è¯¯æˆ–æŠ‘åˆ¶è­¦å‘Šã€‚</li>
<li>ç¼–è¯‘æ—¶å’Œéƒ¨ç½²æ—¶çš„å¤„ç† - ç¨‹åºå¯ä»¥å¤„ç†æ³¨è§£ä¿¡æ¯ä»¥ç”Ÿæˆä»£ç ï¼ŒXML æ–‡ä»¶ç­‰ã€‚</li>
<li>è¿è¡Œæ—¶å¤„ç† - å¯ä»¥åœ¨è¿è¡Œæ—¶æ£€æŸ¥æŸäº›æ³¨è§£å¹¶å¤„ç†ã€‚</li>
</ul>
<p>ä½œä¸º Java ç¨‹åºå‘˜ï¼Œå¤šå¤šå°‘å°‘éƒ½æ›¾ç»å†è¿‡è¢«å„ç§é…ç½®æ–‡ä»¶ï¼ˆxmlã€propertiesï¼‰æ”¯é…çš„ææƒ§ã€‚è¿‡å¤šçš„é…ç½®æ–‡ä»¶ä¼šä½¿å¾—é¡¹ç›®éš¾ä»¥ç»´æŠ¤ã€‚ä¸ªäººè®¤ä¸ºï¼Œä½¿ç”¨æ³¨è§£ä»¥å‡å°‘é…ç½®æ–‡ä»¶æˆ–ä»£ç ï¼Œæ˜¯æ³¨è§£æœ€å¤§çš„ç”¨å¤„ã€‚</p>
<h3 id="1-4-æ³¨è§£çš„ä»£ä»·"><a href="#1-4-æ³¨è§£çš„ä»£ä»·" class="headerlink" title="1.4. æ³¨è§£çš„ä»£ä»·"></a>1.4. æ³¨è§£çš„ä»£ä»·</h3><p>å‡¡äº‹æœ‰å¾—å¿…æœ‰å¤±ï¼Œæ³¨è§£æŠ€æœ¯åŒæ ·å¦‚æ­¤ã€‚ä½¿ç”¨æ³¨è§£ä¹Ÿæœ‰ä¸€å®šçš„ä»£ä»·ï¼š</p>
<ul>
<li>æ˜¾ç„¶ï¼Œå®ƒæ˜¯ä¸€ç§ä¾µå…¥å¼ç¼–ç¨‹ï¼Œé‚£ä¹ˆï¼Œè‡ªç„¶å°±å­˜åœ¨ç€å¢åŠ ç¨‹åºè€¦åˆåº¦çš„é—®é¢˜ã€‚</li>
<li>è‡ªå®šä¹‰æ³¨è§£çš„å¤„ç†éœ€è¦åœ¨è¿è¡Œæ—¶ï¼Œé€šè¿‡åå°„æŠ€æœ¯æ¥è·å–å±æ€§ã€‚å¦‚æœæ³¨è§£æ‰€ä¿®é¥°çš„å…ƒç´ æ˜¯ç±»çš„é public æˆå‘˜ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åå°„è·å–ã€‚è¿™å°±è¿èƒŒäº†é¢å‘å¯¹è±¡çš„å°è£…æ€§ã€‚</li>
<li>æ³¨è§£æ‰€äº§ç”Ÿçš„é—®é¢˜ï¼Œç›¸å¯¹è€Œè¨€ï¼Œæ›´éš¾ä»¥ debug æˆ–å®šä½ã€‚</li>
</ul>
<p>ä½†æ˜¯ï¼Œæ­£æ‰€è°“ç‘•ä¸æ©ç‘œï¼Œæ³¨è§£æ‰€ä»˜å‡ºçš„ä»£ä»·ï¼Œç›¸è¾ƒäºå®ƒæä¾›çš„åŠŸèƒ½è€Œè¨€ï¼Œè¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚</p>
<h3 id="1-5-æ³¨è§£çš„åº”ç”¨èŒƒå›´"><a href="#1-5-æ³¨è§£çš„åº”ç”¨èŒƒå›´" class="headerlink" title="1.5. æ³¨è§£çš„åº”ç”¨èŒƒå›´"></a>1.5. æ³¨è§£çš„åº”ç”¨èŒƒå›´</h3><p>æ³¨è§£å¯ä»¥åº”ç”¨äºç±»ã€å­—æ®µã€æ–¹æ³•å’Œå…¶ä»–ç¨‹åºå…ƒç´ çš„å£°æ˜ã€‚</p>
<p>JDK8 å¼€å§‹ï¼Œæ³¨è§£çš„åº”ç”¨èŒƒå›´è¿›ä¸€æ­¥æ‰©å¤§ï¼Œä»¥ä¸‹æ˜¯æ–°çš„åº”ç”¨èŒƒå›´ï¼š</p>
<p>ç±»å®ä¾‹åˆå§‹åŒ–è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="meta">@Interned</span> MyObject();</span><br></pre></td></tr></table></figure>

<p>ç±»å‹è½¬æ¢ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">myString = (<span class="meta">@NonNull</span> String) str;</span><br></pre></td></tr></table></figure>

<p>å®ç°æ¥å£çš„å£°æ˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnmodifiableList</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span></span></span><br><span class="line"><span class="class">    @<span class="title">Readonly</span> <span class="title">List</span>&lt;@<span class="title">Readonly</span> <span class="title">T</span>&gt; </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>æŠ›å‡ºå¼‚å¸¸å£°æ˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">monitorTemperature</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> @Critical TemperatureException </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-å†…ç½®æ³¨è§£"><a href="#2-å†…ç½®æ³¨è§£" class="headerlink" title="2. å†…ç½®æ³¨è§£"></a>2. å†…ç½®æ³¨è§£</h2><p>JDK ä¸­å†…ç½®äº†ä»¥ä¸‹æ³¨è§£ï¼š</p>
<ul>
<li><code>@Override</code></li>
<li><code>@Deprecated</code></li>
<li><code>@SuppressWarnnings</code></li>
<li><code>@SafeVarargs</code>ï¼ˆJDK7 å¼•å…¥ï¼‰</li>
<li><code>@FunctionalInterface</code>ï¼ˆJDK8 å¼•å…¥ï¼‰</li>
</ul>
<h3 id="2-1-Override"><a href="#2-1-Override" class="headerlink" title="2.1. @Override"></a>2.1. @Override</h3><p><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Override.html"><code>@Override</code></a> ç”¨äºè¡¨æ˜è¢«ä¿®é¥°æ–¹æ³•è¦†å†™äº†çˆ¶ç±»çš„æ–¹æ³•ã€‚</strong></p>
<p>å¦‚æœè¯•å›¾ä½¿ç”¨ <code>@Override</code> æ ‡è®°ä¸€ä¸ªå®é™…ä¸Šå¹¶æ²¡æœ‰è¦†å†™çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œjava ç¼–è¯‘å™¨ä¼šå‘Šè­¦ã€‚</p>
<p><code>@Override</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OverrideAnnotationDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;getName&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Man</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;override getName&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         *  æ”¾å¼€ä¸‹é¢çš„æ³¨é‡Šï¼Œç¼–è¯‘æ—¶ä¼šå‘Šè­¦</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">       <span class="comment">/*</span></span><br><span class="line"><span class="comment">        @Override</span></span><br><span class="line"><span class="comment">        public String getName2() &#123;</span></span><br><span class="line"><span class="comment">            return &quot;override getName2&quot;;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person per = <span class="keyword">new</span> Man();</span><br><span class="line">        System.out.println(per.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-Deprecated"><a href="#2-2-Deprecated" class="headerlink" title="2.2. @Deprecated"></a>2.2. @Deprecated</h3><p><strong><code>@Deprecated</code> ç”¨äºæ ‡æ˜è¢«ä¿®é¥°çš„ç±»æˆ–ç±»æˆå‘˜ã€ç±»æ–¹æ³•å·²ç»åºŸå¼ƒã€è¿‡æ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚</strong></p>
<p><code>@Deprecated</code> æœ‰ä¸€å®šçš„<strong>å»¶ç»­æ€§</strong>ï¼šå¦‚æœæˆ‘ä»¬åœ¨ä»£ç ä¸­é€šè¿‡ç»§æ‰¿æˆ–è€…è¦†ç›–çš„æ–¹å¼ä½¿ç”¨äº†è¿‡æ—¶çš„ç±»æˆ–ç±»æˆå‘˜ï¼Œå³ä½¿å­ç±»æˆ–å­æ–¹æ³•æ²¡æœ‰æ ‡è®°ä¸º <code>@Deprecated</code>ï¼Œä½†ç¼–è¯‘å™¨ä»ç„¶ä¼šå‘Šè­¦ã€‚</p>
<blockquote>
<p>ğŸ”” æ³¨æ„ï¼š <code>@Deprecated</code> è¿™ä¸ªæ³¨è§£ç±»å‹å’Œ javadoc ä¸­çš„ <code>@deprecated</code> è¿™ä¸ª tag æ˜¯æœ‰åŒºåˆ«çš„ï¼šå‰è€…æ˜¯ java ç¼–è¯‘å™¨è¯†åˆ«çš„ï¼›è€Œåè€…æ˜¯è¢« javadoc å·¥å…·æ‰€è¯†åˆ«ç”¨æ¥ç”Ÿæˆæ–‡æ¡£ï¼ˆåŒ…å«ç¨‹åºæˆå‘˜ä¸ºä»€ä¹ˆå·²ç»è¿‡æ—¶ã€å®ƒåº”å½“å¦‚ä½•è¢«ç¦æ­¢æˆ–è€…æ›¿ä»£çš„æè¿°ï¼‰ã€‚</p>
</blockquote>
<p><code>@Deprecated</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeprecatedAnnotationDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DeprecatedField</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Deprecated</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String DEPRECATED_FIELD = <span class="string">&quot;DeprecatedField&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DeprecatedMethod</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Deprecated</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;DeprecatedMethod&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DeprecatedClass</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;DeprecatedClass&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(DeprecatedField.DEPRECATED_FIELD);</span><br><span class="line"></span><br><span class="line">        DeprecatedMethod dm = <span class="keyword">new</span> DeprecatedMethod();</span><br><span class="line">        System.out.println(dm.print());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        DeprecatedClass dc = <span class="keyword">new</span> DeprecatedClass();</span><br><span class="line">        System.out.println(dc.print());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Output:</span></span><br><span class="line"><span class="comment">//DeprecatedField</span></span><br><span class="line"><span class="comment">//DeprecatedMethod</span></span><br><span class="line"><span class="comment">//DeprecatedClass</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-SuppressWarnnings"><a href="#2-3-SuppressWarnnings" class="headerlink" title="2.3. @SuppressWarnnings"></a>2.3. @SuppressWarnnings</h3><p><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/SuppressWarnings.html"><code>@SuppressWarnings</code></a> ç”¨äºå…³é—­å¯¹ç±»ã€æ–¹æ³•ã€æˆå‘˜ç¼–è¯‘æ—¶äº§ç”Ÿçš„ç‰¹å®šè­¦å‘Šã€‚</strong></p>
<p><code>@SuppressWarning</code> ä¸æ˜¯ä¸€ä¸ªæ ‡è®°æ³¨è§£ã€‚å®ƒæœ‰ä¸€ä¸ªç±»å‹ä¸º <code>String[]</code> çš„æ•°ç»„æˆå‘˜ï¼Œè¿™ä¸ªæ•°ç»„ä¸­å­˜å‚¨çš„æ˜¯è¦å…³é—­çš„å‘Šè­¦ç±»å‹ã€‚å¯¹äº javac ç¼–è¯‘å™¨æ¥è®²ï¼Œå¯¹ <code>-Xlint</code> é€‰é¡¹æœ‰æ•ˆçš„è­¦å‘Šåä¹ŸåŒæ ·å¯¹ <code>@SuppressWarings</code> æœ‰æ•ˆï¼ŒåŒæ—¶ç¼–è¯‘å™¨ä¼šå¿½ç•¥æ‰æ— æ³•è¯†åˆ«çš„è­¦å‘Šåã€‚</p>
<p><code>@SuppressWarning</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;rawtypes&quot;, &quot;unchecked&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuppressWarningsAnnotationDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SuppressDemo</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> T value;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setValue</span><span class="params">(T <span class="keyword">var</span>)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.value = <span class="keyword">var</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressWarnings(&#123;&quot;deprecation&quot;&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SuppressDemo d = <span class="keyword">new</span> SuppressDemo();</span><br><span class="line">        d.setValue(<span class="string">&quot;å—äº¬&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;åœ°åï¼š&quot;</span> + d.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@SuppressWarnings</code> æ³¨è§£çš„å¸¸è§å‚æ•°å€¼çš„ç®€å•è¯´æ˜ï¼š</p>
<ul>
<li><code>deprecation</code> - ä½¿ç”¨äº†ä¸èµæˆä½¿ç”¨çš„ç±»æˆ–æ–¹æ³•æ—¶çš„è­¦å‘Šï¼›</li>
<li><code>unchecked</code> - æ‰§è¡Œäº†æœªæ£€æŸ¥çš„è½¬æ¢æ—¶çš„è­¦å‘Šï¼Œä¾‹å¦‚å½“ä½¿ç”¨é›†åˆæ—¶æ²¡æœ‰ç”¨æ³›å‹ (Generics) æ¥æŒ‡å®šé›†åˆä¿å­˜çš„ç±»å‹;</li>
<li><code>fallthrough</code> - å½“ Switch ç¨‹åºå—ç›´æ¥é€šå¾€ä¸‹ä¸€ç§æƒ…å†µè€Œæ²¡æœ‰ Break æ—¶çš„è­¦å‘Š;</li>
<li><code>path</code> - åœ¨ç±»è·¯å¾„ã€æºæ–‡ä»¶è·¯å¾„ç­‰ä¸­æœ‰ä¸å­˜åœ¨çš„è·¯å¾„æ—¶çš„è­¦å‘Š;</li>
<li><code>serial</code> - å½“åœ¨å¯åºåˆ—åŒ–çš„ç±»ä¸Šç¼ºå°‘ serialVersionUID å®šä¹‰æ—¶çš„è­¦å‘Š;</li>
<li><code>finally</code> - ä»»ä½• finally å­å¥ä¸èƒ½æ­£å¸¸å®Œæˆæ—¶çš„è­¦å‘Š;</li>
<li><code>all</code> - æ‰€æœ‰çš„è­¦å‘Šã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;uncheck&quot;, &quot;deprecation&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InternalAnnotationDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@SuppressWarnings</span> æ ‡è®°æ¶ˆé™¤å½“å‰ç±»çš„å‘Šè­¦ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&#123;&quot;deprecation&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;call method1&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@Deprecated</span> æ ‡è®°å½“å‰æ–¹æ³•ä¸ºåºŸå¼ƒæ–¹æ³•ï¼Œä¸å»ºè®®ä½¿ç”¨</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="meta">@Deprecated</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;call method2&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Deprecated</span> æ ‡è®°å½“å‰ç±»ä¸ºåºŸå¼ƒç±»ï¼Œä¸å»ºè®®ä½¿ç”¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@Override</span> æ ‡è®°æ˜¾ç¤ºæŒ‡æ˜å½“å‰æ–¹æ³•è¦†å†™äº†çˆ¶ç±»æˆ–æ¥å£çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        A obj = <span class="keyword">new</span> B();</span><br><span class="line">        obj.method1();</span><br><span class="line">        obj.method2();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-SafeVarargs"><a href="#2-4-SafeVarargs" class="headerlink" title="2.4. @SafeVarargs"></a>2.4. @SafeVarargs</h3><p><code>@SafeVarargs</code> åœ¨ JDK7 ä¸­å¼•å…¥ã€‚</p>
<p><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/SafeVarargs.html"><code>@SafeVarargs</code></a> çš„ä½œç”¨æ˜¯ï¼šå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œåœ¨å¯å˜é•¿å‚æ•°ä¸­çš„æ³›å‹æ˜¯ç±»å‹å®‰å…¨çš„ã€‚å¯å˜é•¿å‚æ•°æ˜¯ä½¿ç”¨æ•°ç»„å­˜å‚¨çš„ï¼Œè€Œæ•°ç»„å’Œæ³›å‹ä¸èƒ½å¾ˆå¥½çš„æ··åˆä½¿ç”¨ã€‚</strong></p>
<p>ç®€å•çš„è¯´ï¼Œæ•°ç»„å…ƒç´ çš„æ•°æ®ç±»å‹åœ¨ç¼–è¯‘å’Œè¿è¡Œæ—¶éƒ½æ˜¯ç¡®å®šçš„ï¼Œè€Œæ³›å‹çš„æ•°æ®ç±»å‹åªæœ‰åœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šä¸‹æ¥ã€‚å› æ­¤ï¼Œå½“æŠŠä¸€ä¸ªæ³›å‹å­˜å‚¨åˆ°æ•°ç»„ä¸­æ—¶ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘é˜¶æ®µæ— æ³•ç¡®è®¤æ•°æ®ç±»å‹æ˜¯å¦åŒ¹é…ï¼Œå› æ­¤ä¼šç»™å‡ºè­¦å‘Šä¿¡æ¯ï¼›å³å¦‚æœæ³›å‹çš„çœŸå®æ•°æ®ç±»å‹æ— æ³•å’Œå‚æ•°æ•°ç»„çš„ç±»å‹åŒ¹é…ï¼Œä¼šå¯¼è‡´ <code>ClassCastException</code> å¼‚å¸¸ã€‚</p>
<p><code>@SafeVarargs</code> æ³¨è§£ä½¿ç”¨èŒƒå›´ï¼š</p>
<ul>
<li><code>@SafeVarargs</code> æ³¨è§£å¯ä»¥ç”¨äºæ„é€ æ–¹æ³•ã€‚</li>
<li><code>@SafeVarargs</code> æ³¨è§£å¯ä»¥ç”¨äº <code>static</code> æˆ– <code>final</code> æ–¹æ³•ã€‚</li>
</ul>
<p><code>@SafeVarargs</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SafeVarargsAnnotationDemo</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ­¤æ–¹æ³•å®é™…ä¸Šå¹¶ä¸å®‰å…¨ï¼Œä¸ä½¿ç”¨æ­¤æ³¨è§£ï¼Œç¼–è¯‘æ—¶ä¼šå‘Šè­¦</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SafeVarargs</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">wrongMethod</span><span class="params">(List&lt;String&gt;... stringLists)</span> </span>&#123;</span><br><span class="line">        Object[] array = stringLists;</span><br><span class="line">        List&lt;Integer&gt; tmpList = Arrays.asList(<span class="number">42</span>);</span><br><span class="line">        array[<span class="number">0</span>] = tmpList; <span class="comment">// è¯­æ³•é”™è¯¯ï¼Œä½†æ˜¯ç¼–è¯‘ä¸å‘Šè­¦</span></span><br><span class="line">        String s = stringLists[<span class="number">0</span>].get(<span class="number">0</span>); <span class="comment">// è¿è¡Œæ—¶æŠ¥ ClassCastException</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list2 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line"></span><br><span class="line">        wrongMethod(list, list2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ï¼Œå¦‚æœä¸ä½¿ç”¨ <code>@SafeVarargs</code> ï¼Œç¼–è¯‘æ—¶ä¼šå‘Šè­¦</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[WARNING] /D:/Codes/ZP/Java/javacore/codes/basics/src/main/java/io/github/dunwu/javacore/annotation/SafeVarargsAnnotationDemo.java: æŸäº›è¾“å…¥æ–‡ä»¶ä½¿ç”¨äº†æœªç»æ£€æŸ¥æˆ–ä¸å®‰å…¨çš„æ“ä½œã€‚</span><br><span class="line">[WARNING] /D:/Codes/ZP/Java/javacore/codes/basics/src/main/java/io/github/dunwu/javacore/annotation/SafeVarargsAnnotationDemo.java: æœ‰å…³è¯¦ç»†ä¿¡æ¯, è¯·ä½¿ç”¨ -Xlint:unchecked é‡æ–°ç¼–è¯‘ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="2-5-FunctionalInterface"><a href="#2-5-FunctionalInterface" class="headerlink" title="2.5. @FunctionalInterface"></a>2.5. @FunctionalInterface</h3><p><code>@FunctionalInterface</code> åœ¨ JDK8 å¼•å…¥ã€‚</p>
<p><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html"><code>@FunctionalInterface</code></a> ç”¨äºæŒ‡ç¤ºè¢«ä¿®é¥°çš„æ¥å£æ˜¯å‡½æ•°å¼æ¥å£ã€‚</strong></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸€ä¸ªæ¥å£ç¬¦åˆâ€å‡½æ•°å¼æ¥å£â€å®šä¹‰ï¼Œä¸åŠ  <code>@FunctionalInterface</code> ä¹Ÿæ²¡å…³ç³»ï¼›ä½†å¦‚æœç¼–å†™çš„ä¸æ˜¯å‡½æ•°å¼æ¥å£ï¼Œå´ä½¿ç”¨ <code>@FunctionInterface</code>ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p>
<p>ä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ï¼Ÿ</p>
<p><strong>å‡½æ•°å¼æ¥å£(Functional Interface)å°±æ˜¯ä¸€ä¸ªæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ªéæŠ½è±¡æ–¹æ³•çš„æ¥å£</strong>ã€‚å‡½æ•°å¼æ¥å£å¯ä»¥è¢«éšå¼è½¬æ¢ä¸º lambda è¡¨è¾¾å¼ã€‚</p>
<p>å‡½æ•°å¼æ¥å£çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ¥å£æœ‰ä¸”åªèƒ½æœ‰ä¸ªä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼ˆæŠ½è±¡æ–¹æ³•åªæœ‰æ–¹æ³•å®šä¹‰ï¼Œæ²¡æœ‰æ–¹æ³•ä½“ï¼‰ã€‚</li>
<li>ä¸èƒ½åœ¨æ¥å£ä¸­è¦†å†™ Object ç±»ä¸­çš„ public æ–¹æ³•ï¼ˆå†™äº†ç¼–è¯‘å™¨ä¹Ÿä¼šæŠ¥é”™ï¼‰ã€‚</li>
<li>å…è®¸æœ‰ default å®ç°æ–¹æ³•ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FunctionalInterfaceAnnotationDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@FunctionalInterface</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Func1</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">printMessage</span><span class="params">(T message)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@FunctionalInterface</span> ä¿®é¥°çš„æ¥å£ä¸­å®šä¹‰ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œç¼–è¯‘æ—¶ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">/*@FunctionalInterface</span></span><br><span class="line"><span class="comment">    public interface Func2&lt;T&gt; &#123;</span></span><br><span class="line"><span class="comment">        void printMessage(T message);</span></span><br><span class="line"><span class="comment">        void printMessage2(T message);</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Func1 func1 = message -&gt; System.out.println(message);</span><br><span class="line">        func1.printMessage(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">        func1.printMessage(<span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-å…ƒæ³¨è§£"><a href="#3-å…ƒæ³¨è§£" class="headerlink" title="3. å…ƒæ³¨è§£"></a>3. å…ƒæ³¨è§£</h2><p>JDK ä¸­è™½ç„¶å†…ç½®äº†å‡ ä¸ªæ³¨è§£ï¼Œä½†è¿™è¿œè¿œä¸èƒ½æ»¡è¶³å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„åƒå˜ä¸‡åŒ–çš„éœ€æ±‚ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰æ³¨è§£ï¼Œè€Œè¿™å°±éœ€è¦ç”¨åˆ°å…ƒæ³¨è§£ã€‚</p>
<p><strong>å…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯ç”¨äºå®šä¹‰å…¶å®ƒçš„æ³¨è§£</strong>ã€‚</p>
<p>Java ä¸­æä¾›äº†ä»¥ä¸‹å…ƒæ³¨è§£ç±»å‹ï¼š</p>
<ul>
<li><code>@Retention</code></li>
<li><code>@Target</code></li>
<li><code>@Documented</code></li>
<li><code>@Inherited</code>ï¼ˆJDK8 å¼•å…¥ï¼‰</li>
<li><code>@Repeatable</code>ï¼ˆJDK8 å¼•å…¥ï¼‰</li>
</ul>
<p>è¿™äº›ç±»å‹å’Œå®ƒä»¬æ‰€æ”¯æŒçš„ç±»åœ¨ <code>java.lang.annotation</code> åŒ…ä¸­å¯ä»¥æ‰¾åˆ°ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹æ¯ä¸ªå…ƒæ³¨è§£çš„ä½œç”¨å’Œç›¸åº”åˆ†å‚æ•°çš„ä½¿ç”¨è¯´æ˜ã€‚</p>
<h3 id="3-1-Retention"><a href="#3-1-Retention" class="headerlink" title="3.1. @Retention"></a>3.1. @Retention</h3><p><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html"><code>@Retention</code></a> æŒ‡æ˜äº†æ³¨è§£çš„ä¿ç•™çº§åˆ«ã€‚</strong></p>
<p><code>@Retention</code> æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.ANNOTATION_TYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Retention &#123;</span><br><span class="line">    <span class="function">RetentionPolicy <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>RetentionPolicy</code> æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œå®ƒå®šä¹‰äº†è¢« <code>@Retention</code> ä¿®é¥°çš„æ³¨è§£æ‰€æ”¯æŒçš„ä¿ç•™çº§åˆ«ï¼š</p>
<ul>
<li><code>RetentionPolicy.SOURCE</code> - æ ‡è®°çš„æ³¨è§£ä»…åœ¨æºæ–‡ä»¶ä¸­æœ‰æ•ˆï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥ã€‚</li>
<li><code>RetentionPolicy.CLASS</code> - æ ‡è®°çš„æ³¨è§£åœ¨ class æ–‡ä»¶ä¸­æœ‰æ•ˆï¼ŒJVM ä¼šå¿½ç•¥ã€‚</li>
<li><code>RetentionPolicy.RUNTIME</code> - æ ‡è®°çš„æ³¨è§£åœ¨è¿è¡Œæ—¶æœ‰æ•ˆã€‚</li>
</ul>
<p><code>@Retention</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Column &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> &quot;fieldName&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">setFuncName</span><span class="params">()</span> <span class="keyword">default</span> &quot;setField&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getFuncName</span><span class="params">()</span> <span class="keyword">default</span> &quot;getField&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">defaultDBValue</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">false</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-Documented"><a href="#3-2-Documented" class="headerlink" title="3.2. @Documented"></a>3.2. @Documented</h3><p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html"><code>@Documented</code></a> è¡¨ç¤ºæ— è®ºä½•æ—¶ä½¿ç”¨æŒ‡å®šçš„æ³¨è§£ï¼Œéƒ½åº”ä½¿ç”¨ Javadocï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæ³¨é‡Šä¸åŒ…å«åœ¨ Javadoc ä¸­ï¼‰ã€‚æ›´å¤šå†…å®¹å¯ä»¥å‚è€ƒï¼š<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/javadoc/index.html">Javadoc tools page</a>ã€‚</p>
<p><code>@Documented</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Column &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> &quot;fieldName&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">setFuncName</span><span class="params">()</span> <span class="keyword">default</span> &quot;setField&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getFuncName</span><span class="params">()</span> <span class="keyword">default</span> &quot;getField&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">defaultDBValue</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">false</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-Target"><a href="#3-3-Target" class="headerlink" title="3.3. @Target"></a>3.3. @Target</h3><p><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html"><code>@Target</code></a> æŒ‡å®šæ³¨è§£å¯ä»¥ä¿®é¥°çš„å…ƒç´ ç±»å‹ã€‚</strong></p>
<p><code>@Target</code> æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.ANNOTATION_TYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Target &#123;</span><br><span class="line">    ElementType[] value();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>ElementType</code> æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œå®ƒå®šä¹‰äº†è¢« <code>@Target</code> ä¿®é¥°çš„æ³¨è§£å¯ä»¥åº”ç”¨çš„èŒƒå›´ï¼š</p>
<ul>
<li><code>ElementType.ANNOTATION_TYPE</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºæ³¨è§£ç±»å‹ã€‚</li>
<li><code>ElementType.CONSTRUCTOR</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºæ„é€ å‡½æ•°ã€‚</li>
<li><code>ElementType.FIELD</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºå­—æ®µæˆ–å±æ€§ã€‚</li>
<li><code>ElementType.LOCAL_VARIABLE</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºå±€éƒ¨å˜é‡ã€‚</li>
<li><code>ElementType.METHOD</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºæ–¹æ³•ã€‚</li>
<li><code>ElementType.PACKAGE</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºåŒ…å£°æ˜ã€‚</li>
<li><code>ElementType.PARAMETER</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºæ–¹æ³•çš„å‚æ•°ã€‚</li>
<li><code>ElementType.TYPE</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºç±»çš„ä»»ä½•å…ƒç´ ã€‚</li>
</ul>
<p><code>@Target</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Table &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ•°æ®è¡¨åç§°æ³¨è§£ï¼Œé»˜è®¤å€¼ä¸ºç±»åç§°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">tableName</span><span class="params">()</span> <span class="keyword">default</span> &quot;className&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> NoDBColumn &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-4-Inherited"><a href="#3-4-Inherited" class="headerlink" title="3.4. @Inherited"></a>3.4. @Inherited</h3><p><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html"><code>@Inherited</code></a> è¡¨ç¤ºæ³¨è§£ç±»å‹å¯ä»¥è¢«ç»§æ‰¿ï¼ˆé»˜è®¤æƒ…å†µä¸‹ä¸æ˜¯è¿™æ ·ï¼‰</strong>ã€‚</p>
<p>è¡¨ç¤ºè‡ªåŠ¨ç»§æ‰¿æ³¨è§£ç±»å‹ã€‚ å¦‚æœæ³¨è§£ç±»å‹å£°æ˜ä¸­å­˜åœ¨ <code>@Inherited</code> å…ƒæ³¨è§£ï¼Œåˆ™æ³¨è§£æ‰€ä¿®é¥°ç±»çš„æ‰€æœ‰å­ç±»éƒ½å°†ä¼šç»§æ‰¿æ­¤æ³¨è§£ã€‚</p>
<blockquote>
<p>ğŸ”” æ³¨æ„ï¼š<code>@Inherited</code> æ³¨è§£ç±»å‹æ˜¯è¢«æ ‡æ³¨è¿‡çš„ç±»çš„å­ç±»æ‰€ç»§æ‰¿ã€‚ç±»å¹¶ä¸ä»å®ƒæ‰€å®ç°çš„æ¥å£ç»§æ‰¿æ³¨è§£ï¼Œæ–¹æ³•å¹¶ä¸ä»å®ƒæ‰€è¦†å†™çš„æ–¹æ³•ç»§æ‰¿æ³¨è§£ã€‚</p>
<p>æ­¤å¤–ï¼Œå½“ <code>@Inherited</code> ç±»å‹æ ‡æ³¨çš„æ³¨è§£çš„ <code>@Retention</code> æ˜¯ <code>RetentionPolicy.RUNTIME</code>ï¼Œåˆ™åå°„ API å¢å¼ºäº†è¿™ç§ç»§æ‰¿æ€§ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ <code>java.lang.reflect</code> å»æŸ¥è¯¢ä¸€ä¸ª <code>@Inherited</code> ç±»å‹çš„æ³¨è§£æ—¶ï¼Œåå°„ä»£ç æ£€æŸ¥å°†å±•å¼€å·¥ä½œï¼šæ£€æŸ¥ç±»å’Œå…¶çˆ¶ç±»ï¼Œç›´åˆ°å‘ç°æŒ‡å®šçš„æ³¨è§£ç±»å‹è¢«å‘ç°ï¼Œæˆ–è€…åˆ°è¾¾ç±»ç»§æ‰¿ç»“æ„çš„é¡¶å±‚ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Greeting &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">FontColor</span></span>&#123; BULE,RED,GREEN&#125;;</span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">FontColor <span class="title">fontColor</span><span class="params">()</span> <span class="keyword">default</span> FontColor.GREEN</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-5-Repeatable"><a href="#3-5-Repeatable" class="headerlink" title="3.5. @Repeatable"></a>3.5. @Repeatable</h3><p><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Repeatable.html"><code>@Repeatable</code></a> è¡¨ç¤ºæ³¨è§£å¯ä»¥é‡å¤ä½¿ç”¨ã€‚</strong></p>
<p>ä»¥ Spring <code>@Scheduled</code> ä¸ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD, ElementType.ANNOTATION_TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Schedules &#123;</span><br><span class="line">	Scheduled[] value();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD, ElementType.ANNOTATION_TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Repeatable(Schedules.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Scheduled &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åº”ç”¨ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TaskRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Scheduled(&quot;0 0/15 * * * ?&quot;)</span></span><br><span class="line">    <span class="meta">@Scheduled(&quot;0 0 12 * ?&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">task1</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-è‡ªå®šä¹‰æ³¨è§£"><a href="#4-è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="4. è‡ªå®šä¹‰æ³¨è§£"></a>4. è‡ªå®šä¹‰æ³¨è§£</h2><p>ä½¿ç”¨ <code>@interface</code> è‡ªå®šä¹‰æ³¨è§£æ—¶ï¼Œè‡ªåŠ¨ç»§æ‰¿äº† <code>java.lang.annotation.Annotation</code> æ¥å£ï¼Œç”±ç¼–è¯‘ç¨‹åºè‡ªåŠ¨å®Œæˆå…¶ä»–ç»†èŠ‚ã€‚åœ¨å®šä¹‰æ³¨è§£æ—¶ï¼Œä¸èƒ½ç»§æ‰¿å…¶ä»–çš„æ³¨è§£æˆ–æ¥å£ã€‚<code>@interface</code> ç”¨æ¥å£°æ˜ä¸€ä¸ªæ³¨è§£ï¼Œå…¶ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯å£°æ˜äº†ä¸€ä¸ªé…ç½®å‚æ•°ã€‚æ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°ï¼Œè¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹ï¼ˆè¿”å›å€¼ç±»å‹åªèƒ½æ˜¯åŸºæœ¬ç±»å‹ã€Classã€Stringã€enumï¼‰ã€‚å¯ä»¥é€šè¿‡ <code>default</code> æ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘ä¼šé€šè¿‡å®ç°ä¸€ä¸ªåä¸º <code>RegexValid</code> çš„æ­£åˆ™æ ¡éªŒæ³¨è§£å·¥å…·æ¥å±•ç¤ºè‡ªå®šä¹‰æ³¨è§£çš„å…¨æ­¥éª¤ã€‚</p>
<h3 id="4-1-æ³¨è§£çš„å®šä¹‰"><a href="#4-1-æ³¨è§£çš„å®šä¹‰" class="headerlink" title="4.1. æ³¨è§£çš„å®šä¹‰"></a>4.1. æ³¨è§£çš„å®šä¹‰</h3><p>æ³¨è§£çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> æ³¨è§£å &#123;å®šä¹‰ä½“&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD, ElementType.PARAMETER&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> RegexValid &#123;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼š</p>
<p>é€šè¿‡ä¸Šä¸€èŠ‚å¯¹äºå…ƒæ³¨è§£ <a href="#target"><code>@Target</code></a>ã€<a href="#retention"><code>@Retention</code></a>ã€<a href="#documented"><code>@Documented</code></a> çš„è¯´æ˜ï¼Œè¿™é‡Œå°±å¾ˆå®¹æ˜“ç†è§£äº†ã€‚</p>
<ul>
<li>ä¸Šé¢çš„ä»£ç ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º <code>@RegexValid</code> çš„æ³¨è§£ã€‚</li>
<li><code>@Documented</code> è¡¨ç¤º <code>@RegexValid</code> åº”è¯¥ä½¿ç”¨ javadocã€‚</li>
<li><code>@Target(&#123;ElementType.FIELD, ElementType.PARAMETER&#125;)</code> è¡¨ç¤º <code>@RegexValid</code> å¯ä»¥åœ¨ç±»æˆå‘˜æˆ–æ–¹æ³•å‚æ•°ä¸Šä¿®é¥°ã€‚</li>
<li>@Retention(RetentionPolicy.RUNTIME) è¡¨ç¤º <code>@RegexValid</code> åœ¨è¿è¡Œæ—¶æœ‰æ•ˆã€‚</li>
</ul>
</blockquote>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å·²ç»å®šä¹‰äº†ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å±æ€§çš„æ³¨è§£ï¼Œå¦‚æœåˆ°æ­¤ä¸ºæ­¢ï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ªæ ‡è®°æ³¨è§£ã€‚ä½œä¸ºæ­£åˆ™å·¥å…·ï¼Œæ²¡æœ‰å±æ€§å¯ä»€ä¹ˆä¹Ÿåšä¸äº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¸ºå®ƒæ·»åŠ æ³¨è§£å±æ€§ã€‚</p>
<h3 id="4-2-æ³¨è§£å±æ€§"><a href="#4-2-æ³¨è§£å±æ€§" class="headerlink" title="4.2. æ³¨è§£å±æ€§"></a>4.2. æ³¨è§£å±æ€§</h3><p>æ³¨è§£å±æ€§çš„è¯­æ³•å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[è®¿é—®çº§åˆ«ä¿®é¥°ç¬¦] [æ•°æ®ç±»å‹] åç§°() default é»˜è®¤å€¼;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦å®šä¹‰åœ¨æ³¨è§£ä¸­å®šä¹‰ä¸€ä¸ªåä¸º value çš„å­—ç¬¦ä¸²å±æ€§ï¼Œå…¶é»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œè®¿é—®çº§åˆ«ä¸ºé»˜è®¤çº§åˆ«ï¼Œé‚£ä¹ˆåº”è¯¥å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">String value() default &quot;&quot;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ”” æ³¨æ„ï¼š**åœ¨æ³¨è§£ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰å±æ€§æ—¶ï¼Œå±æ€§ååé¢éœ€è¦åŠ  <code>()</code>**ã€‚</p>
</blockquote>
<p>å®šä¹‰æ³¨è§£å±æ€§æœ‰ä»¥ä¸‹è¦ç‚¹ï¼š</p>
<ul>
<li><p><strong>æ³¨è§£å±æ€§åªèƒ½ä½¿ç”¨ <code>public</code> æˆ–é»˜è®¤è®¿é—®çº§åˆ«ï¼ˆå³ä¸æŒ‡å®šè®¿é—®çº§åˆ«ä¿®é¥°ç¬¦ï¼‰ä¿®é¥°</strong>ã€‚</p>
</li>
<li><p><strong>æ³¨è§£å±æ€§çš„æ•°æ®ç±»å‹æœ‰é™åˆ¶è¦æ±‚</strong>ã€‚æ”¯æŒçš„æ•°æ®ç±»å‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ‰€æœ‰åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆbyteã€charã€shortã€intã€longã€floatã€doubleã€booleanï¼‰</li>
<li>String ç±»å‹</li>
<li>Class ç±»</li>
<li>enum ç±»å‹</li>
<li>Annotation ç±»å‹</li>
<li>ä»¥ä¸Šæ‰€æœ‰ç±»å‹çš„æ•°ç»„</li>
</ul>
</li>
<li><p><strong>æ³¨è§£å±æ€§å¿…é¡»æœ‰ç¡®å®šçš„å€¼ï¼Œå»ºè®®æŒ‡å®šé»˜è®¤å€¼</strong>ã€‚æ³¨è§£å±æ€§åªèƒ½é€šè¿‡æŒ‡å®šé»˜è®¤å€¼æˆ–ä½¿ç”¨æ³¨è§£æ—¶æŒ‡å®šå±æ€§å€¼ï¼Œç›¸è¾ƒä¹‹ä¸‹ï¼ŒæŒ‡å®šé»˜è®¤å€¼çš„æ–¹å¼æ›´ä¸ºå¯é ã€‚æ³¨è§£å±æ€§å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸å¯ä»¥ä¸º nullã€‚è¿™ä¸ªçº¦æŸä½¿å¾—æ³¨è§£å¤„ç†å™¨å¾ˆéš¾åˆ¤æ–­æ³¨è§£å±æ€§æ˜¯é»˜è®¤å€¼ï¼Œæˆ–æ˜¯ä½¿ç”¨æ³¨è§£æ—¶æ‰€æŒ‡å®šçš„å±æ€§å€¼ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è®¾ç½®é»˜è®¤å€¼æ—¶ï¼Œä¸€èˆ¬ä¼šå®šä¹‰ä¸€äº›ç‰¹æ®Šçš„å€¼ï¼Œä¾‹å¦‚ç©ºå­—ç¬¦ä¸²æˆ–è€…è´Ÿæ•°ã€‚</p>
</li>
<li><p>å¦‚æœæ³¨è§£ä¸­åªæœ‰ä¸€ä¸ªå±æ€§å€¼ï¼Œæœ€å¥½å°†å…¶å‘½åä¸º valueã€‚å› ä¸ºï¼ŒæŒ‡å®šå±æ€§åä¸º valueï¼Œåœ¨ä½¿ç”¨æ³¨è§£æ—¶ï¼ŒæŒ‡å®š value çš„å€¼å¯ä»¥ä¸æŒ‡å®šå±æ€§åç§°ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸¤ç§æ–¹å¼æ•ˆæœç›¸åŒ</span></span><br><span class="line"><span class="meta">@RegexValid(&quot;^((\\+)?86\\s*)?((13[0-9])|(15([0-3]|[5-9]))|(18[0,2,5-9]))\\d&#123;8&#125;$&quot;)</span></span><br><span class="line"><span class="meta">@RegexValid(value = &quot;^((\\+)?86\\s*)?((13[0-9])|(15([0-3]|[5-9]))|(18[0,2,5-9]))\\d&#123;8&#125;$&quot;)</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<p>äº†è§£äº†æ³¨è§£å±æ€§çš„å®šä¹‰è¦ç‚¹ï¼Œè®©æˆ‘ä»¬æ¥ä¸º <code>@RegexValid</code> æ³¨è§£å®šä¹‰å‡ ä¸ªå±æ€§ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD, ElementType.PARAMETER&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> RegexValid &#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Policy</span> </span>&#123;</span><br><span class="line">        <span class="comment">// @formatter:off</span></span><br><span class="line">        EMPTY(<span class="keyword">null</span>),</span><br><span class="line">        DATE(<span class="string">&quot;^(?:(?!0000)[0-9]&#123;4&#125;([-/.]?)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1&quot;</span></span><br><span class="line">            + <span class="string">&quot;(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]&#123;2&#125;(?:0[48]|[2468][048]|[13579][26])|&quot;</span></span><br><span class="line">            + <span class="string">&quot;(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\\2(?:29))$&quot;</span>),</span><br><span class="line">        MAIL(<span class="string">&quot;^[A-Za-z0-9](([_\\.\\-]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\\.\\-]?[a-zA-Z0-9]+)*)\\.([A-Za-z]&#123;2,&#125;)$&quot;</span>);</span><br><span class="line">        <span class="comment">// @formatter:on</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> String policy;</span><br><span class="line"></span><br><span class="line">        Policy(String policy) &#123;</span><br><span class="line">            <span class="keyword">this</span>.policy = policy;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getPolicy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> policy;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">    <span class="function">Policy <span class="title">policy</span><span class="params">()</span> <span class="keyword">default</span> Policy.EMPTY</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼š</p>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªæ³¨è§£å±æ€§ï¼š<code>String</code> ç±»å‹çš„ value å±æ€§å’Œ <code>Policy</code> æšä¸¾ç±»å‹çš„ policy å±æ€§ã€‚<code>Policy</code> æšä¸¾ä¸­å®šä¹‰äº†å‡ ä¸ªé»˜è®¤çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™æ˜¯ä¸ºäº†ç›´æ¥ä½¿ç”¨è¿™å‡ ä¸ªå¸¸ç”¨è¡¨è¾¾å¼å»æ­£åˆ™æ ¡éªŒã€‚è€ƒè™‘åˆ°ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è‡ªå·±ä¼ å…¥ä¸€äº›è‡ªå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼å»æ ¡éªŒå…¶ä»–åœºæ™¯ï¼Œæ‰€ä»¥å®šä¹‰äº† value å±æ€§ï¼Œå…è®¸ä½¿ç”¨è€…ä¼ å…¥æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
</blockquote>
<p>è‡³æ­¤ï¼Œ<code>@RegexValid</code> çš„å£°æ˜å·²ç»ç»“æŸã€‚ä½†æ˜¯ï¼Œç¨‹åºä»ä¸çŸ¥é“å¦‚ä½•å¤„ç† <code>@RegexValid</code> è¿™ä¸ªæ³¨è§£ã€‚æˆ‘ä»¬è¿˜éœ€è¦å®šä¹‰æ³¨è§£å¤„ç†å™¨ã€‚</p>
<h3 id="4-3-æ³¨è§£å¤„ç†å™¨"><a href="#4-3-æ³¨è§£å¤„ç†å™¨" class="headerlink" title="4.3. æ³¨è§£å¤„ç†å™¨"></a>4.3. æ³¨è§£å¤„ç†å™¨</h3><p>å¦‚æœæ²¡æœ‰ç”¨æ¥è¯»å–æ³¨è§£çš„æ–¹æ³•å’Œå·¥ä½œï¼Œé‚£ä¹ˆæ³¨è§£ä¹Ÿå°±ä¸ä¼šæ¯”æ³¨é‡Šæ›´æœ‰ç”¨å¤„äº†ã€‚ä½¿ç”¨æ³¨è§£çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†å°±æ˜¯åˆ›å»ºäºä½¿ç”¨æ³¨è§£å¤„ç†å™¨ã€‚JDK5 æ‰©å±•äº†åå°„æœºåˆ¶çš„ APIï¼Œä»¥å¸®åŠ©ç¨‹åºå‘˜å¿«é€Ÿçš„æ„é€ è‡ªå®šä¹‰æ³¨è§£å¤„ç†å™¨ã€‚</p>
<p><strong><code>java.lang.annotation.Annotation</code> æ˜¯ä¸€ä¸ªæ¥å£ï¼Œç¨‹åºå¯ä»¥é€šè¿‡åå°„æ¥è·å–æŒ‡å®šç¨‹åºå…ƒç´ çš„æ³¨è§£å¯¹è±¡ï¼Œç„¶åé€šè¿‡æ³¨è§£å¯¹è±¡æ¥è·å–æ³¨è§£é‡Œé¢çš„å…ƒæ•°æ®</strong>ã€‚</p>
<p><code>Annotation</code> æ¥å£æºç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Annotation</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">toString</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    Class&lt;? extends Annotation&gt; annotationType();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™¤æ­¤ä¹‹å¤–ï¼ŒJava ä¸­æ”¯æŒ<strong>æ³¨è§£å¤„ç†å™¨æ¥å£ <code>java.lang.reflect.AnnotatedElement</code></strong> ï¼Œè¯¥æ¥å£ä»£è¡¨ç¨‹åºä¸­å¯ä»¥æ¥å—æ³¨è§£çš„ç¨‹åºå…ƒç´ ï¼Œè¯¥æ¥å£ä¸»è¦æœ‰å¦‚ä¸‹å‡ ä¸ªå®ç°ç±»ï¼š</p>
<ul>
<li><code>Class</code> - ç±»å®šä¹‰</li>
<li><code>Constructor</code> - æ„é€ å™¨å®šä¹‰</li>
<li><code>Field</code> - ç´¯çš„æˆå‘˜å˜é‡å®šä¹‰</li>
<li><code>Method</code> - ç±»çš„æ–¹æ³•å®šä¹‰</li>
<li><code>Package</code> - ç±»çš„åŒ…å®šä¹‰</li>
</ul>
<p><code>java.lang.reflect</code> åŒ…ä¸‹ä¸»è¦åŒ…å«ä¸€äº›å®ç°åå°„åŠŸèƒ½çš„å·¥å…·ç±»ã€‚å®é™…ä¸Šï¼Œ<code>java.lang.reflect</code> åŒ…æ‰€æœ‰æä¾›çš„åå°„ API æ‰©å……äº†è¯»å–è¿è¡Œæ—¶æ³¨è§£ä¿¡æ¯çš„èƒ½åŠ›ã€‚å½“ä¸€ä¸ªæ³¨è§£ç±»å‹è¢«å®šä¹‰ä¸ºè¿è¡Œæ—¶çš„æ³¨è§£åï¼Œè¯¥æ³¨è§£æ‰èƒ½æ˜¯è¿è¡Œæ—¶å¯è§ï¼Œå½“ class æ–‡ä»¶è¢«è£…è½½æ—¶è¢«ä¿å­˜åœ¨ class æ–‡ä»¶ä¸­çš„æ³¨è§£æ‰ä¼šè¢«è™šæ‹Ÿæœºè¯»å–ã€‚<br><code>AnnotatedElement</code> æ¥å£æ˜¯æ‰€æœ‰ç¨‹åºå…ƒç´ ï¼ˆClassã€Method å’Œ Constructorï¼‰çš„çˆ¶æ¥å£ï¼Œæ‰€ä»¥ç¨‹åºé€šè¿‡åå°„è·å–äº†æŸä¸ªç±»çš„ <code>AnnotatedElement</code> å¯¹è±¡ä¹‹åï¼Œç¨‹åºå°±å¯ä»¥è°ƒç”¨è¯¥å¯¹è±¡çš„å¦‚ä¸‹å››ä¸ªä¸ªæ–¹æ³•æ¥è®¿é—®æ³¨è§£ä¿¡æ¯ï¼š</p>
<ul>
<li><code>getAnnotation</code> - è¿”å›è¯¥ç¨‹åºå…ƒç´ ä¸Šå­˜åœ¨çš„ã€æŒ‡å®šç±»å‹çš„æ³¨è§£ï¼Œå¦‚æœè¯¥ç±»å‹æ³¨è§£ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› nullã€‚</li>
<li><code>getAnnotations</code> - è¿”å›è¯¥ç¨‹åºå…ƒç´ ä¸Šå­˜åœ¨çš„æ‰€æœ‰æ³¨è§£ã€‚</li>
<li><code>isAnnotationPresent</code> - åˆ¤æ–­è¯¥ç¨‹åºå…ƒç´ ä¸Šæ˜¯å¦åŒ…å«æŒ‡å®šç±»å‹çš„æ³¨è§£ï¼Œå­˜åœ¨åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</li>
<li><code>getDeclaredAnnotations</code> - è¿”å›ç›´æ¥å­˜åœ¨äºæ­¤å…ƒç´ ä¸Šçš„æ‰€æœ‰æ³¨é‡Šã€‚ä¸æ­¤æ¥å£ä¸­çš„å…¶ä»–æ–¹æ³•ä¸åŒï¼Œè¯¥æ–¹æ³•å°†å¿½ç•¥ç»§æ‰¿çš„æ³¨é‡Šã€‚ï¼ˆå¦‚æœæ²¡æœ‰æ³¨é‡Šç›´æ¥å­˜åœ¨äºæ­¤å…ƒç´ ä¸Šï¼Œåˆ™è¿”å›é•¿åº¦ä¸ºé›¶çš„ä¸€ä¸ªæ•°ç»„ã€‚ï¼‰è¯¥æ–¹æ³•çš„è°ƒç”¨è€…å¯ä»¥éšæ„ä¿®æ”¹è¿”å›çš„æ•°ç»„ï¼›è¿™ä¸ä¼šå¯¹å…¶ä»–è°ƒç”¨è€…è¿”å›çš„æ•°ç»„äº§ç”Ÿä»»ä½•å½±å“ã€‚</li>
</ul>
<p>äº†è§£äº†ä»¥ä¸Šå†…å®¹ï¼Œè®©æˆ‘ä»¬æ¥å®ç° <code>@RegexValid</code> çš„æ³¨è§£å¤„ç†å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RegexValidUtil</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> result = <span class="keyword">true</span>;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        Field[] fields = obj.getClass().getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­æˆå‘˜æ˜¯å¦è¢« @RegexValid æ³¨è§£æ‰€ä¿®é¥°</span></span><br><span class="line">            <span class="keyword">if</span> (field.isAnnotationPresent(RegexValid.class)) &#123;</span><br><span class="line">                RegexValid valid = field.getAnnotation(RegexValid.class);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å¦‚æœ value ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œè¯´æ˜æ²¡æœ‰æ³¨å…¥è‡ªå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ”¹ç”¨ policy å±æ€§</span></span><br><span class="line">                String value = valid.value();</span><br><span class="line">                <span class="keyword">if</span> (<span class="string">&quot;&quot;</span>.equals(value)) &#123;</span><br><span class="line">                    RegexValid.Policy policy = valid.policy();</span><br><span class="line">                    value = policy.getPolicy();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// é€šè¿‡è®¾ç½® setAccessible(true) æ¥è®¿é—®ç§æœ‰æˆå‘˜</span></span><br><span class="line">                field.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">                Object fieldObj = <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fieldObj = field.get(obj);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (fieldObj == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    sb.append(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">                        .append(String.format(<span class="string">&quot;%s ç±»ä¸­çš„ %s å­—æ®µä¸èƒ½ä¸ºç©ºï¼&quot;</span>, obj.getClass().getName(), field.getName()));</span><br><span class="line">                    result = <span class="keyword">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (fieldObj <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">                        String text = (String) fieldObj;</span><br><span class="line">                        Pattern p = Pattern.compile(value);</span><br><span class="line">                        Matcher m = p.matcher(text);</span><br><span class="line">                        result = m.matches();</span><br><span class="line">                        <span class="keyword">if</span> (!result) &#123;</span><br><span class="line">                            sb.append(<span class="string">&quot;\n&quot;</span>).append(String.format(<span class="string">&quot;%s ä¸æ˜¯åˆæ³•çš„ %s ï¼&quot;</span>, text, field.getName()));</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        sb.append(<span class="string">&quot;\n&quot;</span>).append(</span><br><span class="line">                            String.format(<span class="string">&quot;%s ç±»ä¸­çš„ %s å­—æ®µä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸èƒ½ä½¿ç”¨æ­¤æ³¨è§£æ ¡éªŒï¼&quot;</span>, obj.getClass().getName(), field.getName()));</span><br><span class="line">                        result = <span class="keyword">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (sb.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(sb.toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼š</p>
<p>ä»¥ä¸Šç¤ºä¾‹ä¸­çš„æ³¨è§£å¤„ç†å™¨ï¼Œæ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>é€šè¿‡ getDeclaredFields åå°„æ–¹æ³•è·å–ä¼ å…¥å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜ã€‚</li>
<li>éå†æˆå‘˜ï¼Œä½¿ç”¨ isAnnotationPresent åˆ¤æ–­æˆå‘˜æ˜¯å¦è¢«æŒ‡å®šæ³¨è§£æ‰€ä¿®é¥°ï¼Œå¦‚æœä¸æ˜¯ï¼Œç›´æ¥è·³è¿‡ã€‚</li>
<li>å¦‚æœæˆå‘˜è¢«æ³¨è§£æ‰€ä¿®é¥°ï¼Œé€šè¿‡ <code>RegexValid valid = field.getAnnotation(RegexValid.class);</code> è¿™æ ·çš„å½¢å¼è·å–ï¼Œæ³¨è§£å®ä¾‹åŒ–å¯¹è±¡ï¼Œç„¶åï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>valid.value()</code> æˆ– <code>valid.policy()</code> è¿™æ ·çš„å½¢å¼è·å–æ³¨è§£ä¸­è®¾å®šçš„å±æ€§å€¼ã€‚</li>
<li>æ ¹æ®å±æ€§å€¼ï¼Œè¿›è¡Œé€»è¾‘å¤„ç†ã€‚</li>
</ol>
</blockquote>
<h3 id="4-4-ä½¿ç”¨æ³¨è§£"><a href="#4-4-ä½¿ç”¨æ³¨è§£" class="headerlink" title="4.4. ä½¿ç”¨æ³¨è§£"></a>4.4. ä½¿ç”¨æ³¨è§£</h3><p>å®Œæˆäº†ä»¥ä¸Šå·¥ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£äº†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RegexValidDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line">        <span class="meta">@RegexValid(policy = RegexValid.Policy.DATE)</span></span><br><span class="line">        <span class="keyword">private</span> String date;</span><br><span class="line">        <span class="meta">@RegexValid(policy = RegexValid.Policy.MAIL)</span></span><br><span class="line">        <span class="keyword">private</span> String mail;</span><br><span class="line">        <span class="meta">@RegexValid(&quot;^((\\+)?86\\s*)?((13[0-9])|(15([0-3]|[5-9]))|(18[0,2,5-9]))\\d&#123;8&#125;$&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String name, String date, String mail, String phone)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">            <span class="keyword">this</span>.date = date;</span><br><span class="line">            <span class="keyword">this</span>.mail = mail;</span><br><span class="line">            <span class="keyword">this</span>.phone = phone;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> + <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&quot;, date=&#x27;&quot;</span> + date + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&quot;, mail=&#x27;&quot;</span> + mail + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&quot;, phone=&#x27;&quot;</span></span><br><span class="line">                + phone + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printDate</span><span class="params">(<span class="meta">@RegexValid(policy = RegexValid.Policy.DATE)</span> String date)</span></span>&#123;</span><br><span class="line">        System.out.println(date);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User(<span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;1990-01-31&quot;</span>, <span class="string">&quot;xxx@163.com&quot;</span>, <span class="string">&quot;18612341234&quot;</span>);</span><br><span class="line">        User user2 = <span class="keyword">new</span> User(<span class="string">&quot;Jack&quot;</span>, <span class="string">&quot;2019-02-29&quot;</span>, <span class="string">&quot;sadhgs&quot;</span>, <span class="string">&quot;183xxxxxxxx&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (RegexValidUtil.check(user)) &#123;</span><br><span class="line">            System.out.println(user + <span class="string">&quot;æ­£åˆ™æ ¡éªŒé€šè¿‡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (RegexValidUtil.check(user2)) &#123;</span><br><span class="line">            System.out.println(user2 + <span class="string">&quot;æ­£åˆ™æ ¡éªŒé€šè¿‡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-å°ç»“"><a href="#5-å°ç»“" class="headerlink" title="5. å°ç»“"></a>5. å°ç»“</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/%E6%B3%A8%E8%A7%A3%E7%AE%80%E4%BB%8B.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/%E5%85%83%E6%B3%A8%E8%A7%A3.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/%E5%86%85%E7%BD%AE%E6%B3%A8%E8%A7%A3.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3.svg" alt="img"></p>
<h2 id="6-å‚è€ƒèµ„æ–™"><a href="#6-å‚è€ƒèµ„æ–™" class="headerlink" title="6. å‚è€ƒèµ„æ–™"></a>6. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
<li><a href="https://book.douban.com/subject/3360807/">Effective java</a></li>
<li><a href="https://docs.oracle.com/javase/tutorial/java/annotations/">Oracle å®˜æ–¹æ–‡æ¡£ä¹‹æ³¨è§£ç¯‡</a></li>
<li><a href="https://www.cnblogs.com/peida/archive/2013/04/24/3036689.html">æ·±å…¥ç†è§£ Javaï¼šæ³¨è§£ï¼ˆAnnotationï¼‰è‡ªå®šä¹‰æ³¨è§£å…¥é—¨</a></li>
<li><a href="https://blog.csdn.net/briblue/article/details/73824058">https://blog.csdn.net/briblue/article/details/73824058</a></li>
</ul>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>æ³¨è§£</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥ç†è§£ Java æ•°ç»„</title>
    <url>/2021/12/06/java-array/</url>
    <content><![CDATA[<h1 id="æ·±å…¥ç†è§£-Java-æ•°ç»„"><a href="#æ·±å…¥ç†è§£-Java-æ•°ç»„" class="headerlink" title="æ·±å…¥ç†è§£ Java æ•°ç»„"></a>æ·±å…¥ç†è§£ Java æ•°ç»„</h1><blockquote>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E7%AE%80%E4%BB%8B">1. ç®€ä»‹</a><ul>
<li><a href="#11-%E6%95%B0%E7%BB%84%E7%9A%84%E7%89%B9%E6%80%A7">1.1. æ•°ç»„çš„ç‰¹æ€§</a></li>
<li><a href="#12-%E6%95%B0%E7%BB%84%E5%92%8C%E5%AE%B9%E5%99%A8">1.2. æ•°ç»„å’Œå®¹å™¨</a></li>
<li><a href="#13-java-%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%AC%E8%B4%A8%E6%98%AF%E5%AF%B9%E8%B1%A1">1.3. Java æ•°ç»„çš„æœ¬è´¨æ˜¯å¯¹è±¡</a></li>
<li><a href="#14-java-%E6%95%B0%E7%BB%84%E5%92%8C%E5%86%85%E5%AD%98">1.4. Java æ•°ç»„å’Œå†…å­˜</a></li>
</ul>
</li>
<li><a href="#2-%E5%A3%B0%E6%98%8E%E6%95%B0%E7%BB%84">2. å£°æ˜æ•°ç»„</a></li>
<li><a href="#3-%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84">3. åˆ›å»ºæ•°ç»„</a><ul>
<li><a href="#31-%E6%95%B0%E7%BB%84%E7%BB%B4%E5%BA%A6%E7%9A%84%E5%BD%A2%E5%BC%8F">3.1. æ•°ç»„ç»´åº¦çš„å½¢å¼</a></li>
<li><a href="#32-%E6%95%B0%E7%BB%84%E7%BB%B4%E5%BA%A6%E7%9A%84%E5%A4%A7%E5%B0%8F">3.2. æ•°ç»„ç»´åº¦çš„å¤§å°</a></li>
</ul>
</li>
<li><a href="#4-%E8%AE%BF%E9%97%AE%E6%95%B0%E7%BB%84">4. è®¿é—®æ•°ç»„</a></li>
<li><a href="#5-%E6%95%B0%E7%BB%84%E7%9A%84%E5%BC%95%E7%94%A8">5. æ•°ç»„çš„å¼•ç”¨</a></li>
<li><a href="#6-%E6%B3%9B%E5%9E%8B%E5%92%8C%E6%95%B0%E7%BB%84">6. æ³›å‹å’Œæ•°ç»„</a></li>
<li><a href="#7-%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84">7. å¤šç»´æ•°ç»„</a></li>
<li><a href="#8-arrays-%E7%B1%BB">8. Arrays ç±»</a></li>
<li><a href="#9-%E5%B0%8F%E7%BB%93">9. å°ç»“</a></li>
<li><a href="#10-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">10. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h2><h3 id="1-1-æ•°ç»„çš„ç‰¹æ€§"><a href="#1-1-æ•°ç»„çš„ç‰¹æ€§" class="headerlink" title="1.1. æ•°ç»„çš„ç‰¹æ€§"></a>1.1. æ•°ç»„çš„ç‰¹æ€§</h3><p>æ•°ç»„å¯¹äºæ¯ä¸€é—¨ç¼–ç¨‹è¯­è¨€æ¥è¯´éƒ½æ˜¯é‡è¦çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œå½“ç„¶ä¸åŒè¯­è¨€å¯¹æ•°ç»„çš„å®ç°åŠå¤„ç†ä¹Ÿä¸å°½ç›¸åŒã€‚å‡ ä¹æ‰€æœ‰ç¨‹åºè®¾è®¡è¯­è¨€éƒ½æ”¯æŒæ•°ç»„ã€‚</p>
<p>æ•°ç»„ä»£è¡¨ä¸€ç³»åˆ—å¯¹è±¡æˆ–è€…åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‰€æœ‰ç›¸åŒçš„ç±»å‹éƒ½å°è£…åˆ°ä¸€èµ·ï¼Œé‡‡ç”¨ä¸€ä¸ªç»Ÿä¸€çš„æ ‡è¯†ç¬¦åç§°ã€‚</p>
<p><strong>æ•°ç»„çš„å®šä¹‰å’Œä½¿ç”¨éœ€è¦é€šè¿‡æ–¹æ‹¬å· <code>[]</code>ã€‚</strong></p>
<blockquote>
<p><strong>Java ä¸­ï¼Œæ•°ç»„æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ã€‚</strong></p>
<p><strong>Java ä¸­ï¼Œæ•°ç»„æ˜¯ç”¨æ¥å­˜å‚¨å›ºå®šå¤§å°çš„åŒç±»å‹å…ƒç´ ã€‚</strong></p>
</blockquote>
<h3 id="1-2-æ•°ç»„å’Œå®¹å™¨"><a href="#1-2-æ•°ç»„å’Œå®¹å™¨" class="headerlink" title="1.2. æ•°ç»„å’Œå®¹å™¨"></a>1.2. æ•°ç»„å’Œå®¹å™¨</h3><p>Java ä¸­ï¼Œæ—¢ç„¶æœ‰äº†å¼ºå¤§çš„å®¹å™¨ï¼Œæ˜¯ä¸æ˜¯å°±ä¸éœ€è¦æ•°ç»„äº†ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ä¸ã€‚</p>
<p>è¯šç„¶ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”è¯¥é€‰æ‹©å®¹å™¨å­˜å‚¨æ•°æ®ã€‚</p>
<p>ä½†æ˜¯ï¼Œæ•°ç»„ä¹Ÿä¸æ˜¯æ¯«æ— æ˜¯å¤„ï¼š</p>
<ul>
<li>Java ä¸­ï¼Œæ•°ç»„æ˜¯ä¸€ç§æ•ˆç‡æœ€é«˜çš„å­˜å‚¨å’Œéšæœºè®¿é—®å¯¹è±¡å¼•ç”¨åºåˆ—çš„æ–¹å¼ã€‚<strong>æ•°ç»„çš„æ•ˆç‡è¦é«˜äºå®¹å™¨</strong>ï¼ˆå¦‚ <code>ArrayList</code>ï¼‰ã€‚</li>
<li><strong>æ•°ç»„å¯ä»¥æŒæœ‰å€¼ç±»å‹ï¼Œè€Œå®¹å™¨åˆ™ä¸èƒ½</strong>ï¼ˆè¿™æ—¶ï¼Œå°±å¿…é¡»ç”¨åˆ°åŒ…è£…ç±»ï¼‰ã€‚</li>
</ul>
<h3 id="1-3-Java-æ•°ç»„çš„æœ¬è´¨æ˜¯å¯¹è±¡"><a href="#1-3-Java-æ•°ç»„çš„æœ¬è´¨æ˜¯å¯¹è±¡" class="headerlink" title="1.3. Java æ•°ç»„çš„æœ¬è´¨æ˜¯å¯¹è±¡"></a>1.3. Java æ•°ç»„çš„æœ¬è´¨æ˜¯å¯¹è±¡</h3><p><strong>Java æ•°ç»„çš„æœ¬è´¨æ˜¯å¯¹è±¡</strong>ã€‚å®ƒå…·æœ‰ Java ä¸­å…¶ä»–å¯¹è±¡çš„ä¸€äº›åŸºæœ¬ç‰¹ç‚¹ï¼šå°è£…äº†ä¸€äº›æ•°æ®ï¼Œå¯ä»¥è®¿é—®å±æ€§ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨æ–¹æ³•ã€‚æ‰€ä»¥ï¼Œæ•°ç»„æ˜¯å¯¹è±¡ã€‚</p>
<p>å¦‚æœæœ‰ä¸¤ä¸ªç±» A å’Œ Bï¼Œå¦‚æœ B ç»§æ‰¿ï¼ˆextendsï¼‰äº† Aï¼Œé‚£ä¹ˆ A[] ç±»å‹çš„å¼•ç”¨å°±å¯ä»¥æŒ‡å‘ B[] ç±»å‹çš„å¯¹è±¡ã€‚</p>
<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š<a href="https://blog.csdn.net/zhangjg_blog/article/details/16116613#t1">Java ä¸­æ•°ç»„çš„ç‰¹æ€§</a></p>
<p>å¦‚æœæƒ³è¦è®ºè¯ <strong>Java æ•°ç»„æœ¬è´¨æ˜¯å¯¹è±¡</strong>ï¼Œä¸å¦¨ä¸€è¯»è¿™ç¯‡æ–‡ç« ã€‚</p>
</blockquote>
<h3 id="1-4-Java-æ•°ç»„å’Œå†…å­˜"><a href="#1-4-Java-æ•°ç»„å’Œå†…å­˜" class="headerlink" title="1.4. Java æ•°ç»„å’Œå†…å­˜"></a>1.4. Java æ•°ç»„å’Œå†…å­˜</h3><p>Java æ•°ç»„åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ˜¯è¿™æ ·çš„ï¼š</p>
<p>æ•°ç»„å¯¹è±¡ï¼ˆè¿™é‡Œå¯ä»¥çœ‹æˆä¸€ä¸ªæŒ‡é’ˆï¼‰å­˜å‚¨åœ¨æ ˆä¸­ã€‚</p>
<p>æ•°ç»„å…ƒç´ å­˜å‚¨åœ¨å †ä¸­ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šåªæœ‰å½“ JVM æ‰§è¡Œ <code>new String[]</code> æ—¶ï¼Œæ‰ä¼šåœ¨å †ä¸­å¼€è¾Ÿç›¸åº”çš„å†…å­˜åŒºåŸŸã€‚æ•°ç»„å¯¹è±¡ array å¯ä»¥è§†ä¸ºä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘è¿™å—å†…å­˜çš„å­˜å‚¨åœ°å€ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1552473482942.png" alt="img"></p>
<h2 id="2-å£°æ˜æ•°ç»„"><a href="#2-å£°æ˜æ•°ç»„" class="headerlink" title="2. å£°æ˜æ•°ç»„"></a>2. å£°æ˜æ•°ç»„</h2><p>å£°æ˜æ•°ç»„å˜é‡çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr1; <span class="comment">// æ¨èé£æ ¼</span></span><br><span class="line"><span class="keyword">int</span> arr2[]; <span class="comment">// æ•ˆæœç›¸åŒ</span></span><br></pre></td></tr></table></figure>

<h2 id="3-åˆ›å»ºæ•°ç»„"><a href="#3-åˆ›å»ºæ•°ç»„" class="headerlink" title="3. åˆ›å»ºæ•°ç»„"></a>3. åˆ›å»ºæ•°ç»„</h2><p>Java è¯­è¨€ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦æ¥åˆ›å»ºæ•°ç»„ã€‚æœ‰ä¸¤ç§åˆ›å»ºæ•°ç»„æ–¹å¼ï¼š</p>
<ul>
<li>æŒ‡å®šæ•°ç»„ç»´åº¦<ul>
<li>ä¸ºæ•°ç»„å¼€è¾ŸæŒ‡å®šå¤§å°çš„æ•°ç»„ç»´åº¦ã€‚</li>
<li>å¦‚æœæ•°ç»„å…ƒç´ æ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼Œä¼šå°†æ¯ä¸ªå…ƒç´ è®¾ä¸ºé»˜è®¤å€¼ï¼›å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œå…ƒç´ å€¼ä¸º <code>null</code>ã€‚</li>
</ul>
</li>
<li>ä¸æŒ‡å®šæ•°ç»„ç»´åº¦<ul>
<li>ç”¨èŠ±æ‹¬å·ä¸­çš„å®é™…å…ƒç´ åˆå§‹åŒ–æ•°ç»„ï¼Œæ•°ç»„å¤§å°ä¸å…ƒç´ æ•°ç›¸åŒã€‚</li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] array1 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>]; <span class="comment">// æŒ‡å®šæ•°ç»„ç»´åº¦</span></span><br><span class="line">        <span class="keyword">int</span>[] array2 = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">1</span>, <span class="number">2</span> &#125;; <span class="comment">// ä¸æŒ‡å®šæ•°ç»„ç»´åº¦</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;array1 size is &quot;</span> + array1.length);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> item : array1) &#123;</span><br><span class="line">            System.out.println(item);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;array2 size is &quot;</span> + array1.length);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> item : array2) &#123;</span><br><span class="line">            System.out.println(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// array1 size is 2</span></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// array2 size is 2</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ’¡ <strong>è¯´æ˜</strong><br>è¯·æ³¨æ„æ•°ç»„ array1 ä¸­çš„å…ƒç´ è™½ç„¶æ²¡æœ‰åˆå§‹åŒ–ï¼Œä½†æ˜¯ length å’ŒæŒ‡å®šçš„æ•°ç»„ç»´åº¦æ˜¯ä¸€æ ·çš„ã€‚è¿™è¡¨æ˜<strong>æŒ‡å®šæ•°ç»„ç»´åº¦åï¼Œæ— è®ºåé¢æ˜¯å¦åˆå§‹åŒ–æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œæ•°ç»„éƒ½å·²ç»å¼€è¾Ÿäº†ç›¸åº”çš„å†…å­˜</strong>ã€‚</p>
<p>æ•°ç»„ array1 ä¸­çš„å…ƒç´ éƒ½è¢«è®¾ä¸ºé»˜è®¤å€¼ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User[] array1 = <span class="keyword">new</span> User[<span class="number">2</span>]; <span class="comment">// æŒ‡å®šæ•°ç»„ç»´åº¦</span></span><br><span class="line">        User[] array2 = <span class="keyword">new</span> User[] &#123;<span class="keyword">new</span> User(), <span class="keyword">new</span> User()&#125;; <span class="comment">// ä¸æŒ‡å®šæ•°ç»„ç»´åº¦</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;array1: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (User item : array1) &#123;</span><br><span class="line">            System.out.println(item);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;array2: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (User item : array2) &#123;</span><br><span class="line">            System.out.println(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// array1:</span></span><br><span class="line"><span class="comment">// null</span></span><br><span class="line"><span class="comment">// null</span></span><br><span class="line"><span class="comment">// array2:</span></span><br><span class="line"><span class="comment">// io.github.dunwu.javacore.array.ArrayDemo2$User@4141d797</span></span><br><span class="line"><span class="comment">// io.github.dunwu.javacore.array.ArrayDemo2$User@68f7aae2</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ’¡ <strong>è¯´æ˜</strong></p>
<p>è¯·å°†æœ¬ä¾‹ä¸ç¤ºä¾‹ 1 æ¯”è¾ƒï¼Œå¯ä»¥å‘ç°ï¼šå¦‚æœä½¿ç”¨æŒ‡å®šæ•°ç»„ç»´åº¦æ–¹å¼åˆ›å»ºæ•°ç»„ï¼Œä¸”æ•°ç»„å…ƒç´ ä¸ºå¼•ç”¨ç±»å‹ï¼Œåˆ™æ•°ç»„ä¸­çš„å…ƒç´ å…ƒç´ å€¼ä¸º <code>null</code>ã€‚</p>
</blockquote>
<h3 id="3-1-æ•°ç»„ç»´åº¦çš„å½¢å¼"><a href="#3-1-æ•°ç»„ç»´åº¦çš„å½¢å¼" class="headerlink" title="3.1. æ•°ç»„ç»´åº¦çš„å½¢å¼"></a>3.1. æ•°ç»„ç»´åº¦çš„å½¢å¼</h3><p>åˆ›å»ºæ•°ç»„æ—¶ï¼ŒæŒ‡å®šçš„æ•°ç»„ç»´åº¦å¯ä»¥æœ‰å¤šç§å½¢å¼ï¼š</p>
<ul>
<li>æ•°ç»„ç»´åº¦å¯ä»¥æ˜¯æ•´æ•°ã€å­—ç¬¦ã€‚</li>
<li>æ•°ç»„ç»´åº¦å¯ä»¥æ˜¯æ•´æ•°å‹ã€å­—ç¬¦å‹å˜é‡ã€‚</li>
<li>æ•°ç»„ç»´åº¦å¯ä»¥æ˜¯è®¡ç®—ç»“æœä¸ºæ•´æ•°æˆ–å­—ç¬¦çš„è¡¨è¾¾å¼ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> length = <span class="number">3</span>;</span><br><span class="line">        <span class="comment">// æ”¾å¼€è¢«æ³¨æ‰çš„ä»£ç ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™</span></span><br><span class="line">        <span class="comment">// int[] array = new int[4.0];</span></span><br><span class="line">        <span class="comment">// int[] array2 = new int[&quot;test&quot;];</span></span><br><span class="line">        <span class="keyword">int</span>[] array3 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">        <span class="keyword">int</span>[] array4 = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        <span class="keyword">int</span>[] array5 = <span class="keyword">new</span> <span class="keyword">int</span>[length + <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">int</span>[] array6 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="string">&#x27;a&#x27;</span> + <span class="number">2</span>];</span><br><span class="line">        <span class="comment">// int[] array7 = new int[length + 2.1];</span></span><br><span class="line">        System.out.println(<span class="string">&quot;array3.length = [&quot;</span> + array3.length + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;array4.length = [&quot;</span> + array4.length + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;array5.length = [&quot;</span> + array5.length + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;array6.length = [&quot;</span> + array6.length + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// array3.length = [97]</span></span><br><span class="line"><span class="comment">// array4.length = [3]</span></span><br><span class="line"><span class="comment">// array5.length = [5]</span></span><br><span class="line"><span class="comment">// array6.length = [99]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ’¡ <strong>è¯´æ˜</strong></p>
<p>å½“æŒ‡å®šçš„æ•°ç»„ç»´åº¦æ˜¯å­—ç¬¦æ—¶ï¼ŒJava ä¼šå°†å…¶è½¬ä¸ºæ•´æ•°ã€‚å¦‚å­—ç¬¦ <code>a</code> çš„ ASCII ç æ˜¯ 97ã€‚</p>
<p>ç»¼ä¸Šï¼Œ<strong>Java æ•°ç»„çš„æ•°ç»„ç»´åº¦å¯ä»¥æ˜¯å¸¸é‡ã€å˜é‡ã€è¡¨è¾¾å¼ï¼Œåªè¦è½¬æ¢ä¸ºæ•´æ•°å³å¯</strong>ã€‚</p>
<p>è¯·ç•™æ„ï¼Œæœ‰äº›ç¼–ç¨‹è¯­è¨€åˆ™ä¸æ”¯æŒè¿™ç‚¹ï¼Œå¦‚ C/C++ è¯­è¨€ï¼Œåªå…è®¸æ•°ç»„ç»´åº¦æ˜¯å¸¸é‡ã€‚</p>
</blockquote>
<h3 id="3-2-æ•°ç»„ç»´åº¦çš„å¤§å°"><a href="#3-2-æ•°ç»„ç»´åº¦çš„å¤§å°" class="headerlink" title="3.2. æ•°ç»„ç»´åº¦çš„å¤§å°"></a>3.2. æ•°ç»„ç»´åº¦çš„å¤§å°</h3><p><strong>æ•°ç»„ç»´åº¦å¹¶éæ²¡æœ‰ä¸Šé™çš„ï¼Œå¦‚æœæ•°å€¼è¿‡å¤§ï¼Œç¼–è¯‘æ—¶ä¼šæŠ¥é”™ã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">6553612431</span>]; <span class="comment">// æ•°ç»„ç»´åº¦è¿‡å¤§ï¼Œç¼–è¯‘æŠ¥é”™</span></span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œ<strong>æ•°ç»„è¿‡å¤§ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ ˆæº¢å‡º</strong>ã€‚</p>
<h2 id="4-è®¿é—®æ•°ç»„"><a href="#4-è®¿é—®æ•°ç»„" class="headerlink" title="4. è®¿é—®æ•°ç»„"></a>4. è®¿é—®æ•°ç»„</h2><p><strong>Java ä¸­ï¼Œå¯ä»¥é€šè¿‡åœ¨ <code>[]</code> ä¸­æŒ‡å®šä¸‹æ ‡ï¼Œè®¿é—®æ•°ç»„å…ƒç´ ï¼Œä¸‹æ ‡ä½ç½®ä» 0 å¼€å§‹ã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] array = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">            array[i]++;</span><br><span class="line">            System.out.println(String.format(<span class="string">&quot;array[%d] = %d&quot;</span>, i, array[i]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// array[0] = 2</span></span><br><span class="line"><span class="comment">// array[1] = 3</span></span><br><span class="line"><span class="comment">// array[2] = 4</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ’¡ <strong>è¯´æ˜</strong></p>
<p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œä» 0 å¼€å§‹ï¼Œä½¿ç”¨ä¸‹æ ‡éå†æ•°ç»„ array çš„æ‰€æœ‰å…ƒç´ ï¼Œä¸ºæ¯ä¸ªå…ƒç´ å€¼åŠ  1 ã€‚</p>
</blockquote>
<h2 id="5-æ•°ç»„çš„å¼•ç”¨"><a href="#5-æ•°ç»„çš„å¼•ç”¨" class="headerlink" title="5. æ•°ç»„çš„å¼•ç”¨"></a>5. æ•°ç»„çš„å¼•ç”¨</h2><p><strong>Java ä¸­ï¼Œæ•°ç»„ç±»å‹æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹</strong>ã€‚</p>
<p>å› æ­¤ï¼Œå®ƒå¯ä»¥ä½œä¸ºå¼•ç”¨ï¼Œè¢« Java å‡½æ•°<strong>ä½œä¸ºå‡½æ•°å…¥å‚æˆ–è¿”å›å€¼</strong>ã€‚</p>
<p>æ•°ç»„ä½œä¸ºå‡½æ•°å…¥å‚çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayRefDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : array) &#123;</span><br><span class="line">            System.out.print(i + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;;</span><br><span class="line">        fun(array);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// 1	3	5</span></span><br></pre></td></tr></table></figure>

<p>æ•°ç»„ä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayRefDemo2</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] fun() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] array = fun();</span><br><span class="line">        System.out.println(Arrays.toString(array));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// [1, 3, 5]</span></span><br></pre></td></tr></table></figure>

<h2 id="6-æ³›å‹å’Œæ•°ç»„"><a href="#6-æ³›å‹å’Œæ•°ç»„" class="headerlink" title="6. æ³›å‹å’Œæ•°ç»„"></a>6. æ³›å‹å’Œæ•°ç»„</h2><p>é€šå¸¸ï¼Œæ•°ç»„å’Œæ³›å‹ä¸èƒ½å¾ˆå¥½åœ°ç»“åˆã€‚ä½ ä¸èƒ½å®ä¾‹åŒ–å…·æœ‰å‚æ•°åŒ–ç±»å‹çš„æ•°ç»„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Peel&lt;Banana&gt;[] peels = <span class="keyword">new</span> Pell&lt;Banana&gt;[<span class="number">10</span>]; <span class="comment">// è¿™è¡Œä»£ç éæ³•</span></span><br></pre></td></tr></table></figure>

<p>Java ä¸­ä¸å…è®¸ç›´æ¥åˆ›å»ºæ³›å‹æ•°ç»„ã€‚ä½†æ˜¯ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªç±»å‹æ“¦é™¤çš„æ•°ç»„ï¼Œç„¶åè½¬å‹çš„æ–¹å¼æ¥åˆ›å»ºæ³›å‹æ•°ç»„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericArrayDemo</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericArray</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> T[] array;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">GenericArray</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">            array = (T[]) <span class="keyword">new</span> Object[num];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> index, T item)</span> </span>&#123;</span><br><span class="line">            array[index] = item;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123; <span class="keyword">return</span> array[index]; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> T[] array() &#123; <span class="keyword">return</span> array; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        GenericArray&lt;Integer&gt; genericArray = <span class="keyword">new</span> GenericArray&lt;Integer&gt;(<span class="number">4</span>);</span><br><span class="line">        genericArray.put(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        genericArray.put(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">        Object[] array = genericArray.array();</span><br><span class="line">        System.out.println(Arrays.deepToString(array));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// [0, 1, null, null]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š<a href="https://www.cnblogs.com/jiangzhaowei/p/7399522.html">https://www.cnblogs.com/jiangzhaowei/p/7399522.html</a></p>
<p>æˆ‘è®¤ä¸ºï¼Œå¯¹äºæ³›å‹æ•°ç»„çš„ç†è§£ï¼Œç‚¹åˆ°ä¸ºæ­¢å³å¯ã€‚å®é™…ä¸Šï¼ŒçœŸçš„éœ€è¦å­˜å‚¨æ³›å‹ï¼Œè¿˜æ˜¯ä½¿ç”¨å®¹å™¨æ›´åˆé€‚ã€‚</p>
</blockquote>
<h2 id="7-å¤šç»´æ•°ç»„"><a href="#7-å¤šç»´æ•°ç»„" class="headerlink" title="7. å¤šç»´æ•°ç»„"></a>7. å¤šç»´æ•°ç»„</h2><p>å¤šç»´æ•°ç»„å¯ä»¥çœ‹æˆæ˜¯æ•°ç»„çš„æ•°ç»„ï¼Œæ¯”å¦‚äºŒç»´æ•°ç»„å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸€ç»´æ•°ç»„ï¼Œå…¶æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ã€‚</p>
<p>Java å¯ä»¥æ”¯æŒäºŒç»´æ•°ç»„ã€ä¸‰ç»´æ•°ç»„ã€å››ç»´æ•°ç»„ã€äº”ç»´æ•°ç»„ã€‚ã€‚ã€‚</p>
<p>ä½†æ˜¯ï¼Œä»¥æ­£å¸¸äººçš„ç†è§£èƒ½åŠ›ï¼Œä¸€èˆ¬ä¹Ÿå°±æœ€å¤šèƒ½ç†è§£ä¸‰ç»´æ•°ç»„ã€‚æ‰€ä»¥ï¼Œè¯·ä¸è¦åšåäººç±»çš„äº‹ï¼Œå»å®šä¹‰è¿‡å¤šç»´åº¦çš„æ•°ç»„ã€‚</p>
<p>å¤šç»´æ•°ç»„ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MultiArrayDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Integer[][] a1 = &#123; <span class="comment">// è‡ªåŠ¨è£…ç®±</span></span><br><span class="line">            &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>,&#125;,</span><br><span class="line">            &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>,&#125;,</span><br><span class="line">        &#125;;</span><br><span class="line">        Double[][][] a2 = &#123; <span class="comment">// è‡ªåŠ¨è£…ç®±</span></span><br><span class="line">            &#123; &#123;<span class="number">1.1</span>, <span class="number">2.2</span>&#125;, &#123;<span class="number">3.3</span>, <span class="number">4.4</span>&#125; &#125;,</span><br><span class="line">            &#123; &#123;<span class="number">5.5</span>, <span class="number">6.6</span>&#125;, &#123;<span class="number">7.7</span>, <span class="number">8.8</span>&#125; &#125;,</span><br><span class="line">            &#123; &#123;<span class="number">9.9</span>, <span class="number">1.2</span>&#125;, &#123;<span class="number">2.3</span>, <span class="number">3.4</span>&#125; &#125;,</span><br><span class="line">        &#125;;</span><br><span class="line">        String[][] a3 = &#123;</span><br><span class="line">            &#123;<span class="string">&quot;The&quot;</span>, <span class="string">&quot;Quick&quot;</span>, <span class="string">&quot;Sly&quot;</span>, <span class="string">&quot;Fox&quot;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&quot;Jumped&quot;</span>, <span class="string">&quot;Over&quot;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&quot;The&quot;</span>, <span class="string">&quot;Lazy&quot;</span>, <span class="string">&quot;Brown&quot;</span>, <span class="string">&quot;Dog&quot;</span>, <span class="string">&quot;and&quot;</span>, <span class="string">&quot;friend&quot;</span>&#125;,</span><br><span class="line">        &#125;;</span><br><span class="line">        System.out.println(<span class="string">&quot;a1: &quot;</span> + Arrays.deepToString(a1));</span><br><span class="line">        System.out.println(<span class="string">&quot;a2: &quot;</span> + Arrays.deepToString(a2));</span><br><span class="line">        System.out.println(<span class="string">&quot;a3: &quot;</span> + Arrays.deepToString(a3));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// a1: [[1, 2, 3], [4, 5, 6]]</span></span><br><span class="line"><span class="comment">// a2: [[[1.1, 2.2], [3.3, 4.4]], [[5.5, 6.6], [7.7, 8.8]], [[9.9, 1.2], [2.3, 3.4]]]</span></span><br><span class="line"><span class="comment">// a3: [[The, Quick, Sly, Fox], [Jumped, Over], [The, Lazy, Brown, Dog, and, friend]]</span></span><br></pre></td></tr></table></figure>

<h2 id="8-Arrays-ç±»"><a href="#8-Arrays-ç±»" class="headerlink" title="8. Arrays ç±»"></a>8. Arrays ç±»</h2><p>Java ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„æ•°ç»„å·¥å…·ç±»ï¼šArraysã€‚</p>
<p>å®ƒæä¾›çš„ä¸»è¦æ“ä½œæœ‰ï¼š</p>
<ul>
<li><code>sort</code> - æ’åº</li>
<li><code>binarySearch</code> - æŸ¥æ‰¾</li>
<li><code>equals</code> - æ¯”è¾ƒ</li>
<li><code>fill</code> - å¡«å……</li>
<li><code>asList</code> - è½¬åˆ—è¡¨</li>
<li><code>hash</code> - å“ˆå¸Œ</li>
<li><code>toString</code> - è½¬å­—ç¬¦ä¸²</li>
</ul>
<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š<a href="https://juejin.im/post/5a6ade5c518825733e60acb8">https://juejin.im/post/5a6ade5c518825733e60acb8</a></p>
</blockquote>
<h2 id="9-å°ç»“"><a href="#9-å°ç»“" class="headerlink" title="9. å°ç»“"></a>9. å°ç»“</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1553753908349.png" alt="img"></p>
<h2 id="10-å‚è€ƒèµ„æ–™"><a href="#10-å‚è€ƒèµ„æ–™" class="headerlink" title="10. å‚è€ƒèµ„æ–™"></a>10. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
<li><a href="https://blog.csdn.net/zhangjg_blog/article/details/16116613#t1">Java ä¸­æ•°ç»„çš„ç‰¹æ€§</a></li>
<li><a href="https://juejin.im/post/59cae3de6fb9a00a4551915b">https://juejin.im/post/59cae3de6fb9a00a4551915b</a></li>
<li><a href="https://www.cnblogs.com/jiangzhaowei/p/7399522.html">https://www.cnblogs.com/jiangzhaowei/p/7399522.html</a></li>
<li><a href="https://juejin.im/post/5a6ade5c518825733e60acb8">https://juejin.im/post/5a6ade5c518825733e60acb8</a></li>
</ul>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>Java åŸºç¡€è¯­æ³•ç‰¹æ€§</title>
    <url>/2021/12/06/java-basic-grammar/</url>
    <content><![CDATA[<h1 id="Java-åŸºç¡€è¯­æ³•ç‰¹æ€§"><a href="#Java-åŸºç¡€è¯­æ³•ç‰¹æ€§" class="headerlink" title="Java åŸºç¡€è¯­æ³•ç‰¹æ€§"></a>Java åŸºç¡€è¯­æ³•ç‰¹æ€§</h1><blockquote>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E6%B3%A8%E9%87%8A">1. æ³¨é‡Š</a></li>
<li><a href="#2-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">2. åŸºæœ¬æ•°æ®ç±»å‹</a></li>
<li><a href="#3-%E5%8F%98%E9%87%8F">3. å˜é‡</a></li>
<li><a href="#4-%E6%95%B0%E7%BB%84">4. æ•°ç»„</a></li>
<li><a href="#5-%E6%9E%9A%E4%B8%BE">5. æšä¸¾</a></li>
<li><a href="#6-%E6%93%8D%E4%BD%9C%E7%AC%A6">6. æ“ä½œç¬¦</a></li>
<li><a href="#7-%E6%96%B9%E6%B3%95">7. æ–¹æ³•</a></li>
<li><a href="#8-%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5">8. æ§åˆ¶è¯­å¥</a></li>
<li><a href="#9-%E5%BC%82%E5%B8%B8">9. å¼‚å¸¸</a></li>
<li><a href="#10-%E6%B3%9B%E5%9E%8B">10. æ³›å‹</a></li>
<li><a href="#11-%E5%8F%8D%E5%B0%84">11. åå°„</a></li>
<li><a href="#12-%E6%B3%A8%E8%A7%A3">12. æ³¨è§£</a></li>
<li><a href="#13-%E5%BA%8F%E5%88%97%E5%8C%96">13. åºåˆ—åŒ–</a></li>
<li><a href="#14-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">14. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-æ³¨é‡Š"><a href="#1-æ³¨é‡Š" class="headerlink" title="1. æ³¨é‡Š"></a>1. æ³¨é‡Š</h2><p>ç©ºç™½è¡Œï¼Œæˆ–è€…æ³¨é‡Šçš„å†…å®¹ï¼Œéƒ½ä¼šè¢« Java ç¼–è¯‘å™¨å¿½ç•¥æ‰ã€‚</p>
<p>Java æ”¯æŒå¤šç§æ³¨é‡Šæ–¹å¼ï¼Œä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å„ç§æ³¨é‡Šçš„ä½¿ç”¨æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * JavaDoc æ³¨é‡Š</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å•è¡Œæ³¨é‡Š</span></span><br><span class="line">        <span class="comment">/* å¤šè¡Œæ³¨é‡Šï¼š</span></span><br><span class="line"><span class="comment">           1. æ³¨æ„ç‚¹a</span></span><br><span class="line"><span class="comment">           2. æ³¨æ„ç‚¹b</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-åŸºæœ¬æ•°æ®ç±»å‹"><a href="#2-åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="2. åŸºæœ¬æ•°æ®ç±»å‹"></a>2. åŸºæœ¬æ•°æ®ç±»å‹</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/javacore/blob/master/docs/basics/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.md">æ·±å…¥ç†è§£ Java åŸºæœ¬æ•°æ®ç±»å‹</a></p>
</blockquote>
<h2 id="3-å˜é‡"><a href="#3-å˜é‡" class="headerlink" title="3. å˜é‡"></a>3. å˜é‡</h2><p>Java æ”¯æŒçš„å˜é‡ç±»å‹æœ‰ï¼š</p>
<ul>
<li><code>å±€éƒ¨å˜é‡</code> - ç±»æ–¹æ³•ä¸­çš„å˜é‡ã€‚</li>
<li><code>å®ä¾‹å˜é‡ï¼ˆä¹Ÿå«æˆå‘˜å˜é‡ï¼‰</code> - ç±»æ–¹æ³•å¤–çš„å˜é‡ï¼Œä¸è¿‡æ²¡æœ‰ <code>static</code> ä¿®é¥°ã€‚</li>
<li><code>ç±»å˜é‡ï¼ˆä¹Ÿå«é™æ€å˜é‡ï¼‰</code> - ç±»æ–¹æ³•å¤–çš„å˜é‡ï¼Œç”¨ <code>static</code> ä¿®é¥°ã€‚</li>
</ul>
<p>ç‰¹æ€§å¯¹æ¯”ï¼š</p>
<table>
<thead>
<tr>
<th>å±€éƒ¨å˜é‡</th>
<th>å®ä¾‹å˜é‡ï¼ˆä¹Ÿå«æˆå‘˜å˜é‡ï¼‰</th>
<th>ç±»å˜é‡ï¼ˆä¹Ÿå«é™æ€å˜é‡ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>å±€éƒ¨å˜é‡å£°æ˜åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—ä¸­ã€‚</td>
<td>å®ä¾‹å˜é‡å£°æ˜åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•å’Œè¯­å¥å—ä¹‹å¤–ã€‚</td>
<td>ç±»å˜é‡å£°æ˜åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•å’Œè¯­å¥å—ä¹‹å¤–ã€‚å¹¶ä¸”ä»¥ static ä¿®é¥°ã€‚</td>
</tr>
<tr>
<td>å±€éƒ¨å˜é‡åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•ã€æˆ–è€…è¯­å¥å—è¢«æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºï¼Œå½“å®ƒä»¬æ‰§è¡Œå®Œæˆåï¼Œå˜é‡å°†ä¼šè¢«é”€æ¯ã€‚</td>
<td>å®ä¾‹å˜é‡åœ¨å¯¹è±¡åˆ›å»ºçš„æ—¶å€™åˆ›å»ºï¼Œåœ¨å¯¹è±¡è¢«é”€æ¯çš„æ—¶å€™é”€æ¯ã€‚</td>
<td>ç±»å˜é‡åœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶åˆ›å»ºï¼Œåœ¨ç¨‹åºç»“æŸæ—¶é”€æ¯ã€‚</td>
</tr>
<tr>
<td>å±€éƒ¨å˜é‡æ²¡æœ‰é»˜è®¤å€¼ï¼Œæ‰€ä»¥å¿…é¡»ç»è¿‡åˆå§‹åŒ–ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚</td>
<td>å®ä¾‹å˜é‡å…·æœ‰é»˜è®¤å€¼ã€‚æ•°å€¼å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ 0ï¼Œå¸ƒå°”å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ falseï¼Œå¼•ç”¨ç±»å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ nullã€‚å˜é‡çš„å€¼å¯ä»¥åœ¨å£°æ˜æ—¶æŒ‡å®šï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­æŒ‡å®šã€‚</td>
<td>ç±»å˜é‡å…·æœ‰é»˜è®¤å€¼ã€‚æ•°å€¼å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ 0ï¼Œå¸ƒå°”å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ falseï¼Œå¼•ç”¨ç±»å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ nullã€‚å˜é‡çš„å€¼å¯ä»¥åœ¨å£°æ˜æ—¶æŒ‡å®šï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­æŒ‡å®šã€‚æ­¤å¤–ï¼Œé™æ€å˜é‡è¿˜å¯ä»¥åœ¨é™æ€è¯­å¥å—ä¸­åˆå§‹åŒ–ã€‚</td>
</tr>
<tr>
<td>å¯¹äºå±€éƒ¨å˜é‡ï¼Œå¦‚æœæ˜¯åŸºæœ¬ç±»å‹ï¼Œä¼šæŠŠå€¼ç›´æ¥å­˜å‚¨åœ¨æ ˆï¼›å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼šæŠŠå…¶å¯¹è±¡å­˜å‚¨åœ¨å †ï¼Œè€ŒæŠŠè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰å­˜å‚¨åœ¨æ ˆã€‚</td>
<td>å®ä¾‹å˜é‡å­˜å‚¨åœ¨å †ã€‚</td>
<td>ç±»å˜é‡å­˜å‚¨åœ¨é™æ€å­˜å‚¨åŒºã€‚</td>
</tr>
<tr>
<td>è®¿é—®ä¿®é¥°ç¬¦ä¸èƒ½ç”¨äºå±€éƒ¨å˜é‡ã€‚</td>
<td>è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ç”¨äºå®ä¾‹å˜é‡ã€‚</td>
<td>è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ç”¨äºç±»å˜é‡ã€‚</td>
</tr>
<tr>
<td>å±€éƒ¨å˜é‡åªåœ¨å£°æ˜å®ƒçš„æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—ä¸­å¯è§ã€‚</td>
<td>å®ä¾‹å˜é‡å¯¹äºç±»ä¸­çš„æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—æ˜¯å¯è§çš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹åº”è¯¥æŠŠå®ä¾‹å˜é‡è®¾ä¸ºç§æœ‰ã€‚é€šè¿‡ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä½¿å®ä¾‹å˜é‡å¯¹å­ç±»å¯è§ã€‚</td>
<td>ä¸å®ä¾‹å˜é‡å…·æœ‰ç›¸ä¼¼çš„å¯è§æ€§ã€‚ä½†ä¸ºäº†å¯¹ç±»çš„ä½¿ç”¨è€…å¯è§ï¼Œå¤§å¤šæ•°é™æ€å˜é‡å£°æ˜ä¸º public ç±»å‹ã€‚</td>
</tr>
<tr>
<td></td>
<td>å®ä¾‹å˜é‡å¯ä»¥ç›´æ¥é€šè¿‡å˜é‡åè®¿é—®ã€‚ä½†åœ¨é™æ€æ–¹æ³•ä»¥åŠå…¶ä»–ç±»ä¸­ï¼Œå°±åº”è¯¥ä½¿ç”¨å®Œå…¨é™å®šåï¼šObejectReference.VariableNameã€‚</td>
<td>é™æ€å˜é‡å¯ä»¥é€šè¿‡ï¼šClassName.VariableName çš„æ–¹å¼è®¿é—®ã€‚</td>
</tr>
<tr>
<td></td>
<td></td>
<td>æ— è®ºä¸€ä¸ªç±»åˆ›å»ºäº†å¤šå°‘ä¸ªå¯¹è±¡ï¼Œç±»åªæ‹¥æœ‰ç±»å˜é‡çš„ä¸€ä»½æ‹·è´ã€‚</td>
</tr>
<tr>
<td></td>
<td></td>
<td>ç±»å˜é‡é™¤äº†è¢«å£°æ˜ä¸ºå¸¸é‡å¤–å¾ˆå°‘ä½¿ç”¨ã€‚</td>
</tr>
</tbody></table>
<p><strong>å˜é‡ä¿®é¥°ç¬¦</strong></p>
<ul>
<li><strong>è®¿é—®çº§åˆ«ä¿®é¥°ç¬¦</strong><ul>
<li>å¦‚æœå˜é‡æ˜¯å®ä¾‹å˜é‡æˆ–ç±»å˜é‡ï¼Œå¯ä»¥æ·»åŠ è®¿é—®çº§åˆ«ä¿®é¥°ç¬¦ï¼ˆpublic/protected/privateï¼‰</li>
</ul>
</li>
<li><strong>é™æ€ä¿®é¥°ç¬¦</strong><ul>
<li>å¦‚æœå˜é‡æ˜¯ç±»å˜é‡ï¼Œéœ€è¦æ·»åŠ  static ä¿®é¥°</li>
</ul>
</li>
<li><strong>final</strong><ul>
<li>å¦‚æœå˜é‡ä½¿ç”¨ <code>fianl</code> ä¿®é¥°ç¬¦ï¼Œå°±è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸èƒ½è¢«ä¿®æ”¹ã€‚</li>
</ul>
</li>
</ul>
<h2 id="4-æ•°ç»„"><a href="#4-æ•°ç»„" class="headerlink" title="4. æ•°ç»„"></a>4. æ•°ç»„</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E6%95%B0%E7%BB%84.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/javacore/blob/master/docs/basics/Java%E6%95%B0%E7%BB%84.md">æ·±å…¥ç†è§£ Java æ•°ç»„</a></p>
</blockquote>
<h2 id="5-æšä¸¾"><a href="#5-æšä¸¾" class="headerlink" title="5. æšä¸¾"></a>5. æšä¸¾</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E6%9E%9A%E4%B8%BE.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/javacore/blob/master/docs/basics/Java%E6%9E%9A%E4%B8%BE.md">æ·±å…¥ç†è§£ Java æ•°ç»„</a></p>
</blockquote>
<h2 id="6-æ“ä½œç¬¦"><a href="#6-æ“ä½œç¬¦" class="headerlink" title="6. æ“ä½œç¬¦"></a>6. æ“ä½œç¬¦</h2><p>Java ä¸­æ”¯æŒçš„æ“ä½œç¬¦ç±»å‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E6%93%8D%E4%BD%9C%E7%AC%A6.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="http://www.runoob.com/java/java-operators.html">Java æ“ä½œç¬¦</a></p>
</blockquote>
<h2 id="7-æ–¹æ³•"><a href="#7-æ–¹æ³•" class="headerlink" title="7. æ–¹æ³•"></a>7. æ–¹æ³•</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E6%96%B9%E6%B3%95.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/javacore/blob/master/docs/basics/Java%E6%96%B9%E6%B3%95.md">æ·±å…¥ç†è§£ Java æ–¹æ³•</a></p>
</blockquote>
<h2 id="8-æ§åˆ¶è¯­å¥"><a href="#8-æ§åˆ¶è¯­å¥" class="headerlink" title="8. æ§åˆ¶è¯­å¥"></a>8. æ§åˆ¶è¯­å¥</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/javacore/blob/master/docs/basics/Java%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5.md">Java æ§åˆ¶è¯­å¥</a></p>
</blockquote>
<h2 id="9-å¼‚å¸¸"><a href="#9-å¼‚å¸¸" class="headerlink" title="9. å¼‚å¸¸"></a>9. å¼‚å¸¸</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E5%BC%82%E5%B8%B8%E6%A1%86%E6%9E%B6.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E5%BC%82%E5%B8%B8.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/javacore/blob/master/docs/basics/Java%E5%BC%82%E5%B8%B8.md">æ·±å…¥ç†è§£ Java å¼‚å¸¸</a></p>
</blockquote>
<h2 id="10-æ³›å‹"><a href="#10-æ³›å‹" class="headerlink" title="10. æ³›å‹"></a>10. æ³›å‹</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E6%B3%9B%E5%9E%8B.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/javacore/blob/master/docs/basics/Java%E6%B3%9B%E5%9E%8B.md">æ·±å…¥ç†è§£ Java æ³›å‹</a></p>
</blockquote>
<h2 id="11-åå°„"><a href="#11-åå°„" class="headerlink" title="11. åå°„"></a>11. åå°„</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E5%8F%8D%E5%B0%84.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E4%BB%A3%E7%90%86.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/javacore/blob/master/docs/basics/Java%E5%8F%8D%E5%B0%84.md">æ·±å…¥ç†è§£ Java åå°„å’ŒåŠ¨æ€ä»£ç†</a></p>
</blockquote>
<h2 id="12-æ³¨è§£"><a href="#12-æ³¨è§£" class="headerlink" title="12. æ³¨è§£"></a>12. æ³¨è§£</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/%E6%B3%A8%E8%A7%A3%E7%AE%80%E4%BB%8B.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/%E5%85%83%E6%B3%A8%E8%A7%A3.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/%E5%86%85%E7%BD%AE%E6%B3%A8%E8%A7%A3.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/javacore/blob/master/docs/basics/Java%E6%B3%A8%E8%A7%A3.md">æ·±å…¥ç†è§£ Java æ³¨è§£</a></p>
</blockquote>
<h2 id="13-åºåˆ—åŒ–"><a href="#13-åºåˆ—åŒ–" class="headerlink" title="13. åºåˆ—åŒ–"></a>13. åºåˆ—åŒ–</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E5%BA%8F%E5%88%97%E5%8C%96.svg" alt="img"></p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/javacore/blob/master/docs/io/Java%E5%BA%8F%E5%88%97%E5%8C%96.md">æ·±å…¥ç†è§£ Java åºåˆ—åŒ–</a></p>
</blockquote>
<h2 id="14-å‚è€ƒèµ„æ–™"><a href="#14-å‚è€ƒèµ„æ–™" class="headerlink" title="14. å‚è€ƒèµ„æ–™"></a>14. å‚è€ƒèµ„æ–™</h2>]]></content>
      <categories>
        <category>javaåŸºç¡€è¯­æ³•</category>
      </categories>
      <tags>
        <tag>javaåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2021/12/06/java-control-statement/</url>
    <content><![CDATA[<h1 id="â€”"><a href="#â€”" class="headerlink" title="â€”"></a>â€”</h1><hr>
<p>title: Java æ§åˆ¶è¯­å¥<br>author: å”å‡¯é¹<br>categories: javaåŸºç¡€<br>tags:</p>
<ul>
<li>javaåŸºç¡€è¯­æ³•</li>
</ul>
<hr>
<h1 id="Java-æ§åˆ¶è¯­å¥"><a href="#Java-æ§åˆ¶è¯­å¥" class="headerlink" title="Java æ§åˆ¶è¯­å¥"></a>Java æ§åˆ¶è¯­å¥</h1><blockquote>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
<p>Java æ§åˆ¶è¯­å¥å¤§è‡´å¯åˆ†ä¸ºä¸‰å¤§ç±»ï¼š</p>
<ul>
<li>é€‰æ‹©è¯­å¥<ul>
<li>if, else-if, else</li>
<li>switch</li>
</ul>
</li>
<li>å¾ªç¯è¯­å¥<ul>
<li>while</li>
<li>doâ€¦while</li>
<li>for</li>
<li>foreach</li>
</ul>
</li>
<li>ç»ˆç«¯è¯­å¥<ul>
<li>break</li>
<li>continue</li>
<li>return</li>
</ul>
</li>
</ul>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E9%80%89%E6%8B%A9%E8%AF%AD%E5%8F%A5">1. é€‰æ‹©è¯­å¥</a><ul>
<li><a href="#11-if-%E8%AF%AD%E5%8F%A5">1.1. if è¯­å¥</a></li>
<li><a href="#12-ifelse-%E8%AF%AD%E5%8F%A5">1.2. ifâ€¦else è¯­å¥</a></li>
<li><a href="#13-ifelse-ifelse-%E8%AF%AD%E5%8F%A5">1.3. ifâ€¦else ifâ€¦else è¯­å¥</a></li>
<li><a href="#14-%E5%B5%8C%E5%A5%97%E7%9A%84-ifelse-%E8%AF%AD%E5%8F%A5">1.4. åµŒå¥—çš„ ifâ€¦else è¯­å¥</a></li>
<li><a href="#15-switch-%E8%AF%AD%E5%8F%A5">1.5. switch è¯­å¥</a></li>
</ul>
</li>
<li><a href="#2-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5">2. å¾ªç¯è¯­å¥</a><ul>
<li><a href="#21-while-%E5%BE%AA%E7%8E%AF">2.1. while å¾ªç¯</a></li>
<li><a href="#22-do-while-%E5%BE%AA%E7%8E%AF">2.2. do while å¾ªç¯</a></li>
<li><a href="#23-for-%E5%BE%AA%E7%8E%AF">2.3. for å¾ªç¯</a></li>
<li><a href="#24-foreach-%E5%BE%AA%E7%8E%AF">2.4. foreach å¾ªç¯</a></li>
</ul>
</li>
<li><a href="#3-%E4%B8%AD%E6%96%AD%E8%AF%AD%E5%8F%A5">3. ä¸­æ–­è¯­å¥</a><ul>
<li><a href="#31-break-%E5%85%B3%E9%94%AE%E5%AD%97">3.1. break å…³é”®å­—</a></li>
<li><a href="#32-continue-%E5%85%B3%E9%94%AE%E5%AD%97">3.2. continue å…³é”®å­—</a></li>
<li><a href="#33-return-%E5%85%B3%E9%94%AE%E5%AD%97">3.3. return å…³é”®å­—</a></li>
</ul>
</li>
<li><a href="#4-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">4. æœ€ä½³å®è·µ</a></li>
<li><a href="#5-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">5. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-é€‰æ‹©è¯­å¥"><a href="#1-é€‰æ‹©è¯­å¥" class="headerlink" title="1. é€‰æ‹©è¯­å¥"></a>1. é€‰æ‹©è¯­å¥</h2><h3 id="1-1-if-è¯­å¥"><a href="#1-1-if-è¯­å¥" class="headerlink" title="1.1. if è¯­å¥"></a>1.1. if è¯­å¥</h3><p><code>if</code> è¯­å¥ä¼šåˆ¤æ–­æ‹¬å·ä¸­çš„æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œå¦‚æœæˆç«‹åˆ™æ‰§è¡Œ <code>if</code> è¯­å¥ä¸­çš„ä»£ç å—ï¼Œå¦åˆ™è·³è¿‡ä»£ç å—ç»§ç»­æ‰§è¡Œã€‚</p>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(å¸ƒå°”è¡¨è¾¾å¼) &#123;</span><br><span class="line">   <span class="comment">//å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ä¸ºtrueå°†æ‰§è¡Œçš„è¯­å¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IfDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">20</span>) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;è¿™æ˜¯ if è¯­å¥&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// è¿™æ˜¯ if è¯­å¥</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-ifâ€¦else-è¯­å¥"><a href="#1-2-ifâ€¦else-è¯­å¥" class="headerlink" title="1.2. ifâ€¦else è¯­å¥"></a>1.2. ifâ€¦else è¯­å¥</h3><p><code>if</code> è¯­å¥åé¢å¯ä»¥è·Ÿ <code>else</code> è¯­å¥ï¼Œå½“ <code>if</code> è¯­å¥çš„å¸ƒå°”è¡¨è¾¾å¼å€¼ä¸º <code>false</code> æ—¶ï¼Œ<code>else</code> è¯­å¥å—ä¼šè¢«æ‰§è¡Œã€‚</p>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(å¸ƒå°”è¡¨è¾¾å¼) &#123;</span><br><span class="line">   <span class="comment">//å¦‚æœå¸ƒå°”è¡¨è¾¾å¼çš„å€¼ä¸ºtrue</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   <span class="comment">//å¦‚æœå¸ƒå°”è¡¨è¾¾å¼çš„å€¼ä¸ºfalse</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IfElseDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">30</span>;</span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">20</span>) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;è¿™æ˜¯ if è¯­å¥&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;è¿™æ˜¯ else è¯­å¥&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// è¿™æ˜¯ else è¯­å¥</span></span><br></pre></td></tr></table></figure>

<h3 id="1-3-ifâ€¦else-ifâ€¦else-è¯­å¥"><a href="#1-3-ifâ€¦else-ifâ€¦else-è¯­å¥" class="headerlink" title="1.3. ifâ€¦else ifâ€¦else è¯­å¥"></a>1.3. ifâ€¦else ifâ€¦else è¯­å¥</h3><ul>
<li><code>if</code> è¯­å¥è‡³å¤šæœ‰ 1 ä¸ª <code>else</code> è¯­å¥ï¼Œ<code>else</code> è¯­å¥åœ¨æ‰€æœ‰çš„ <code>else if</code> è¯­å¥ä¹‹åã€‚</li>
<li><code>If</code> è¯­å¥å¯ä»¥æœ‰è‹¥å¹²ä¸ª <code>else if</code> è¯­å¥ï¼Œå®ƒä»¬å¿…é¡»åœ¨ <code>else</code> è¯­å¥ä¹‹å‰ã€‚</li>
<li>ä¸€æ—¦å…¶ä¸­ä¸€ä¸ª <code>else if</code> è¯­å¥æ£€æµ‹ä¸º <code>true</code>ï¼Œå…¶ä»–çš„ <code>else if</code> ä»¥åŠ <code>else</code> è¯­å¥éƒ½å°†è·³è¿‡æ‰§è¡Œã€‚</li>
</ul>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (å¸ƒå°”è¡¨è¾¾å¼ <span class="number">1</span>) &#123;</span><br><span class="line">   <span class="comment">//å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ 1çš„å€¼ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (å¸ƒå°”è¡¨è¾¾å¼ <span class="number">2</span>) &#123;</span><br><span class="line">   <span class="comment">//å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ 2çš„å€¼ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (å¸ƒå°”è¡¨è¾¾å¼ <span class="number">3</span>) &#123;</span><br><span class="line">   <span class="comment">//å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ 3çš„å€¼ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   <span class="comment">//å¦‚æœä»¥ä¸Šå¸ƒå°”è¡¨è¾¾å¼éƒ½ä¸ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IfElseifElseDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;Value of X is 1&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x == <span class="number">2</span>) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;Value of X is 2&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x == <span class="number">3</span>) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;Value of X is 3&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;This is else statement&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// Value of X is 3</span></span><br></pre></td></tr></table></figure>

<h3 id="1-4-åµŒå¥—çš„-ifâ€¦else-è¯­å¥"><a href="#1-4-åµŒå¥—çš„-ifâ€¦else-è¯­å¥" class="headerlink" title="1.4. åµŒå¥—çš„ ifâ€¦else è¯­å¥"></a>1.4. åµŒå¥—çš„ ifâ€¦else è¯­å¥</h3><p>ä½¿ç”¨åµŒå¥—çš„ <code>if else</code> è¯­å¥æ˜¯åˆæ³•çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥åœ¨å¦ä¸€ä¸ª <code>if</code> æˆ–è€… <code>else if</code> è¯­å¥ä¸­ä½¿ç”¨ <code>if</code> æˆ–è€… <code>else if</code> è¯­å¥ã€‚</p>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (å¸ƒå°”è¡¨è¾¾å¼ <span class="number">1</span>) &#123;</span><br><span class="line">   <span class="comment">////å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ 1çš„å€¼ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">   <span class="keyword">if</span> (å¸ƒå°”è¡¨è¾¾å¼ <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="comment">////å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ 2çš„å€¼ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IfNestDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">30</span>;</span><br><span class="line">        <span class="keyword">int</span> y = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">30</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">10</span>) &#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;X = 30 and Y = 10&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// X = 30 and Y = 10</span></span><br></pre></td></tr></table></figure>

<h3 id="1-5-switch-è¯­å¥"><a href="#1-5-switch-è¯­å¥" class="headerlink" title="1.5. switch è¯­å¥"></a>1.5. switch è¯­å¥</h3><p><code>switch</code> è¯­å¥åˆ¤æ–­ä¸€ä¸ªå˜é‡ä¸ä¸€ç³»åˆ—å€¼ä¸­æŸä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ¯ä¸ªå€¼ç§°ä¸ºä¸€ä¸ªåˆ†æ”¯ã€‚</p>
<p><code>switch</code> è¯­å¥æœ‰å¦‚ä¸‹è§„åˆ™ï¼š</p>
<ul>
<li><code>switch</code> è¯­å¥ä¸­çš„å˜é‡ç±»å‹åªèƒ½ä¸º <code>byte</code>ã€<code>short</code>ã€<code>int</code>ã€<code>char</code> æˆ–è€… <code>String</code>ã€‚</li>
<li><code>switch</code> è¯­å¥å¯ä»¥æ‹¥æœ‰å¤šä¸ª <code>case</code> è¯­å¥ã€‚æ¯ä¸ª <code>case</code> åé¢è·Ÿä¸€ä¸ªè¦æ¯”è¾ƒçš„å€¼å’Œå†’å·ã€‚</li>
<li><code>case</code> è¯­å¥ä¸­çš„å€¼çš„æ•°æ®ç±»å‹å¿…é¡»ä¸å˜é‡çš„æ•°æ®ç±»å‹ç›¸åŒï¼Œè€Œä¸”åªèƒ½æ˜¯å¸¸é‡æˆ–è€…å­—é¢å¸¸é‡ã€‚</li>
<li>å½“å˜é‡çš„å€¼ä¸ <code>case</code> è¯­å¥çš„å€¼ç›¸ç­‰æ—¶ï¼Œé‚£ä¹ˆ <code>case</code> è¯­å¥ä¹‹åçš„è¯­å¥å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ° <code>break</code> è¯­å¥å‡ºç°æ‰ä¼šè·³å‡º <code>switch</code> è¯­å¥ã€‚</li>
<li>å½“é‡åˆ° <code>break</code> è¯­å¥æ—¶ï¼Œ<code>switch</code> è¯­å¥ç»ˆæ­¢ã€‚ç¨‹åºè·³è½¬åˆ° <code>switch</code> è¯­å¥åé¢çš„è¯­å¥æ‰§è¡Œã€‚<code>case</code> è¯­å¥ä¸å¿…é¡»è¦åŒ…å« <code>break</code> è¯­å¥ã€‚å¦‚æœæ²¡æœ‰ <code>break</code> è¯­å¥å‡ºç°ï¼Œç¨‹åºä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡ <code>case</code> è¯­å¥ï¼Œç›´åˆ°å‡ºç° <code>break</code> è¯­å¥ã€‚</li>
<li><code>switch</code> è¯­å¥å¯ä»¥åŒ…å«ä¸€ä¸ª <code>default</code> åˆ†æ”¯ï¼Œè¯¥åˆ†æ”¯å¿…é¡»æ˜¯ <code>switch</code> è¯­å¥çš„æœ€åä¸€ä¸ªåˆ†æ”¯ã€‚<code>default</code> åœ¨æ²¡æœ‰ <code>case</code> è¯­å¥çš„å€¼å’Œå˜é‡å€¼ç›¸ç­‰çš„æ—¶å€™æ‰§è¡Œã€‚<code>default</code> åˆ†æ”¯ä¸éœ€è¦ <code>break</code> è¯­å¥ã€‚</li>
</ul>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span>(expression)&#123;</span><br><span class="line">    <span class="keyword">case</span> value :</span><br><span class="line">       <span class="comment">//è¯­å¥</span></span><br><span class="line">       <span class="keyword">break</span>; <span class="comment">//å¯é€‰</span></span><br><span class="line">    <span class="keyword">case</span> value :</span><br><span class="line">       <span class="comment">//è¯­å¥</span></span><br><span class="line">       <span class="keyword">break</span>; <span class="comment">//å¯é€‰</span></span><br><span class="line">    <span class="comment">//ä½ å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„caseè¯­å¥</span></span><br><span class="line">    <span class="keyword">default</span> : <span class="comment">//å¯é€‰</span></span><br><span class="line">       <span class="comment">//è¯­å¥</span></span><br><span class="line">       <span class="keyword">break</span>; <span class="comment">//å¯é€‰ï¼Œä½†ä¸€èˆ¬å»ºè®®åŠ ä¸Š</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwitchDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> grade = <span class="string">&#x27;C&#x27;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (grade) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;Excellent!&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;Well done&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;You passed&quot;</span>);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;F&#x27;</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;Better try again&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;Invalid grade&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;Your grade is &quot;</span> + grade);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// Well done</span></span><br><span class="line"><span class="comment">// Your grade is C</span></span><br></pre></td></tr></table></figure>

<h2 id="2-å¾ªç¯è¯­å¥"><a href="#2-å¾ªç¯è¯­å¥" class="headerlink" title="2. å¾ªç¯è¯­å¥"></a>2. å¾ªç¯è¯­å¥</h2><h3 id="2-1-while-å¾ªç¯"><a href="#2-1-while-å¾ªç¯" class="headerlink" title="2.1. while å¾ªç¯"></a>2.1. while å¾ªç¯</h3><p>åªè¦å¸ƒå°”è¡¨è¾¾å¼ä¸º <code>true</code>ï¼Œ<code>while</code> å¾ªç¯ä½“ä¼šä¸€ç›´æ‰§è¡Œä¸‹å»ã€‚</p>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>( å¸ƒå°”è¡¨è¾¾å¼ ) &#123;</span><br><span class="line">    <span class="comment">//å¾ªç¯å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WhileDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">while</span> (x &lt; <span class="number">20</span>) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;value of x : &quot;</span> + x);</span><br><span class="line">            x++;</span><br><span class="line">            System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// value of x : 10</span></span><br><span class="line"><span class="comment">// value of x : 11</span></span><br><span class="line"><span class="comment">// value of x : 12</span></span><br><span class="line"><span class="comment">// value of x : 13</span></span><br><span class="line"><span class="comment">// value of x : 14</span></span><br><span class="line"><span class="comment">// value of x : 15</span></span><br><span class="line"><span class="comment">// value of x : 16</span></span><br><span class="line"><span class="comment">// value of x : 17</span></span><br><span class="line"><span class="comment">// value of x : 18</span></span><br><span class="line"><span class="comment">// value of x : 19</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-do-while-å¾ªç¯"><a href="#2-2-do-while-å¾ªç¯" class="headerlink" title="2.2. do while å¾ªç¯"></a>2.2. do while å¾ªç¯</h3><p>å¯¹äº <code>while</code> è¯­å¥è€Œè¨€ï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¸èƒ½è¿›å…¥å¾ªç¯ã€‚ä½†æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å³ä½¿ä¸æ»¡è¶³æ¡ä»¶ï¼Œä¹Ÿè‡³å°‘æ‰§è¡Œä¸€æ¬¡ã€‚</p>
<p><code>do while</code> å¾ªç¯å’Œ <code>while</code> å¾ªç¯ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œ<code>do while</code> å¾ªç¯è‡³å°‘ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="comment">//ä»£ç è¯­å¥</span></span><br><span class="line">&#125; <span class="keyword">while</span> (å¸ƒå°”è¡¨è¾¾å¼);</span><br></pre></td></tr></table></figure>

<p>å¸ƒå°”è¡¨è¾¾å¼åœ¨å¾ªç¯ä½“çš„åé¢ï¼Œæ‰€ä»¥è¯­å¥å—åœ¨æ£€æµ‹å¸ƒå°”è¡¨è¾¾å¼ä¹‹å‰å·²ç»æ‰§è¡Œäº†ã€‚ å¦‚æœå¸ƒå°”è¡¨è¾¾å¼çš„å€¼ä¸º trueï¼Œåˆ™è¯­å¥å—ä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°å¸ƒå°”è¡¨è¾¾å¼çš„å€¼ä¸º falseã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DoWhileDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;value of x : &quot;</span> + x);</span><br><span class="line">            x++;</span><br><span class="line">            System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">while</span> (x &lt; <span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// value of x:10</span></span><br><span class="line"><span class="comment">// value of x:11</span></span><br><span class="line"><span class="comment">// value of x:12</span></span><br><span class="line"><span class="comment">// value of x:13</span></span><br><span class="line"><span class="comment">// value of x:14</span></span><br><span class="line"><span class="comment">// value of x:15</span></span><br><span class="line"><span class="comment">// value of x:16</span></span><br><span class="line"><span class="comment">// value of x:17</span></span><br><span class="line"><span class="comment">// value of x:18</span></span><br><span class="line"><span class="comment">// value of x:19</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-for-å¾ªç¯"><a href="#2-3-for-å¾ªç¯" class="headerlink" title="2.3. for å¾ªç¯"></a>2.3. for å¾ªç¯</h3><p>è™½ç„¶æ‰€æœ‰å¾ªç¯ç»“æ„éƒ½å¯ä»¥ç”¨ <code>while</code> æˆ–è€… <code>do while</code> è¡¨ç¤ºï¼Œä½† Java æä¾›äº†å¦ä¸€ç§è¯­å¥ â€”â€” <code>for</code> å¾ªç¯ï¼Œä½¿ä¸€äº›å¾ªç¯ç»“æ„å˜å¾—æ›´åŠ ç®€å•ã€‚<br><code>for</code> å¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°æ˜¯åœ¨æ‰§è¡Œå‰å°±ç¡®å®šçš„ã€‚</p>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (åˆå§‹åŒ–; å¸ƒå°”è¡¨è¾¾å¼; æ›´æ–°) &#123;</span><br><span class="line">    <span class="comment">//ä»£ç è¯­å¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æœ€å…ˆæ‰§è¡Œåˆå§‹åŒ–æ­¥éª¤ã€‚å¯ä»¥å£°æ˜ä¸€ç§ç±»å‹ï¼Œä½†å¯åˆå§‹åŒ–ä¸€ä¸ªæˆ–å¤šä¸ªå¾ªç¯æ§åˆ¶å˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ç©ºè¯­å¥ã€‚</li>
<li>ç„¶åï¼Œæ£€æµ‹å¸ƒå°”è¡¨è¾¾å¼çš„å€¼ã€‚å¦‚æœä¸º trueï¼Œå¾ªç¯ä½“è¢«æ‰§è¡Œã€‚å¦‚æœä¸º falseï¼Œå¾ªç¯ç»ˆæ­¢ï¼Œå¼€å§‹æ‰§è¡Œå¾ªç¯ä½“åé¢çš„è¯­å¥ã€‚</li>
<li>æ‰§è¡Œä¸€æ¬¡å¾ªç¯åï¼Œæ›´æ–°å¾ªç¯æ§åˆ¶å˜é‡ã€‚</li>
<li>å†æ¬¡æ£€æµ‹å¸ƒå°”è¡¨è¾¾å¼ã€‚å¾ªç¯æ‰§è¡Œä¸Šé¢çš„è¿‡ç¨‹ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ForDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">10</span>; x &lt; <span class="number">20</span>; x = x + <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;value of x : &quot;</span> + x);</span><br><span class="line">            System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// value of x : 10</span></span><br><span class="line"><span class="comment">// value of x : 11</span></span><br><span class="line"><span class="comment">// value of x : 12</span></span><br><span class="line"><span class="comment">// value of x : 13</span></span><br><span class="line"><span class="comment">// value of x : 14</span></span><br><span class="line"><span class="comment">// value of x : 15</span></span><br><span class="line"><span class="comment">// value of x : 16</span></span><br><span class="line"><span class="comment">// value of x : 17</span></span><br><span class="line"><span class="comment">// value of x : 18</span></span><br><span class="line"><span class="comment">// value of x : 19</span></span><br></pre></td></tr></table></figure>

<h3 id="2-4-foreach-å¾ªç¯"><a href="#2-4-foreach-å¾ªç¯" class="headerlink" title="2.4. foreach å¾ªç¯"></a>2.4. foreach å¾ªç¯</h3><p>Java5 å¼•å…¥äº†ä¸€ç§ä¸»è¦ç”¨äºæ•°ç»„çš„å¢å¼ºå‹ for å¾ªç¯ã€‚</p>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (å£°æ˜è¯­å¥ : è¡¨è¾¾å¼) &#123;</span><br><span class="line">    <span class="comment">//ä»£ç å¥å­</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å£°æ˜è¯­å¥</strong>ï¼šå£°æ˜æ–°çš„å±€éƒ¨å˜é‡ï¼Œè¯¥å˜é‡çš„ç±»å‹å¿…é¡»å’Œæ•°ç»„å…ƒç´ çš„ç±»å‹åŒ¹é…ã€‚å…¶ä½œç”¨åŸŸé™å®šåœ¨å¾ªç¯è¯­å¥å—ï¼Œå…¶å€¼ä¸æ­¤æ—¶æ•°ç»„å…ƒç´ çš„å€¼ç›¸ç­‰ã€‚</p>
<p><strong>è¡¨è¾¾å¼</strong>ï¼šè¡¨è¾¾å¼æ˜¯è¦è®¿é—®çš„æ•°ç»„åï¼Œæˆ–è€…æ˜¯è¿”å›å€¼ä¸ºæ•°ç»„çš„æ–¹æ³•ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ForeachDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] numbers = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span> &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x : numbers) &#123;</span><br><span class="line">            System.out.print(x);</span><br><span class="line">            System.out.print(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        String[] names = &#123; <span class="string">&quot;James&quot;</span>, <span class="string">&quot;Larry&quot;</span>, <span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;Lacy&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (String name : names) &#123;</span><br><span class="line">            System.out.print(name);</span><br><span class="line">            System.out.print(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// 10,20,30,40,50,</span></span><br><span class="line"><span class="comment">// James,Larry,Tom,Lacy,</span></span><br></pre></td></tr></table></figure>

<h2 id="3-ä¸­æ–­è¯­å¥"><a href="#3-ä¸­æ–­è¯­å¥" class="headerlink" title="3. ä¸­æ–­è¯­å¥"></a>3. ä¸­æ–­è¯­å¥</h2><h3 id="3-1-break-å…³é”®å­—"><a href="#3-1-break-å…³é”®å­—" class="headerlink" title="3.1. break å…³é”®å­—"></a>3.1. break å…³é”®å­—</h3><p><code>break</code> ä¸»è¦ç”¨åœ¨å¾ªç¯è¯­å¥æˆ–è€… <code>switch</code> è¯­å¥ä¸­ï¼Œç”¨æ¥è·³å‡ºæ•´ä¸ªè¯­å¥å—ã€‚</p>
<p><code>break</code> è·³å‡ºæœ€é‡Œå±‚çš„å¾ªç¯ï¼Œå¹¶ä¸”ç»§ç»­æ‰§è¡Œè¯¥å¾ªç¯ä¸‹é¢çš„è¯­å¥ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BreakDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] numbers = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span> &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x : numbers) &#123;</span><br><span class="line">            <span class="keyword">if</span> (x == <span class="number">30</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(x);</span><br><span class="line">            System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;break ç¤ºä¾‹ç»“æŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="comment">// 20</span></span><br><span class="line"><span class="comment">// break ç¤ºä¾‹ç»“æŸ</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2-continue-å…³é”®å­—"><a href="#3-2-continue-å…³é”®å­—" class="headerlink" title="3.2. continue å…³é”®å­—"></a>3.2. continue å…³é”®å­—</h3><p><code>continue</code> é€‚ç”¨äºä»»ä½•å¾ªç¯æ§åˆ¶ç»“æ„ä¸­ã€‚ä½œç”¨æ˜¯è®©ç¨‹åºç«‹åˆ»è·³è½¬åˆ°ä¸‹ä¸€æ¬¡å¾ªç¯çš„è¿­ä»£ã€‚åœ¨ <code>for</code> å¾ªç¯ä¸­ï¼Œ<code>continue</code> è¯­å¥ä½¿ç¨‹åºç«‹å³è·³è½¬åˆ°æ›´æ–°è¯­å¥ã€‚åœ¨ <code>while</code> æˆ–è€… <code>do while</code> å¾ªç¯ä¸­ï¼Œç¨‹åºç«‹å³è·³è½¬åˆ°å¸ƒå°”è¡¨è¾¾å¼çš„åˆ¤æ–­è¯­å¥ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ContinueDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] numbers = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span> &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x : numbers) &#123;</span><br><span class="line">            <span class="keyword">if</span> (x == <span class="number">30</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(x);</span><br><span class="line">            System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="comment">// 20</span></span><br><span class="line"><span class="comment">// 40</span></span><br><span class="line"><span class="comment">// 50</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-return-å…³é”®å­—"><a href="#3-3-return-å…³é”®å­—" class="headerlink" title="3.3. return å…³é”®å­—"></a>3.3. return å…³é”®å­—</h3><p>è·³å‡ºæ•´ä¸ªå‡½æ•°ä½“ï¼Œå‡½æ•°ä½“åé¢çš„éƒ¨åˆ†ä¸å†æ‰§è¡Œã€‚</p>
<p>ç¤ºä¾‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReturnDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] numbers = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span> &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x : numbers) &#123;</span><br><span class="line">            <span class="keyword">if</span> (x == <span class="number">30</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(x);</span><br><span class="line">            System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;return ç¤ºä¾‹ç»“æŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="comment">// 20</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ”” æ³¨æ„ï¼šè¯·ä»”ç»†ä½“ä¼šä¸€ä¸‹ <code>return</code> å’Œ <code>break</code> çš„åŒºåˆ«ã€‚</p>
</blockquote>
<h2 id="4-æœ€ä½³å®è·µ"><a href="#4-æœ€ä½³å®è·µ" class="headerlink" title="4. æœ€ä½³å®è·µ"></a>4. æœ€ä½³å®è·µ</h2><ul>
<li>é€‰æ‹©åˆ†æ”¯ç‰¹åˆ«å¤šçš„æƒ…å†µä¸‹ï¼Œ<code>switch</code> è¯­å¥ä¼˜äº <code>if...else if...else</code> è¯­å¥ã€‚</li>
<li><code>switch</code> è¯­å¥ä¸è¦åå•¬ä½¿ç”¨ <code>default</code>ã€‚</li>
<li><code>switch</code> è¯­å¥ä¸­çš„ <code>default</code> è¦æ”¾åœ¨æœ€åã€‚</li>
<li><code>foreach</code> å¾ªç¯ä¼˜å…ˆäºä¼ ç»Ÿçš„ <code>for</code> å¾ªç¯</li>
<li>ä¸è¦å¾ªç¯éå†å®¹å™¨å…ƒç´ ï¼Œç„¶ååˆ é™¤ç‰¹å®šå…ƒç´ ã€‚æ­£ç¡®å§¿åŠ¿åº”è¯¥æ˜¯éå†å®¹å™¨çš„è¿­ä»£å™¨ï¼ˆ<code>Iterator</code>ï¼‰ï¼Œåˆ é™¤å…ƒç´ ã€‚</li>
</ul>
<h2 id="5-å‚è€ƒèµ„æ–™"><a href="#5-å‚è€ƒèµ„æ–™" class="headerlink" title="5. å‚è€ƒèµ„æ–™"></a>5. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>Java å¸¸ç”¨å·¥å…·ç±»</title>
    <url>/2021/12/06/java-common-tool-class/</url>
    <content><![CDATA[<h1 id="Java-å¸¸ç”¨å·¥å…·ç±»"><a href="#Java-å¸¸ç”¨å·¥å…·ç±»" class="headerlink" title="Java å¸¸ç”¨å·¥å…·ç±»"></a>Java å¸¸ç”¨å·¥å…·ç±»</h1><blockquote>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
<p>å¹¶å‘ã€IOã€å®¹å™¨çš„å·¥å…·ç±»ä¸ä¼šåœ¨æœ¬æ–‡æåŠï¼Œåé¢ä¼šæœ‰ä¸“é¢˜ä¸€ä¸€é“æ¥ã€‚</p>
</blockquote>
<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><h3 id="StringBuffer"><a href="#StringBuffer" class="headerlink" title="StringBuffer"></a>StringBuffer</h3><h3 id="StringBuilder"><a href="#StringBuilder" class="headerlink" title="StringBuilder"></a>StringBuilder</h3><h2 id="æ—¥æœŸæ—¶é—´"><a href="#æ—¥æœŸæ—¶é—´" class="headerlink" title="æ—¥æœŸæ—¶é—´"></a>æ—¥æœŸæ—¶é—´</h2><h3 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h3><h3 id="SimpleDateFormat"><a href="#SimpleDateFormat" class="headerlink" title="SimpleDateFormat"></a>SimpleDateFormat</h3><h3 id="Calendar"><a href="#Calendar" class="headerlink" title="Calendar"></a>Calendar</h3><h2 id="æ•°å­¦"><a href="#æ•°å­¦" class="headerlink" title="æ•°å­¦"></a>æ•°å­¦</h2><h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><h3 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h3><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">Javaç¼–ç¨‹æ€æƒ³</a></li>
<li><a href="https://book.douban.com/subject/3146174/">Javaæ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
</ul>
]]></content>
      <categories>
        <category>javaå·¥å…·</category>
      </categories>
      <tags>
        <tag>javaåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2021/12/06/java-develop-env/</url>
    <content><![CDATA[<h1 id=""><a href="#" class="headerlink" title="-"></a>-</h1><hr>
<p>title: Java å¼€å‘ç¯å¢ƒ<br>author: å”å‡¯é¹<br>categories: javaåŸºç¡€<br>tags:</p>
<ul>
<li>javaåŸºç¡€</li>
</ul>
<hr>
<h1 id="Java-å¼€å‘ç¯å¢ƒ"><a href="#Java-å¼€å‘ç¯å¢ƒ" class="headerlink" title="Java å¼€å‘ç¯å¢ƒ"></a>Java å¼€å‘ç¯å¢ƒ</h1><blockquote>
<p>ğŸ“Œ <strong>å…³é”®è¯ï¼š</strong> JAVA_HOMEã€CLASSPATHã€Pathã€ç¯å¢ƒå˜é‡ã€IDE</p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E4%B8%8B%E8%BD%BD">1. ä¸‹è½½</a></li>
<li><a href="#2-%E5%AE%89%E8%A3%85">2. å®‰è£…</a></li>
<li><a href="#3-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">3. ç¯å¢ƒå˜é‡</a><ul>
<li><a href="#31-windows">3.1. Windows</a></li>
<li><a href="#32-linux">3.2. Linux</a></li>
</ul>
</li>
<li><a href="#4-%E6%B5%8B%E8%AF%95%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F">4. æµ‹è¯•å®‰è£…æˆåŠŸ</a></li>
<li><a href="#5-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7">5. å¼€å‘å·¥å…·</a></li>
<li><a href="#6-%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8Fhello-world">6. ç¬¬ä¸€ä¸ªç¨‹åºï¼šHello World</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-ä¸‹è½½"><a href="#1-ä¸‹è½½" class="headerlink" title="1. ä¸‹è½½"></a>1. ä¸‹è½½</h2><p>è¿›å…¥ <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">JDK å®˜æ–¹ä¸‹è½½åœ°å€</a> ï¼Œæ ¹æ®è‡ªå·±çš„ç¯å¢ƒé€‰æ‹©ä¸‹è½½æ‰€éœ€ç‰ˆæœ¬ã€‚</p>
<h2 id="2-å®‰è£…"><a href="#2-å®‰è£…" class="headerlink" title="2. å®‰è£…"></a>2. å®‰è£…</h2><p>windows ç¯å¢ƒçš„ jdk åŒ…æ˜¯ exe å®‰è£…æ–‡ä»¶ï¼Œå¯åŠ¨åæ ¹æ®å®‰è£…å‘å¯¼å®‰è£…å³å¯ã€‚</p>
<p>Linux ç¯å¢ƒçš„ jdk åŒ…ï¼Œè§£å‹åˆ°æœ¬åœ°å³å¯ã€‚</p>
<h2 id="3-ç¯å¢ƒå˜é‡"><a href="#3-ç¯å¢ƒå˜é‡" class="headerlink" title="3. ç¯å¢ƒå˜é‡"></a>3. ç¯å¢ƒå˜é‡</h2><h3 id="3-1-Windows"><a href="#3-1-Windows" class="headerlink" title="3.1. Windows"></a>3.1. Windows</h3><p>è®¡ç®—æœº &gt; å±æ€§ &gt; é«˜çº§ç³»ç»Ÿè®¾ç½® &gt; ç¯å¢ƒå˜é‡</p>
<p>æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š</p>
<p><code>JAVA_HOME</code>ï¼š<code>C:\Program Files (x86)\Java\jdk1.8.0_91</code> ï¼ˆæ ¹æ®è‡ªå·±çš„å®é™…è·¯å¾„é…ç½®ï¼‰</p>
<p><code>CLASSPATH</code>ï¼š<code>.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</code> ï¼ˆæ³¨æ„å‰é¢æœ‰ä¸ªâ€.â€ï¼‰</p>
<p><code>Path</code>ï¼š<code>%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;</code></p>
<h3 id="3-2-Linux"><a href="#3-2-Linux" class="headerlink" title="3.2. Linux"></a>3.2. Linux</h3><p>æ‰§è¡Œ <code>vi /etc/profile</code> ï¼Œç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶</p>
<p>æ·»åŠ ä¸¤è¡Œï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export JAVA_HOME=path/to/java</span><br><span class="line">export PATH=JAVA_HOME/bin:JAVA_HOME/jre/bin:</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ <code>source /etc/profile</code> ï¼Œç«‹å³ç”Ÿæ•ˆã€‚</p>
<h2 id="4-æµ‹è¯•å®‰è£…æˆåŠŸ"><a href="#4-æµ‹è¯•å®‰è£…æˆåŠŸ" class="headerlink" title="4. æµ‹è¯•å®‰è£…æˆåŠŸ"></a>4. æµ‹è¯•å®‰è£…æˆåŠŸ</h2><p>æ‰§è¡Œå‘½ä»¤ <code>java -version</code> ï¼Œå¦‚æœå®‰è£…æˆåŠŸï¼Œä¼šæ‰“å°å½“å‰ java çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<h2 id="5-å¼€å‘å·¥å…·"><a href="#5-å¼€å‘å·¥å…·" class="headerlink" title="5. å¼€å‘å·¥å…·"></a>5. å¼€å‘å·¥å…·</h2><p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚ç¼–å†™ Java ç¨‹åºï¼Œå½“ç„¶æœ‰å¿…è¦é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ IDEã€‚</p>
<p>IDEï¼ˆIntegrated Development Environmentï¼Œå³é›†æˆå¼€å‘ç¯å¢ƒï¼‰æ˜¯ç”¨äºæä¾›ç¨‹åºå¼€å‘ç¯å¢ƒçš„åº”ç”¨ç¨‹åºï¼Œä¸€èˆ¬åŒ…æ‹¬ä»£ç ç¼–è¾‘å™¨ã€ç¼–è¯‘å™¨ã€è°ƒè¯•å™¨å’Œå›¾å½¢ç”¨æˆ·ç•Œé¢ç­‰å·¥å…·ã€‚</p>
<p>å¸¸è§çš„ Java IDE å¦‚ä¸‹ï¼š</p>
<ul>
<li>Eclipse - ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„ã€åŸºäº Java çš„å¯æ‰©å±•å¼€å‘å¹³å°ã€‚</li>
<li>NetBeans - å¼€æ”¾æºç çš„ Java é›†æˆå¼€å‘ç¯å¢ƒï¼Œé€‚ç”¨äºå„ç§å®¢æˆ·æœºå’Œ Web åº”ç”¨ã€‚</li>
<li>IntelliJ IDEA - åœ¨ä»£ç è‡ªåŠ¨æç¤ºã€ä»£ç åˆ†æç­‰æ–¹é¢çš„å…·æœ‰å¾ˆå¥½çš„åŠŸèƒ½ã€‚</li>
<li>MyEclipse - ç”± Genuitec å…¬å¸å¼€å‘çš„ä¸€æ¬¾å•†ä¸šåŒ–è½¯ä»¶ï¼Œæ˜¯åº”ç”¨æ¯”è¾ƒå¹¿æ³›çš„ Java åº”ç”¨ç¨‹åºé›†æˆå¼€å‘ç¯å¢ƒã€‚</li>
<li>EditPlus - å¦‚æœæ­£ç¡®é…ç½® Java çš„ç¼–è¯‘å™¨â€œJavacâ€ä»¥åŠè§£é‡Šå™¨â€œJavaâ€åï¼Œå¯ç›´æ¥ä½¿ç”¨ EditPlus ç¼–è¯‘æ‰§è¡Œ Java ç¨‹åºã€‚</li>
</ul>
<h2 id="6-ç¬¬ä¸€ä¸ªç¨‹åºï¼šHello-World"><a href="#6-ç¬¬ä¸€ä¸ªç¨‹åºï¼šHello-World" class="headerlink" title="6. ç¬¬ä¸€ä¸ªç¨‹åºï¼šHello World"></a>6. ç¬¬ä¸€ä¸ªç¨‹åºï¼šHello World</h2><p>æ·»åŠ  HelloWorld.java æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œåï¼Œæ§åˆ¶å°è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Hello World</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2021/12/06/java-data-type/</url>
    <content><![CDATA[<h1 id=""><a href="#" class="headerlink" title="-"></a>-</h1><hr>
<p>title: æ·±å…¥ç†è§£ Java åŸºæœ¬æ•°æ®ç±»å‹<br>author: å”å‡¯é¹<br>categories: javaåŸºç¡€<br>tags:</p>
<ul>
<li></li>
<li>â€“<h1 id="æ·±å…¥ç†è§£-Java-åŸºæœ¬æ•°æ®ç±»å‹"><a href="#æ·±å…¥ç†è§£-Java-åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="æ·±å…¥ç†è§£ Java åŸºæœ¬æ•°æ®ç±»å‹"></a>æ·±å…¥ç†è§£ Java åŸºæœ¬æ•°æ®ç±»å‹</h1></li>
</ul>
<blockquote>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1553754196283.png" alt="img"></p>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%88%86%E7%B1%BB">1. æ•°æ®ç±»å‹åˆ†ç±»</a><ul>
<li><a href="#11-%E5%80%BC%E7%B1%BB%E5%9E%8B">1.1. å€¼ç±»å‹</a></li>
<li><a href="#12-%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8C%BA%E5%88%AB">1.2. å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«</a></li>
</ul>
</li>
<li><a href="#2-%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2">2. æ•°æ®è½¬æ¢</a><ul>
<li><a href="#21-%E8%87%AA%E5%8A%A8%E8%BD%AC%E6%8D%A2">2.1. è‡ªåŠ¨è½¬æ¢</a></li>
<li><a href="#22-%E5%BC%BA%E5%88%B6%E8%BD%AC%E6%8D%A2">2.2. å¼ºåˆ¶è½¬æ¢</a></li>
</ul>
</li>
<li><a href="#3-%E8%A3%85%E7%AE%B1%E5%92%8C%E6%8B%86%E7%AE%B1">3. è£…ç®±å’Œæ‹†ç®±</a><ul>
<li><a href="#31-%E5%8C%85%E8%A3%85%E7%B1%BB%E8%A3%85%E7%AE%B1%E6%8B%86%E7%AE%B1">3.1. åŒ…è£…ç±»ã€è£…ç®±ã€æ‹†ç®±</a></li>
<li><a href="#32-%E8%87%AA%E5%8A%A8%E8%A3%85%E7%AE%B1%E8%87%AA%E5%8A%A8%E6%8B%86%E7%AE%B1">3.2. è‡ªåŠ¨è£…ç®±ã€è‡ªåŠ¨æ‹†ç®±</a></li>
<li><a href="#33-%E8%A3%85%E7%AE%B1%E6%8B%86%E7%AE%B1%E7%9A%84%E5%BA%94%E7%94%A8%E5%92%8C%E6%B3%A8%E6%84%8F%E7%82%B9">3.3. è£…ç®±ã€æ‹†ç®±çš„åº”ç”¨å’Œæ³¨æ„ç‚¹</a></li>
</ul>
</li>
<li><a href="#4-%E5%88%A4%E7%AD%89%E9%97%AE%E9%A2%98">4. åˆ¤ç­‰é—®é¢˜</a><ul>
<li><a href="#41-%E5%8C%85%E8%A3%85%E7%B1%BB%E7%9A%84%E5%88%A4%E7%AD%89">4.1. åŒ…è£…ç±»çš„åˆ¤ç­‰</a></li>
<li><a href="#42-string-%E7%9A%84%E5%88%A4%E7%AD%89">4.2. String çš„åˆ¤ç­‰</a></li>
<li><a href="#43-%E5%AE%9E%E7%8E%B0-equals">4.3. å®ç° equals</a></li>
<li><a href="#44-hashcode-%E5%92%8C-equals-%E8%A6%81%E9%85%8D%E5%AF%B9%E5%AE%9E%E7%8E%B0">4.4. hashCode å’Œ equals è¦é…å¯¹å®ç°</a></li>
<li><a href="#45-compareto-%E5%92%8C-equals-%E7%9A%84%E9%80%BB%E8%BE%91%E4%B8%80%E8%87%B4%E6%80%A7">4.5. compareTo å’Œ equals çš„é€»è¾‘ä¸€è‡´æ€§</a></li>
<li><a href="#46-%E5%B0%8F%E5%BF%83-lombok-%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E7%9A%84%E5%9D%91">4.6. å°å¿ƒ Lombok ç”Ÿæˆä»£ç çš„â€œå‘â€</a></li>
</ul>
</li>
<li><a href="#5-%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97">5. æ•°å€¼è®¡ç®—</a><ul>
<li><a href="#51-%E6%B5%AE%E7%82%B9%E6%95%B0%E8%AE%A1%E7%AE%97%E9%97%AE%E9%A2%98">5.1. æµ®ç‚¹æ•°è®¡ç®—é—®é¢˜</a></li>
<li><a href="#52-%E6%B5%AE%E7%82%B9%E6%95%B0%E7%B2%BE%E5%BA%A6%E5%92%8C%E6%A0%BC%E5%BC%8F%E5%8C%96">5.2. æµ®ç‚¹æ•°ç²¾åº¦å’Œæ ¼å¼åŒ–</a></li>
<li><a href="#53-bigdecimal-%E5%88%A4%E7%AD%89%E9%97%AE%E9%A2%98">5.3. BigDecimal åˆ¤ç­‰é—®é¢˜</a></li>
<li><a href="#54-%E6%95%B0%E5%80%BC%E6%BA%A2%E5%87%BA">5.4. æ•°å€¼æº¢å‡º</a></li>
</ul>
</li>
<li><a href="#6-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">6. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-æ•°æ®ç±»å‹åˆ†ç±»"><a href="#1-æ•°æ®ç±»å‹åˆ†ç±»" class="headerlink" title="1. æ•°æ®ç±»å‹åˆ†ç±»"></a>1. æ•°æ®ç±»å‹åˆ†ç±»</h2><p>Java ä¸­çš„æ•°æ®ç±»å‹æœ‰ä¸¤ç±»ï¼š</p>
<ul>
<li>å€¼ç±»å‹ï¼ˆåˆå«å†…ç½®æ•°æ®ç±»å‹ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ï¼‰</li>
<li>å¼•ç”¨ç±»å‹ï¼ˆé™¤å€¼ç±»å‹ä»¥å¤–ï¼Œéƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼ŒåŒ…æ‹¬ <code>String</code>ã€æ•°ç»„ï¼‰</li>
</ul>
<h3 id="1-1-å€¼ç±»å‹"><a href="#1-1-å€¼ç±»å‹" class="headerlink" title="1.1. å€¼ç±»å‹"></a>1.1. å€¼ç±»å‹</h3><p>Java è¯­è¨€æä¾›äº† <strong>8</strong> ç§åŸºæœ¬ç±»å‹ï¼Œå¤§è‡´åˆ†ä¸º <strong>4</strong> ç±»</p>
<table>
<thead>
<tr>
<th>åŸºæœ¬æ•°æ®ç±»å‹</th>
<th>åˆ†ç±»</th>
<th>æ¯”ç‰¹æ•°</th>
<th>é»˜è®¤å€¼</th>
<th>å–å€¼èŒƒå›´</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>boolean</code></td>
<td><strong>å¸ƒå°”å‹</strong></td>
<td>8 ä½</td>
<td><code>false</code></td>
<td>{false, true}</td>
<td></td>
</tr>
<tr>
<td><code>char</code></td>
<td><strong>å­—ç¬¦å‹</strong></td>
<td>16 ä½</td>
<td><code>&#39;\u0000&#39;</code></td>
<td>[0,$2^{16} - 1$]</td>
<td>å­˜å‚¨ Unicode ç ï¼Œç”¨å•å¼•å·èµ‹å€¼</td>
</tr>
<tr>
<td><code>byte</code></td>
<td><strong>æ•´æ•°å‹</strong></td>
<td>8 ä½</td>
<td><code>0</code></td>
<td>[-$2^7$, $2^7 - 1$]</td>
<td></td>
</tr>
<tr>
<td><code>short</code></td>
<td><strong>æ•´æ•°å‹</strong></td>
<td>16 ä½</td>
<td><code>0</code></td>
<td>[-$2^{15}$, $2^{15} - 1$]</td>
<td></td>
</tr>
<tr>
<td><code>int</code></td>
<td><strong>æ•´æ•°å‹</strong></td>
<td>32 ä½</td>
<td><code>0</code></td>
<td>[-$2^{31}$, $2^{31} - 1$]</td>
<td></td>
</tr>
<tr>
<td><code>long</code></td>
<td><strong>æ•´æ•°å‹</strong></td>
<td>64 ä½</td>
<td><code>0L</code></td>
<td>[-$2^{63}$, $2^{63} - 1$]</td>
<td>èµ‹å€¼æ—¶ä¸€èˆ¬åœ¨æ•°å­—ååŠ ä¸Š <code>l</code> æˆ– <code>L</code></td>
</tr>
<tr>
<td><code>float</code></td>
<td><strong>æµ®ç‚¹å‹</strong></td>
<td>32 ä½</td>
<td><code>+0.0F</code></td>
<td>[$2^{-149}$, $2^{128} - 1$]</td>
<td>èµ‹å€¼æ—¶å¿…é¡»åœ¨æ•°å­—ååŠ ä¸Š <code>f</code> æˆ– <code>F</code></td>
</tr>
<tr>
<td><code>double</code></td>
<td><strong>æµ®ç‚¹å‹</strong></td>
<td>64 ä½</td>
<td><code>+0.0D</code></td>
<td>[$2^{-1074}$, $2^{1024} - 1$]</td>
<td>èµ‹å€¼æ—¶ä¸€èˆ¬åœ¨æ•°å­—ååŠ  <code>d</code> æˆ– <code>D</code></td>
</tr>
</tbody></table>
<p>å°½ç®¡å„ç§æ•°æ®ç±»å‹çš„é»˜è®¤å€¼çœ‹èµ·æ¥ä¸ä¸€æ ·ï¼Œä½†åœ¨å†…å­˜ä¸­éƒ½æ˜¯ 0ã€‚</p>
<p>åœ¨è¿™äº›åŸºæœ¬ç±»å‹ä¸­ï¼Œ<code>boolean</code> å’Œ <code>char</code> æ˜¯å”¯äºŒçš„æ— ç¬¦å·ç±»å‹ã€‚</p>
<h3 id="1-2-å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«"><a href="#1-2-å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«" class="headerlink" title="1.2. å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«"></a>1.2. å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«</h3><ul>
<li>ä»æ¦‚å¿µæ–¹é¢æ¥è¯´<ul>
<li>åŸºæœ¬ç±»å‹ï¼šå˜é‡åæŒ‡å‘å…·ä½“çš„æ•°å€¼ã€‚</li>
<li>å¼•ç”¨ç±»å‹ï¼šå˜é‡åæŒ‡å‘å­˜æ•°æ®å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚</li>
</ul>
</li>
<li>ä»å†…å­˜æ–¹é¢æ¥è¯´<ul>
<li>åŸºæœ¬ç±»å‹ï¼šå˜é‡åœ¨å£°æ˜ä¹‹åï¼ŒJava å°±ä¼šç«‹åˆ»åˆ†é…ç»™ä»–å†…å­˜ç©ºé—´ã€‚</li>
<li>å¼•ç”¨ç±»å‹ï¼šå®ƒä»¥ç‰¹æ®Šçš„æ–¹å¼ï¼ˆç±»ä¼¼ C æŒ‡é’ˆï¼‰å‘å¯¹è±¡å®ä½“ï¼ˆå…·ä½“çš„å€¼ï¼‰ï¼Œè¿™ç±»å˜é‡å£°æ˜æ—¶ä¸ä¼šåˆ†é…å†…å­˜ï¼Œåªæ˜¯å­˜å‚¨äº†ä¸€ä¸ªå†…å­˜åœ°å€ã€‚</li>
</ul>
</li>
<li>ä»ä½¿ç”¨æ–¹é¢æ¥è¯´<ul>
<li>åŸºæœ¬ç±»å‹ï¼šä½¿ç”¨æ—¶éœ€è¦èµ‹å…·ä½“å€¼,åˆ¤æ–­æ—¶ä½¿ç”¨ <code>==</code> å·ã€‚</li>
<li>å¼•ç”¨ç±»å‹ï¼šä½¿ç”¨æ—¶å¯ä»¥èµ‹ nullï¼Œåˆ¤æ–­æ—¶ä½¿ç”¨ <code>equals</code> æ–¹æ³•ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://juejin.im/post/59cd71835188255d3448faf6">Java åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨ç±»å‹</a></p>
<p>è¿™ç¯‡æ–‡ç« å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å†…å­˜å­˜å‚¨è®²è¿°æ¯”è¾ƒç”ŸåŠ¨ã€‚</p>
</blockquote>
<h2 id="2-æ•°æ®è½¬æ¢"><a href="#2-æ•°æ®è½¬æ¢" class="headerlink" title="2. æ•°æ®è½¬æ¢"></a>2. æ•°æ®è½¬æ¢</h2><p>Java ä¸­ï¼Œæ•°æ®ç±»å‹è½¬æ¢æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>è‡ªåŠ¨è½¬æ¢</li>
<li>å¼ºåˆ¶è½¬æ¢</li>
</ul>
<h3 id="2-1-è‡ªåŠ¨è½¬æ¢"><a href="#2-1-è‡ªåŠ¨è½¬æ¢" class="headerlink" title="2.1. è‡ªåŠ¨è½¬æ¢"></a>2.1. è‡ªåŠ¨è½¬æ¢</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®šä¹‰äº†æŸæ•°æ®ç±»å‹çš„å˜é‡ï¼Œå°±ä¸èƒ½å†éšæ„è½¬æ¢ã€‚ä½†æ˜¯ JAVA å…è®¸ç”¨æˆ·å¯¹åŸºæœ¬ç±»å‹åš<strong>æœ‰é™åº¦</strong>çš„ç±»å‹è½¬æ¢ã€‚</p>
<p>å¦‚æœç¬¦åˆä»¥ä¸‹æ¡ä»¶ï¼Œåˆ™ JAVA å°†ä¼šè‡ªåŠ¨åšç±»å‹è½¬æ¢ï¼š</p>
<ul>
<li><p><strong>ç”±å°æ•°æ®è½¬æ¢ä¸ºå¤§æ•°æ®</strong></p>
<p>æ˜¾è€Œæ˜“è§çš„æ˜¯ï¼Œâ€œå°â€æ•°æ®ç±»å‹çš„æ•°å€¼è¡¨ç¤ºèŒƒå›´å°äºâ€œå¤§â€æ•°æ®ç±»å‹çš„æ•°å€¼è¡¨ç¤ºèŒƒå›´ï¼Œå³ç²¾åº¦å°äºâ€œå¤§â€æ•°æ®ç±»å‹ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¦‚æœâ€œå¤§â€æ•°æ®å‘â€œå°â€æ•°æ®è½¬æ¢ï¼Œä¼šä¸¢å¤±æ•°æ®ç²¾åº¦ã€‚æ¯”å¦‚ï¼šlong è½¬ä¸º intï¼Œåˆ™è¶…å‡º int è¡¨ç¤ºèŒƒå›´çš„æ•°æ®å°†ä¼šä¸¢å¤±ï¼Œå¯¼è‡´ç»“æœçš„ä¸ç¡®å®šæ€§ã€‚</p>
<p>åä¹‹ï¼Œâ€œå°â€æ•°æ®å‘â€œå¤§â€æ•°æ®è½¬æ¢ï¼Œåˆ™ä¸ä¼šå­˜åœ¨æ•°æ®ä¸¢å¤±æƒ…å†µã€‚ç”±äºè¿™ä¸ªåŸå› ï¼Œè¿™ç§ç±»å‹è½¬æ¢ä¹Ÿç§°ä¸º<strong>æ‰©å¤§è½¬æ¢</strong>ã€‚</p>
<p>è¿™äº›ç±»å‹ç”±â€œå°â€åˆ°â€œå¤§â€åˆ†åˆ«ä¸ºï¼š(byteï¼Œshortï¼Œchar) &lt; int &lt; long &lt; float &lt; doubleã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬æ‰€è¯´çš„â€œå¤§â€ä¸â€œå°â€ï¼Œå¹¶ä¸æ˜¯æŒ‡å ç”¨å­—èŠ‚çš„å¤šå°‘ï¼Œè€Œæ˜¯æŒ‡è¡¨ç¤ºå€¼çš„èŒƒå›´çš„å¤§å°ã€‚</p>
</li>
<li><p><strong>è½¬æ¢å‰åçš„æ•°æ®ç±»å‹è¦å…¼å®¹</strong></p>
<p>ç”±äº boolean ç±»å‹åªèƒ½å­˜æ”¾ true æˆ– falseï¼Œè¿™ä¸æ•´æ•°æˆ–å­—ç¬¦æ˜¯ä¸å…¼å®¹çš„ï¼Œå› æ­¤ä¸å¯ä»¥åšç±»å‹è½¬æ¢ã€‚</p>
</li>
<li><p><strong>æ•´å‹ç±»å‹å’Œæµ®ç‚¹å‹è¿›è¡Œè®¡ç®—åï¼Œç»“æœä¼šè½¬ä¸ºæµ®ç‚¹ç±»å‹</strong></p>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">long</span> x = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">float</span> y = <span class="number">14.3f</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;x/y = &quot;</span> + x/y);</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">x/y = 1.9607843</span><br></pre></td></tr></table></figure>

<p>å¯è§ long è™½ç„¶ç²¾åº¦å¤§äº float ç±»å‹ï¼Œä½†æ˜¯ç»“æœä¸ºæµ®ç‚¹æ•°ç±»å‹ã€‚</p>
<h3 id="2-2-å¼ºåˆ¶è½¬æ¢"><a href="#2-2-å¼ºåˆ¶è½¬æ¢" class="headerlink" title="2.2. å¼ºåˆ¶è½¬æ¢"></a>2.2. å¼ºåˆ¶è½¬æ¢</h3><p>åœ¨ä¸ç¬¦åˆè‡ªåŠ¨è½¬æ¢æ¡ä»¶æ—¶æˆ–è€…æ ¹æ®ç”¨æˆ·çš„éœ€è¦ï¼Œå¯ä»¥å¯¹æ•°æ®ç±»å‹åšå¼ºåˆ¶çš„è½¬æ¢ã€‚</p>
<p><strong>å¼ºåˆ¶è½¬æ¢ä½¿ç”¨æ‹¬å· <code>()</code> ã€‚</strong></p>
<p>å¼•ç”¨ç±»å‹ä¹Ÿå¯ä»¥ä½¿ç”¨å¼ºåˆ¶è½¬æ¢ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">float</span> f = <span class="number">25.5f</span>;</span><br><span class="line"><span class="keyword">int</span> x = (<span class="keyword">int</span>)f;</span><br><span class="line">System.out.println(<span class="string">&quot;x = &quot;</span> + x);</span><br></pre></td></tr></table></figure>

<h2 id="3-è£…ç®±å’Œæ‹†ç®±"><a href="#3-è£…ç®±å’Œæ‹†ç®±" class="headerlink" title="3. è£…ç®±å’Œæ‹†ç®±"></a>3. è£…ç®±å’Œæ‹†ç®±</h2><h3 id="3-1-åŒ…è£…ç±»ã€è£…ç®±ã€æ‹†ç®±"><a href="#3-1-åŒ…è£…ç±»ã€è£…ç®±ã€æ‹†ç®±" class="headerlink" title="3.1. åŒ…è£…ç±»ã€è£…ç®±ã€æ‹†ç®±"></a>3.1. åŒ…è£…ç±»ã€è£…ç®±ã€æ‹†ç®±</h3><p>Java ä¸­ä¸ºæ¯ä¸€ç§åŸºæœ¬æ•°æ®ç±»å‹æä¾›äº†ç›¸åº”çš„åŒ…è£…ç±»ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Byte &lt;-&gt; byte</span><br><span class="line">Short &lt;-&gt; short</span><br><span class="line">Integer &lt;-&gt; int</span><br><span class="line">Long &lt;-&gt; long</span><br><span class="line">Float &lt;-&gt; float</span><br><span class="line">Double &lt;-&gt; double</span><br><span class="line">Character &lt;-&gt; char</span><br><span class="line">Boolean &lt;-&gt; boolean</span><br></pre></td></tr></table></figure>

<p><strong>å¼•å…¥åŒ…è£…ç±»çš„ç›®çš„</strong>å°±æ˜¯ï¼šæä¾›ä¸€ç§æœºåˆ¶ï¼Œä½¿å¾—<strong>åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ä¸å¼•ç”¨ç±»å‹äº’ç›¸è½¬æ¢</strong>ã€‚</p>
<p>åŸºæœ¬æ•°æ®ç±»å‹ä¸åŒ…è£…ç±»çš„è½¬æ¢è¢«ç§°ä¸º <code>è£…ç®±</code>å’Œ <code>æ‹†ç®±</code>ã€‚</p>
<ul>
<li><strong><code>è£…ç®±</code>ï¼ˆboxingï¼‰æ˜¯å°†å€¼ç±»å‹è½¬æ¢ä¸ºå¼•ç”¨ç±»å‹</strong>ã€‚ä¾‹å¦‚ï¼š<code>int</code> è½¬ <code>Integer</code><ul>
<li>è£…ç®±è¿‡ç¨‹æ˜¯é€šè¿‡è°ƒç”¨åŒ…è£…ç±»çš„ <code>valueOf</code> æ–¹æ³•å®ç°çš„ã€‚</li>
</ul>
</li>
<li><strong><code>æ‹†ç®±</code>ï¼ˆunboxingï¼‰æ˜¯å°†å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºå€¼ç±»å‹</strong>ã€‚ä¾‹å¦‚ï¼š<code>Integer</code> è½¬ <code>int</code><ul>
<li>æ‹†ç®±è¿‡ç¨‹æ˜¯é€šè¿‡è°ƒç”¨åŒ…è£…ç±»çš„ <code>xxxValue</code> æ–¹æ³•å®ç°çš„ã€‚ï¼ˆxxx ä»£è¡¨å¯¹åº”çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 id="3-2-è‡ªåŠ¨è£…ç®±ã€è‡ªåŠ¨æ‹†ç®±"><a href="#3-2-è‡ªåŠ¨è£…ç®±ã€è‡ªåŠ¨æ‹†ç®±" class="headerlink" title="3.2. è‡ªåŠ¨è£…ç®±ã€è‡ªåŠ¨æ‹†ç®±"></a>3.2. è‡ªåŠ¨è£…ç®±ã€è‡ªåŠ¨æ‹†ç®±</h3><p>åŸºæœ¬æ•°æ®ï¼ˆPrimitiveï¼‰å‹çš„è‡ªåŠ¨è£…ç®±ï¼ˆboxingï¼‰æ‹†ç®±ï¼ˆunboxingï¼‰è‡ª JDK 5 å¼€å§‹æä¾›çš„åŠŸèƒ½ã€‚</p>
<p>è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±çš„æœºåˆ¶å¯ä»¥è®©æˆ‘ä»¬åœ¨ Java çš„å˜é‡èµ‹å€¼æˆ–è€…æ˜¯æ–¹æ³•è°ƒç”¨ç­‰æƒ…å†µä¸‹ä½¿ç”¨åŸå§‹ç±»å‹æˆ–è€…å¯¹è±¡ç±»å‹æ›´åŠ ç®€å•ç›´æ¥ã€‚<br>å› ä¸ºè‡ªåŠ¨è£…ç®±ä¼šéšå¼åœ°åˆ›å»ºå¯¹è±¡ï¼Œå¦‚æœåœ¨ä¸€ä¸ªå¾ªç¯ä½“ä¸­ï¼Œä¼šåˆ›å»ºæ— ç”¨çš„ä¸­é—´å¯¹è±¡ï¼Œè¿™æ ·ä¼šå¢åŠ  GC å‹åŠ›ï¼Œæ‹‰ä½ç¨‹åºçš„æ€§èƒ½ã€‚æ‰€ä»¥åœ¨å†™å¾ªç¯æ—¶ä¸€å®šè¦æ³¨æ„ä»£ç ï¼Œé¿å…å¼•å…¥ä¸å¿…è¦çš„è‡ªåŠ¨è£…ç®±æ“ä½œã€‚</p>
<p>JDK 5 ä¹‹å‰çš„å½¢å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Integer i1 = <span class="keyword">new</span> Integer(<span class="number">10</span>); <span class="comment">// éè‡ªåŠ¨è£…ç®±</span></span><br></pre></td></tr></table></figure>

<p>JDK 5 ä¹‹åï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Integer i2 = <span class="number">10</span>; <span class="comment">// è‡ªåŠ¨è£…ç®±</span></span><br></pre></td></tr></table></figure>

<p>Java å¯¹äºè‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±çš„è®¾è®¡ï¼Œä¾èµ–äºä¸€ç§å«åšäº«å…ƒæ¨¡å¼çš„è®¾è®¡æ¨¡å¼ï¼ˆæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»äº†è§£ä¸€ä¸‹æºç ï¼Œè¿™é‡Œä¸å¯¹è®¾è®¡æ¨¡å¼å±•å¼€è¯¦è¿°ï¼‰ã€‚</p>
<blockquote>
<p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://www.cnblogs.com/dolphin0520/p/3780005.html">æ·±å…¥å‰–æ Java ä¸­çš„è£…ç®±å’Œæ‹†ç®±</a></p>
<p>ç»“åˆç¤ºä¾‹ï¼Œä¸€æ­¥æ­¥é˜è¿°è£…ç®±å’Œæ‹†ç®±åŸç†ã€‚</p>
</blockquote>
<h3 id="3-3-è£…ç®±ã€æ‹†ç®±çš„åº”ç”¨å’Œæ³¨æ„ç‚¹"><a href="#3-3-è£…ç®±ã€æ‹†ç®±çš„åº”ç”¨å’Œæ³¨æ„ç‚¹" class="headerlink" title="3.3. è£…ç®±ã€æ‹†ç®±çš„åº”ç”¨å’Œæ³¨æ„ç‚¹"></a>3.3. è£…ç®±ã€æ‹†ç®±çš„åº”ç”¨å’Œæ³¨æ„ç‚¹</h3><h4 id="è£…ç®±ã€æ‹†ç®±åº”ç”¨åœºæ™¯"><a href="#è£…ç®±ã€æ‹†ç®±åº”ç”¨åœºæ™¯" class="headerlink" title="è£…ç®±ã€æ‹†ç®±åº”ç”¨åœºæ™¯"></a>è£…ç®±ã€æ‹†ç®±åº”ç”¨åœºæ™¯</h4><ul>
<li>ä¸€ç§æœ€æ™®é€šçš„åœºæ™¯æ˜¯ï¼šè°ƒç”¨ä¸€ä¸ª<strong>å«ç±»å‹ä¸º <code>Object</code> å‚æ•°çš„æ–¹æ³•</strong>ï¼Œè¯¥ <code>Object</code> å¯æ”¯æŒä»»æ„ç±»å‹ï¼ˆå› ä¸º <code>Object</code> æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼‰ï¼Œä»¥ä¾¿é€šç”¨ã€‚å½“ä½ éœ€è¦å°†ä¸€ä¸ªå€¼ç±»å‹ï¼ˆå¦‚ intï¼‰ä¼ å…¥æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <code>Integer</code> è£…ç®±ã€‚</li>
<li>å¦ä¸€ç§ç”¨æ³•æ˜¯ï¼šä¸€ä¸ª<strong>éæ³›å‹çš„å®¹å™¨</strong>ï¼ŒåŒæ ·æ˜¯ä¸ºäº†ä¿è¯é€šç”¨ï¼Œè€Œå°†å…ƒç´ ç±»å‹å®šä¹‰ä¸º <code>Object</code>ã€‚äºæ˜¯ï¼Œè¦å°†å€¼ç±»å‹æ•°æ®åŠ å…¥å®¹å™¨æ—¶ï¼Œéœ€è¦è£…ç®±ã€‚</li>
<li>å½“ <code>==</code> è¿ç®—ç¬¦çš„ä¸¤ä¸ªæ“ä½œï¼Œä¸€ä¸ªæ“ä½œæ•°æ˜¯åŒ…è£…ç±»ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°æ˜¯è¡¨è¾¾å¼ï¼ˆå³åŒ…å«ç®—æœ¯è¿ç®—ï¼‰åˆ™æ¯”è¾ƒçš„æ˜¯æ•°å€¼ï¼ˆå³ä¼šè§¦å‘è‡ªåŠ¨æ‹†ç®±çš„è¿‡ç¨‹ï¼‰ã€‚</li>
</ul>
<p>ã€ç¤ºä¾‹ã€‘è£…ç®±ã€æ‹†ç®±ç¤ºä¾‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Integer i1 = <span class="number">10</span>; <span class="comment">// è‡ªåŠ¨è£…ç®±</span></span><br><span class="line">Integer i2 = <span class="keyword">new</span> Integer(<span class="number">10</span>); <span class="comment">// éè‡ªåŠ¨è£…ç®±</span></span><br><span class="line">Integer i3 = Integer.valueOf(<span class="number">10</span>); <span class="comment">// éè‡ªåŠ¨è£…ç®±</span></span><br><span class="line"><span class="keyword">int</span> i4 = <span class="keyword">new</span> Integer(<span class="number">10</span>); <span class="comment">// è‡ªåŠ¨æ‹†ç®±</span></span><br><span class="line"><span class="keyword">int</span> i5 = i2.intValue(); <span class="comment">// éè‡ªåŠ¨æ‹†ç®±</span></span><br><span class="line">System.out.println(<span class="string">&quot;i1 = [&quot;</span> + i1 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;i2 = [&quot;</span> + i2 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;i3 = [&quot;</span> + i3 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;i4 = [&quot;</span> + i4 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;i5 = [&quot;</span> + i5 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;i1 == i2 is [&quot;</span> + (i1 == i2) + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;i1 == i4 is [&quot;</span> + (i1 == i4) + <span class="string">&quot;]&quot;</span>); <span class="comment">// è‡ªåŠ¨æ‹†ç®±</span></span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// i1 = [10]</span></span><br><span class="line"><span class="comment">// i2 = [10]</span></span><br><span class="line"><span class="comment">// i3 = [10]</span></span><br><span class="line"><span class="comment">// i4 = [10]</span></span><br><span class="line"><span class="comment">// i5 = [10]</span></span><br><span class="line"><span class="comment">// i1 == i2 is [false]</span></span><br><span class="line"><span class="comment">// i1 == i4 is [true]</span></span><br></pre></td></tr></table></figure>

<p>ã€è¯´æ˜ã€‘</p>
<p>ä¸Šé¢çš„ä¾‹å­ï¼Œè™½ç„¶ç®€å•ï¼Œä½†å´éšè—äº†è‡ªåŠ¨è£…ç®±ã€æ‹†ç®±å’Œéè‡ªåŠ¨è£…ç®±ã€æ‹†ç®±çš„åº”ç”¨ã€‚ä»ä¾‹å­ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ˜æ˜æ‰€æœ‰å˜é‡éƒ½åˆå§‹åŒ–ä¸ºæ•°å€¼ 10 äº†ï¼Œä½†ä¸ºä½•ä¼šå‡ºç° <code>i1 == i2 is [false</code> è€Œ <code>i1 == i4 is [true]</code> ï¼Ÿ</p>
<p>åŸå› åœ¨äºï¼š</p>
<ul>
<li>i1ã€i2 éƒ½æ˜¯åŒ…è£…ç±»ï¼Œä½¿ç”¨ <code>==</code> æ—¶ï¼ŒJava å°†å®ƒä»¬å½“åšä¸¤ä¸ªå¯¹è±¡ï¼Œè€Œéä¸¤ä¸ª int å€¼æ¥æ¯”è¾ƒï¼Œæ‰€ä»¥ä¸¤ä¸ªå¯¹è±¡è‡ªç„¶æ˜¯ä¸ç›¸ç­‰çš„ã€‚æ­£ç¡®çš„æ¯”è¾ƒæ“ä½œåº”è¯¥ä½¿ç”¨ <code>equals</code> æ–¹æ³•ã€‚</li>
<li>i1 æ˜¯åŒ…è£…ç±»ï¼Œi4 æ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼Œä½¿ç”¨ <code>==</code> æ—¶ï¼ŒJava ä¼šå°†ä¸¤ä¸ª i1 è¿™ä¸ªåŒ…è£…ç±»å¯¹è±¡è‡ªåŠ¨æ‹†ç®±ä¸ºä¸€ä¸ª <code>int</code> å€¼ï¼Œå†ä»£å…¥åˆ° <code>==</code> è¿ç®—è¡¨è¾¾å¼ä¸­è®¡ç®—ï¼›æœ€ç»ˆï¼Œç›¸å½“äºä¸¤ä¸ª <code>int</code> è¿›è¡Œæ¯”è¾ƒï¼Œç”±äºå€¼ç›¸åŒï¼Œæ‰€ä»¥ç»“æœç›¸ç­‰ã€‚</li>
</ul>
<p>ã€ç¤ºä¾‹ã€‘åŒ…è£…ç±»åˆ¤ç­‰é—®é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Integer a = <span class="number">127</span>; <span class="comment">//Integer.valueOf(127)</span></span><br><span class="line">Integer b = <span class="number">127</span>; <span class="comment">//Integer.valueOf(127)</span></span><br><span class="line">log.info(<span class="string">&quot;\nInteger a = 127;\nInteger b = 127;\na == b ? &#123;&#125;&quot;</span>, a == b);    <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">Integer c = <span class="number">128</span>; <span class="comment">//Integer.valueOf(128)</span></span><br><span class="line">Integer d = <span class="number">128</span>; <span class="comment">//Integer.valueOf(128)</span></span><br><span class="line">log.info(<span class="string">&quot;\nInteger c = 128;\nInteger d = 128;\nc == d ? &#123;&#125;&quot;</span>, c == d);   <span class="comment">//false</span></span><br><span class="line"><span class="comment">//è®¾ç½®-XX:AutoBoxCacheMax=1000å†è¯•è¯•</span></span><br><span class="line"></span><br><span class="line">Integer e = <span class="number">127</span>; <span class="comment">//Integer.valueOf(127)</span></span><br><span class="line">Integer f = <span class="keyword">new</span> Integer(<span class="number">127</span>); <span class="comment">//new instance</span></span><br><span class="line">log.info(<span class="string">&quot;\nInteger e = 127;\nInteger f = new Integer(127);\ne == f ? &#123;&#125;&quot;</span>, e == f);   <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">Integer g = <span class="keyword">new</span> Integer(<span class="number">127</span>); <span class="comment">//new instance</span></span><br><span class="line">Integer h = <span class="keyword">new</span> Integer(<span class="number">127</span>); <span class="comment">//new instance</span></span><br><span class="line">log.info(<span class="string">&quot;\nInteger g = new Integer(127);\nInteger h = new Integer(127);\ng == h ? &#123;&#125;&quot;</span>, g == h);  <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">Integer i = <span class="number">128</span>; <span class="comment">//unbox</span></span><br><span class="line"><span class="keyword">int</span> j = <span class="number">128</span>;</span><br><span class="line">log.info(<span class="string">&quot;\nInteger i = 128;\nint j = 128;\ni == j ? &#123;&#125;&quot;</span>, i == j); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è¿è¡Œç»“æœå¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶çœ‹èµ·æ¥æ°¸è¿œæ˜¯åœ¨å¯¹ 127 å’Œ 127ã€128 å’Œ 128 åˆ¤ç­‰ï¼Œä½† == å´å¹¶éæ€»æ˜¯è¿”å› trueã€‚</p>
<h4 id="è£…ç®±ã€æ‹†ç®±åº”ç”¨æ³¨æ„ç‚¹"><a href="#è£…ç®±ã€æ‹†ç®±åº”ç”¨æ³¨æ„ç‚¹" class="headerlink" title="è£…ç®±ã€æ‹†ç®±åº”ç”¨æ³¨æ„ç‚¹"></a>è£…ç®±ã€æ‹†ç®±åº”ç”¨æ³¨æ„ç‚¹</h4><ol>
<li>è£…ç®±æ“ä½œä¼šåˆ›å»ºå¯¹è±¡ï¼Œé¢‘ç¹çš„è£…ç®±æ“ä½œä¼šé€ æˆä¸å¿…è¦çš„å†…å­˜æ¶ˆè€—ï¼Œå½±å“æ€§èƒ½ã€‚æ‰€ä»¥<strong>åº”è¯¥å°½é‡é¿å…è£…ç®±ã€‚</strong></li>
<li>åŸºç¡€æ•°æ®ç±»å‹çš„æ¯”è¾ƒæ“ä½œä½¿ç”¨ <code>==</code>ï¼ŒåŒ…è£…ç±»çš„æ¯”è¾ƒæ“ä½œä½¿ç”¨ <code>equals</code> æ–¹æ³•ã€‚</li>
</ol>
<h2 id="4-åˆ¤ç­‰é—®é¢˜"><a href="#4-åˆ¤ç­‰é—®é¢˜" class="headerlink" title="4. åˆ¤ç­‰é—®é¢˜"></a>4. åˆ¤ç­‰é—®é¢˜</h2><p>Java ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ <code>equals</code> æˆ– <code>==</code> è¿›è¡Œåˆ¤ç­‰æ“ä½œã€‚<code>equals</code> æ˜¯æ–¹æ³•è€Œ <code>==</code> æ˜¯æ“ä½œç¬¦ã€‚æ­¤å¤–ï¼ŒäºŒè€…ä½¿ç”¨ä¹Ÿæ˜¯æœ‰åŒºåˆ«çš„ï¼š</p>
<ul>
<li>å¯¹<strong>åŸºæœ¬ç±»å‹</strong>ï¼Œæ¯”å¦‚ <code>int</code>ã€<code>long</code>ï¼Œè¿›è¡Œåˆ¤ç­‰ï¼Œ<strong>åªèƒ½ä½¿ç”¨ <code>==</code>ï¼Œæ¯”è¾ƒçš„æ˜¯å­—é¢å€¼</strong>ã€‚å› ä¸ºåŸºæœ¬ç±»å‹çš„å€¼å°±æ˜¯å…¶æ•°å€¼ã€‚</li>
<li>å¯¹<strong>å¼•ç”¨ç±»å‹</strong>ï¼Œæ¯”å¦‚ <code>Integer</code>ã€<code>Long</code> å’Œ <code>String</code>ï¼Œè¿›è¡Œåˆ¤ç­‰ï¼Œ<strong>éœ€è¦ä½¿ç”¨ <code>equals</code> è¿›è¡Œå†…å®¹åˆ¤ç­‰</strong>ã€‚å› ä¸ºå¼•ç”¨ç±»å‹çš„ç›´æ¥å€¼æ˜¯æŒ‡é’ˆï¼Œä½¿ç”¨ <code>==</code> çš„è¯ï¼Œæ¯”è¾ƒçš„æ˜¯æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œå³æ¯”è¾ƒå®ƒä»¬æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯æ¯”è¾ƒå¯¹è±¡çš„å†…å®¹ã€‚</li>
</ul>
<h3 id="4-1-åŒ…è£…ç±»çš„åˆ¤ç­‰"><a href="#4-1-åŒ…è£…ç±»çš„åˆ¤ç­‰" class="headerlink" title="4.1. åŒ…è£…ç±»çš„åˆ¤ç­‰"></a>4.1. åŒ…è£…ç±»çš„åˆ¤ç­‰</h3><p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç¤ºä¾‹æ¥æ·±å…¥ç ”ç©¶ä¸€ä¸‹åˆ¤ç­‰é—®é¢˜ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘åŒ…è£…ç±»çš„åˆ¤ç­‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Integer a = <span class="number">127</span>; <span class="comment">//Integer.valueOf(127)</span></span><br><span class="line">Integer b = <span class="number">127</span>; <span class="comment">//Integer.valueOf(127)</span></span><br><span class="line">log.info(<span class="string">&quot;\nInteger a = 127;\nInteger b = 127;\na == b ? &#123;&#125;&quot;</span>, a == b);    <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">Integer c = <span class="number">128</span>; <span class="comment">//Integer.valueOf(128)</span></span><br><span class="line">Integer d = <span class="number">128</span>; <span class="comment">//Integer.valueOf(128)</span></span><br><span class="line">log.info(<span class="string">&quot;\nInteger c = 128;\nInteger d = 128;\nc == d ? &#123;&#125;&quot;</span>, c == d);   <span class="comment">//false</span></span><br><span class="line"><span class="comment">//è®¾ç½®-XX:AutoBoxCacheMax=1000å†è¯•è¯•</span></span><br><span class="line"></span><br><span class="line">Integer e = <span class="number">127</span>; <span class="comment">//Integer.valueOf(127)</span></span><br><span class="line">Integer f = <span class="keyword">new</span> Integer(<span class="number">127</span>); <span class="comment">//new instance</span></span><br><span class="line">log.info(<span class="string">&quot;\nInteger e = 127;\nInteger f = new Integer(127);\ne == f ? &#123;&#125;&quot;</span>, e == f);   <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">Integer g = <span class="keyword">new</span> Integer(<span class="number">127</span>); <span class="comment">//new instance</span></span><br><span class="line">Integer h = <span class="keyword">new</span> Integer(<span class="number">127</span>); <span class="comment">//new instance</span></span><br><span class="line">log.info(<span class="string">&quot;\nInteger g = new Integer(127);\nInteger h = new Integer(127);\ng == h ? &#123;&#125;&quot;</span>, g == h);  <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">Integer i = <span class="number">128</span>; <span class="comment">//unbox</span></span><br><span class="line"><span class="keyword">int</span> j = <span class="number">128</span>;</span><br><span class="line">log.info(<span class="string">&quot;\nInteger i = 128;\nint j = 128;\ni == j ? &#123;&#125;&quot;</span>, i == j); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€ä¸ªæ¡ˆä¾‹ä¸­ï¼Œç¼–è¯‘å™¨ä¼šæŠŠ Integer a = 127 è½¬æ¢ä¸º Integer.valueOf(127)ã€‚æŸ¥çœ‹æºç å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªè½¬æ¢åœ¨å†…éƒ¨å…¶å®åšäº†ç¼“å­˜ï¼Œä½¿å¾—ä¸¤ä¸ª Integer æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ == è¿”å› trueã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">        <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Integer(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒä¸ªæ¡ˆä¾‹ä¸­ï¼Œä¹‹æ‰€ä»¥åŒæ ·çš„ä»£ç  128 å°±è¿”å› false çš„åŸå› æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šç¼“å­˜[-128,127]çš„æ•°å€¼ï¼Œè€Œ 128 å¤„äºè¿™ä¸ªåŒºé—´ä¹‹å¤–ã€‚è®¾ç½® JVM å‚æ•°åŠ ä¸Š -XX:AutoBoxCacheMax=1000 å†è¯•è¯•ï¼Œæ˜¯ä¸æ˜¯å°±è¿”å› true äº†å‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerCache</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> low = -<span class="number">128</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> high;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Integer cache[];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// high value may be configured by property</span></span><br><span class="line">        <span class="keyword">int</span> h = <span class="number">127</span>;</span><br><span class="line">        String integerCacheHighPropValue =</span><br><span class="line">            sun.misc.VM.getSavedProperty(<span class="string">&quot;java.lang.Integer.IntegerCache.high&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (integerCacheHighPropValue != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> i = parseInt(integerCacheHighPropValue);</span><br><span class="line">                i = Math.max(i, <span class="number">127</span>);</span><br><span class="line">                <span class="comment">// Maximum array size is Integer.MAX_VALUE</span></span><br><span class="line">                h = Math.min(i, Integer.MAX_VALUE - (-low) -<span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span>( NumberFormatException nfe) &#123;</span><br><span class="line">                <span class="comment">// If the property cannot be parsed into an int, ignore it.</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        high = h;</span><br><span class="line"></span><br><span class="line">        cache = <span class="keyword">new</span> Integer[(high - low) + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> j = low;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; cache.length; k++)</span><br><span class="line">            cache[k] = <span class="keyword">new</span> Integer(j++);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span></span><br><span class="line">        <span class="keyword">assert</span> IntegerCache.high &gt;= <span class="number">127</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">IntegerCache</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰å’Œç¬¬å››ä¸ªæ¡ˆä¾‹ä¸­ï¼ŒNew å‡ºæ¥çš„ Integer å§‹ç»ˆæ˜¯ä¸èµ°ç¼“å­˜çš„æ–°å¯¹è±¡ã€‚æ¯”è¾ƒä¸¤ä¸ªæ–°å¯¹è±¡ï¼Œæˆ–è€…æ¯”è¾ƒä¸€ä¸ªæ–°å¯¹è±¡å’Œä¸€ä¸ªæ¥è‡ªç¼“å­˜çš„å¯¹è±¡ï¼Œç»“æœè‚¯å®šä¸æ˜¯ç›¸åŒçš„å¯¹è±¡ï¼Œå› æ­¤è¿”å› falseã€‚</p>
<p>ç¬¬äº”ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬æŠŠè£…ç®±çš„ Integer å’ŒåŸºæœ¬ç±»å‹ int æ¯”è¾ƒï¼Œå‰è€…ä¼šå…ˆæ‹†ç®±å†æ¯”è¾ƒï¼Œæ¯”è¾ƒçš„è‚¯å®šæ˜¯æ•°å€¼è€Œä¸æ˜¯å¼•ç”¨ï¼Œå› æ­¤è¿”å› trueã€‚</p>
<blockquote>
<p>ã€æ€»ç»“ã€‘ç»¼ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼š**åŒ…è£…ç±»éœ€è¦ä½¿ç”¨ <code>equals</code> è¿›è¡Œå†…å®¹åˆ¤ç­‰ï¼Œè€Œä¸èƒ½ä½¿ç”¨ <code>==</code>**ã€‚</p>
</blockquote>
<h3 id="4-2-String-çš„åˆ¤ç­‰"><a href="#4-2-String-çš„åˆ¤ç­‰" class="headerlink" title="4.2. String çš„åˆ¤ç­‰"></a>4.2. String çš„åˆ¤ç­‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String a = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">String b = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">log.info(<span class="string">&quot;\nString a = \&quot;1\&quot;;\nString b = \&quot;1\&quot;;\na == b ? &#123;&#125;&quot;</span>, a == b); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">String c = <span class="keyword">new</span> String(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">String d = <span class="keyword">new</span> String(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">log.info(<span class="string">&quot;\nString c = new String(\&quot;2\&quot;);\nString d = new String(\&quot;2\&quot;);\nc == d ? &#123;&#125;&quot;</span>, c == d); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">String e = <span class="keyword">new</span> String(<span class="string">&quot;3&quot;</span>).intern();</span><br><span class="line">String f = <span class="keyword">new</span> String(<span class="string">&quot;3&quot;</span>).intern();</span><br><span class="line">log.info(<span class="string">&quot;\nString e = new String(\&quot;3\&quot;).intern();\nString f = new String(\&quot;3\&quot;).intern();\ne == f ? &#123;&#125;&quot;</span>, e == f); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">String g = <span class="keyword">new</span> String(<span class="string">&quot;4&quot;</span>);</span><br><span class="line">String h = <span class="keyword">new</span> String(<span class="string">&quot;4&quot;</span>);</span><br><span class="line">log.info(<span class="string">&quot;\nString g = new String(\&quot;4\&quot;);\nString h = new String(\&quot;4\&quot;);\ng == h ? &#123;&#125;&quot;</span>, g.equals(h)); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ JVM ä¸­ï¼Œå½“ä»£ç ä¸­å‡ºç°åŒå¼•å·å½¢å¼åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡æ—¶ï¼ŒJVM ä¼šå…ˆå¯¹è¿™ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å­˜åœ¨ç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ï¼Œåˆ™å°†è¿™ä¸ªå¼•ç”¨è¿”å›ï¼›å¦åˆ™ï¼Œåˆ›å»ºæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œç„¶åå°†è¿™ä¸ªå¼•ç”¨æ”¾å…¥å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œå¹¶è¿”å›è¯¥å¼•ç”¨ã€‚è¿™ç§æœºåˆ¶ï¼Œå°±æ˜¯å­—ç¬¦ä¸²é©»ç•™æˆ–æ± åŒ–ã€‚</p>
<p>ç¬¬ä¸€ä¸ªæ¡ˆä¾‹è¿”å› trueï¼Œå› ä¸º Java çš„å­—ç¬¦ä¸²é©»ç•™æœºåˆ¶ï¼Œç›´æ¥ä½¿ç”¨åŒå¼•å·å£°æ˜å‡ºæ¥çš„ä¸¤ä¸ª String å¯¹è±¡æŒ‡å‘å¸¸é‡æ± ä¸­çš„ç›¸åŒå­—ç¬¦ä¸²ã€‚</p>
<p>ç¬¬äºŒä¸ªæ¡ˆä¾‹ï¼Œnew å‡ºæ¥çš„ä¸¤ä¸ª String æ˜¯ä¸åŒå¯¹è±¡ï¼Œå¼•ç”¨å½“ç„¶ä¸åŒï¼Œæ‰€ä»¥å¾—åˆ° false çš„ç»“æœã€‚</p>
<p>ç¬¬ä¸‰ä¸ªæ¡ˆä¾‹ï¼Œä½¿ç”¨ String æä¾›çš„ intern æ–¹æ³•ä¹Ÿä¼šèµ°å¸¸é‡æ± æœºåˆ¶ï¼Œæ‰€ä»¥åŒæ ·èƒ½å¾—åˆ° trueã€‚</p>
<p>ç¬¬å››ä¸ªæ¡ˆä¾‹ï¼Œé€šè¿‡ equals å¯¹å€¼å†…å®¹åˆ¤ç­‰ï¼Œæ˜¯æ­£ç¡®çš„å¤„ç†æ–¹å¼ï¼Œå½“ç„¶ä¼šå¾—åˆ° trueã€‚</p>
<p>è™½ç„¶ä½¿ç”¨ new å£°æ˜çš„å­—ç¬¦ä¸²è°ƒç”¨ intern æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è®©å­—ç¬¦ä¸²è¿›è¡Œé©»ç•™ï¼Œä½†åœ¨ä¸šåŠ¡ä»£ç ä¸­æ»¥ç”¨ internï¼Œå¯èƒ½ä¼šäº§ç”Ÿæ€§èƒ½é—®é¢˜ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘String#intern æ€§èƒ½æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//-XX:+PrintStringTableStatistics</span></span><br><span class="line"><span class="comment">//-XX:StringTableSize=10000000</span></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">long</span> begin = System.currentTimeMillis();</span><br><span class="line">list = IntStream.rangeClosed(<span class="number">1</span>, <span class="number">10000000</span>)</span><br><span class="line">    .mapToObj(i -&gt; String.valueOf(i).intern())</span><br><span class="line">    .collect(Collectors.toList());</span><br><span class="line">System.out.println(<span class="string">&quot;size:&quot;</span> + list.size());</span><br><span class="line">System.out.println(<span class="string">&quot;time:&quot;</span> + (System.currentTimeMillis() - begin));</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ç¤ºä¾‹æ‰§è¡Œæ—¶é—´ä¼šæ¯”è¾ƒé•¿ã€‚åŸå› åœ¨äºï¼šå­—ç¬¦ä¸²å¸¸é‡æ± æ˜¯ä¸€ä¸ªå›ºå®šå®¹é‡çš„ Mapã€‚å¦‚æœå®¹é‡å¤ªå°ï¼ˆNumber of<br>buckets=60013ï¼‰ã€å­—ç¬¦ä¸²å¤ªå¤šï¼ˆ1000 ä¸‡ä¸ªå­—ç¬¦ä¸²ï¼‰ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªæ¡¶ä¸­çš„å­—ç¬¦ä¸²æ•°é‡ä¼šéå¸¸å¤šï¼Œæ‰€ä»¥æœç´¢èµ·æ¥å°±å¾ˆæ…¢ã€‚è¾“å‡ºç»“æœä¸­çš„ Average bucket size=167ï¼Œä»£è¡¨äº† Map ä¸­æ¡¶çš„å¹³å‡é•¿åº¦æ˜¯ 167ã€‚</p>
<p>è§£å†³æ–¹æ³•æ˜¯ï¼šè®¾ç½® JVM å‚æ•° -XX:StringTableSize=10000000ï¼ŒæŒ‡å®šæ›´å¤šçš„æ¡¶ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿï¼Œå¯ä»¥åœ¨å¯åŠ¨ç¨‹åºæ—¶è®¾ç½® JVM å‚æ•° -XX:+PrintStringTableStatisticï¼Œç¨‹åºé€€å‡ºæ—¶å¯ä»¥æ‰“å°å‡ºå­—ç¬¦ä¸²å¸¸é‡è¡¨çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</p>
<p>æ‰§è¡Œç»“æœæ¯”ä¸è®¾ç½® -XX:StringTableSize è¦å¿«å¾ˆå¤šã€‚</p>
<blockquote>
<p>ã€æ€»ç»“ã€‘<strong>æ²¡äº‹åˆ«è½»æ˜“ç”¨ internï¼Œå¦‚æœè¦ç”¨ä¸€å®šè¦æ³¨æ„æ§åˆ¶é©»ç•™çš„å­—ç¬¦ä¸²çš„æ•°é‡ï¼Œå¹¶ç•™æ„å¸¸é‡è¡¨çš„å„é¡¹æŒ‡æ ‡</strong>ã€‚</p>
</blockquote>
<h3 id="4-3-å®ç°-equals"><a href="#4-3-å®ç°-equals" class="headerlink" title="4.3. å®ç° equals"></a>4.3. å®ç° equals</h3><p>å¦‚æœçœ‹è¿‡ Object ç±»æºç ï¼Œä½ å¯èƒ½å°±çŸ¥é“ï¼Œequals çš„å®ç°å…¶å®æ˜¯æ¯”è¾ƒå¯¹è±¡å¼•ç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">this</span> == obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹‹æ‰€ä»¥ Integer æˆ– String èƒ½é€šè¿‡ equals å®ç°å†…å®¹åˆ¤ç­‰ï¼Œæ˜¯å› ä¸ºå®ƒä»¬éƒ½è¦†å†™äº†è¿™ä¸ªæ–¹æ³•ã€‚</p>
<p>å¯¹äºè‡ªå®šä¹‰ç±»å‹ï¼Œå¦‚æœä¸è¦†å†™ equals çš„è¯ï¼Œé»˜è®¤å°±æ˜¯ä½¿ç”¨ Object åŸºç±»çš„æŒ‰å¼•ç”¨çš„æ¯”è¾ƒæ–¹å¼ã€‚</p>
<p>å®ç°ä¸€ä¸ªæ›´å¥½çš„ equals åº”è¯¥æ³¨æ„çš„ç‚¹ï¼š</p>
<ul>
<li>è€ƒè™‘åˆ°æ€§èƒ½ï¼Œå¯ä»¥å…ˆè¿›è¡ŒæŒ‡é’ˆåˆ¤ç­‰ï¼Œå¦‚æœå¯¹è±¡æ˜¯åŒä¸€ä¸ªé‚£ä¹ˆç›´æ¥è¿”å› trueï¼›</li>
<li>éœ€è¦å¯¹å¦ä¸€æ–¹è¿›è¡Œåˆ¤ç©ºï¼Œç©ºå¯¹è±¡å’Œè‡ªèº«è¿›è¡Œæ¯”è¾ƒï¼Œç»“æœä¸€å®šæ˜¯ fasleï¼›</li>
<li>éœ€è¦åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œå¦‚æœç±»å‹éƒ½ä¸åŒï¼Œé‚£ä¹ˆç›´æ¥è¿”å› falseï¼›</li>
<li>ç¡®ä¿ç±»å‹ç›¸åŒçš„æƒ…å†µä¸‹å†è¿›è¡Œç±»å‹å¼ºåˆ¶è½¬æ¢ï¼Œç„¶åé€ä¸€åˆ¤æ–­æ‰€æœ‰å­—æ®µã€‚</li>
</ul>
<p>ã€ç¤ºä¾‹ã€‘è‡ªå®šä¹‰ equals ç¤ºä¾‹</p>
<p>è‡ªå®šä¹‰ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> y;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String desc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡ªå®šä¹‰ equalsï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Point that = (Point) o;</span><br><span class="line">    <span class="keyword">return</span> x == that.x &amp;&amp; y == that.y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-4-hashCode-å’Œ-equals-è¦é…å¯¹å®ç°"><a href="#4-4-hashCode-å’Œ-equals-è¦é…å¯¹å®ç°" class="headerlink" title="4.4. hashCode å’Œ equals è¦é…å¯¹å®ç°"></a>4.4. hashCode å’Œ equals è¦é…å¯¹å®ç°</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Point p1 = <span class="keyword">new</span> Point(<span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;a&quot;</span>);</span><br><span class="line">Point p2 = <span class="keyword">new</span> Point(<span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line"></span><br><span class="line">HashSet&lt;PointWrong&gt; points = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">points.add(p1);</span><br><span class="line">log.info(<span class="string">&quot;points.contains(p2) ? &#123;&#125;&quot;</span>, points.contains(p2));</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§æ”¹è¿›åçš„ equals æ–¹æ³•ï¼Œè¿™ 2 ä¸ªå¯¹è±¡å¯ä»¥è®¤ä¸ºæ˜¯åŒä¸€ä¸ªï¼ŒSet ä¸­å·²ç»å­˜åœ¨äº† p1 å°±åº”è¯¥åŒ…å« p2ï¼Œä½†ç»“æœå´æ˜¯ falseã€‚</p>
<p>å‡ºç°è¿™ä¸ª Bug çš„åŸå› æ˜¯ï¼Œæ•£åˆ—è¡¨éœ€è¦ä½¿ç”¨ hashCode æ¥å®šä½å…ƒç´ æ”¾åˆ°å“ªä¸ªæ¡¶ã€‚å¦‚æœè‡ªå®šä¹‰å¯¹è±¡æ²¡æœ‰å®ç°è‡ªå®šä¹‰çš„ hashCode æ–¹æ³•ï¼Œå°±ä¼šä½¿ç”¨ Object è¶…ç±»çš„é»˜è®¤å®ç°ï¼Œå¾—åˆ°çš„ä¸¤ä¸ª hashCode æ˜¯ä¸åŒçš„ï¼Œå¯¼è‡´æ— æ³•æ»¡è¶³éœ€æ±‚ã€‚</p>
<p>è¦è‡ªå®šä¹‰ hashCodeï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ Objects.hash æ–¹æ³•æ¥å®ç°ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Objects.hash(x, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-5-compareTo-å’Œ-equals-çš„é€»è¾‘ä¸€è‡´æ€§"><a href="#4-5-compareTo-å’Œ-equals-çš„é€»è¾‘ä¸€è‡´æ€§" class="headerlink" title="4.5. compareTo å’Œ equals çš„é€»è¾‘ä¸€è‡´æ€§"></a>4.5. compareTo å’Œ equals çš„é€»è¾‘ä¸€è‡´æ€§</h3><p>ã€ç¤ºä¾‹ã€‘è‡ªå®šä¹‰ compareTo å‡ºé”™ç¤ºä¾‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Student</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Student other)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = Integer.compare(other.id, id);</span><br><span class="line">        <span class="keyword">if</span> (result == <span class="number">0</span>) &#123; log.info(<span class="string">&quot;this &#123;&#125; == other &#123;&#125;&quot;</span>, <span class="keyword">this</span>, other); &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Student&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">list.add(<span class="keyword">new</span> Student(<span class="number">1</span>, <span class="string">&quot;zhang&quot;</span>));</span><br><span class="line">list.add(<span class="keyword">new</span> Student(<span class="number">2</span>, <span class="string">&quot;wang&quot;</span>));</span><br><span class="line">Student student = <span class="keyword">new</span> Student(<span class="number">2</span>, <span class="string">&quot;li&quot;</span>);</span><br><span class="line"></span><br><span class="line">log.info(<span class="string">&quot;ArrayList.indexOf&quot;</span>);</span><br><span class="line"><span class="keyword">int</span> index1 = list.indexOf(student);</span><br><span class="line">Collections.sort(list);</span><br><span class="line">log.info(<span class="string">&quot;Collections.binarySearch&quot;</span>);</span><br><span class="line"><span class="keyword">int</span> index2 = Collections.binarySearch(list, student);</span><br><span class="line"></span><br><span class="line">log.info(<span class="string">&quot;index1 = &quot;</span> + index1);</span><br><span class="line">log.info(<span class="string">&quot;index2 = &quot;</span> + index2);</span><br></pre></td></tr></table></figure>

<p>binarySearch æ–¹æ³•å†…éƒ¨è°ƒç”¨äº†å…ƒç´ çš„ compareTo æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼›</p>
<ul>
<li>indexOf çš„ç»“æœæ²¡é—®é¢˜ï¼Œåˆ—è¡¨ä¸­æœç´¢ä¸åˆ° id ä¸º 2ã€name æ˜¯ li çš„å­¦ç”Ÿï¼›</li>
<li>binarySearch è¿”å›äº†ç´¢å¼• 1ï¼Œä»£è¡¨æœç´¢åˆ°çš„ç»“æœæ˜¯ id ä¸º 2ï¼Œname æ˜¯ wang çš„å­¦ç”Ÿã€‚</li>
</ul>
<p>ä¿®å¤æ–¹å¼å¾ˆç®€å•ï¼Œç¡®ä¿ compareTo çš„æ¯”è¾ƒé€»è¾‘å’Œ equals çš„å®ç°ä¸€è‡´å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentRight</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">StudentRight</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(StudentRight other)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Comparator.comparing(StudentRight::getName)</span><br><span class="line">            .thenComparingInt(StudentRight::getId)</span><br><span class="line">            .compare(<span class="keyword">this</span>, other);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-6-å°å¿ƒ-Lombok-ç”Ÿæˆä»£ç çš„â€œå‘â€"><a href="#4-6-å°å¿ƒ-Lombok-ç”Ÿæˆä»£ç çš„â€œå‘â€" class="headerlink" title="4.6. å°å¿ƒ Lombok ç”Ÿæˆä»£ç çš„â€œå‘â€"></a>4.6. å°å¿ƒ Lombok ç”Ÿæˆä»£ç çš„â€œå‘â€</h3><p>Lombok çš„ @Data æ³¨è§£ä¼šå¸®æˆ‘ä»¬å®ç° equals å’Œ hashcode æ–¹æ³•ï¼Œä½†æ˜¯æœ‰ç»§æ‰¿å…³ç³»æ—¶ï¼Œ<br>Lombok è‡ªåŠ¨ç”Ÿæˆçš„æ–¹æ³•å¯èƒ½å°±ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„äº†ã€‚</p>
<p>@EqualsAndHashCode é»˜è®¤å®ç°æ²¡æœ‰ä½¿ç”¨çˆ¶ç±»å±æ€§ã€‚ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è®¾ç½® callSuper å¼€å…³ä¸º trueï¼Œæ¥è¦†ç›–è¿™ç§é»˜è®¤è¡Œä¸ºã€‚</p>
<h2 id="5-æ•°å€¼è®¡ç®—"><a href="#5-æ•°å€¼è®¡ç®—" class="headerlink" title="5. æ•°å€¼è®¡ç®—"></a>5. æ•°å€¼è®¡ç®—</h2><h3 id="5-1-æµ®ç‚¹æ•°è®¡ç®—é—®é¢˜"><a href="#5-1-æµ®ç‚¹æ•°è®¡ç®—é—®é¢˜" class="headerlink" title="5.1. æµ®ç‚¹æ•°è®¡ç®—é—®é¢˜"></a>5.1. æµ®ç‚¹æ•°è®¡ç®—é—®é¢˜</h3><p>è®¡ç®—æœºæ˜¯æŠŠæ•°å€¼ä¿å­˜åœ¨äº†å˜é‡ä¸­ï¼Œä¸åŒç±»å‹çš„æ•°å€¼å˜é‡èƒ½ä¿å­˜çš„æ•°å€¼èŒƒå›´ä¸åŒï¼Œå½“æ•°å€¼è¶…è¿‡ç±»å‹èƒ½è¡¨è¾¾çš„æ•°å€¼ä¸Šé™åˆ™ä¼šå‘ç”Ÿæº¢å‡ºé—®é¢˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="number">0.1</span> + <span class="number">0.2</span>); <span class="comment">// 0.30000000000000004</span></span><br><span class="line">System.out.println(<span class="number">1.0</span> - <span class="number">0.8</span>); <span class="comment">// 0.19999999999999996</span></span><br><span class="line">System.out.println(<span class="number">4.015</span> * <span class="number">100</span>); <span class="comment">// 401.49999999999994</span></span><br><span class="line">System.out.println(<span class="number">123.3</span> / <span class="number">100</span>); <span class="comment">// 1.2329999999999999</span></span><br><span class="line"><span class="keyword">double</span> amount1 = <span class="number">2.15</span>;</span><br><span class="line"><span class="keyword">double</span> amount2 = <span class="number">1.10</span>;</span><br><span class="line">System.out.println(amount1 - amount2); <span class="comment">// 1.0499999999999998</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„å‡ ä¸ªç¤ºä¾‹ï¼Œè¾“å‡ºç»“æœå’Œæˆ‘ä»¬é¢„æœŸçš„å¾ˆä¸ä¸€æ ·ã€‚ä¸ºä»€ä¹ˆä¼šæ˜¯è¿™æ ·å‘¢ï¼Ÿ</p>
<p>å‡ºç°è¿™ç§é—®é¢˜çš„ä¸»è¦åŸå› æ˜¯ï¼Œè®¡ç®—æœºæ˜¯ä»¥äºŒè¿›åˆ¶å­˜å‚¨æ•°å€¼çš„ï¼Œæµ®ç‚¹æ•°ä¹Ÿä¸ä¾‹å¤–ã€‚Java é‡‡ç”¨äº† IEEE 754 æ ‡å‡†å®ç°æµ®ç‚¹æ•°çš„è¡¨è¾¾å’Œè¿ç®—ï¼Œä½ å¯ä»¥é€šè¿‡è¿™é‡ŒæŸ¥çœ‹æ•°å€¼è½¬åŒ–ä¸ºäºŒè¿›åˆ¶çš„ç»“æœã€‚</p>
<p>æ¯”å¦‚ï¼Œ0.1 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 0.0 0011 0011 0011â€¦ ï¼ˆ0011 æ— é™å¾ªç¯)ï¼Œå†è½¬æ¢ä¸ºåè¿›åˆ¶å°±æ˜¯ 0.1000000000000000055511151231257827021181583404541015625ã€‚å¯¹äºè®¡ç®—æœºè€Œè¨€ï¼Œ0.1 æ— æ³•ç²¾ç¡®è¡¨è¾¾ï¼Œè¿™æ˜¯æµ®ç‚¹æ•°è®¡ç®—é€ æˆç²¾åº¦æŸå¤±çš„æ ¹æºã€‚</p>
<p><strong>æµ®ç‚¹æ•°æ— æ³•ç²¾ç¡®è¡¨è¾¾å’Œè¿ç®—çš„åœºæ™¯ï¼Œä¸€å®šè¦ä½¿ç”¨ BigDecimal ç±»å‹</strong>ã€‚</p>
<p>ä½¿ç”¨ BigDecimal æ—¶ï¼Œæœ‰ä¸ªç»†èŠ‚è¦æ ¼å¤–æ³¨æ„ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="keyword">new</span> BigDecimal(<span class="number">0.1</span>).add(<span class="keyword">new</span> BigDecimal(<span class="number">0.2</span>)));</span><br><span class="line"><span class="comment">// Output: 0.3000000000000000166533453693773481063544750213623046875</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="keyword">new</span> BigDecimal(<span class="number">1.0</span>).subtract(<span class="keyword">new</span> BigDecimal(<span class="number">0.8</span>)));</span><br><span class="line"><span class="comment">// Output: 0.1999999999999999555910790149937383830547332763671875</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="keyword">new</span> BigDecimal(<span class="number">4.015</span>).multiply(<span class="keyword">new</span> BigDecimal(<span class="number">100</span>)));</span><br><span class="line"><span class="comment">// Output: 401.49999999999996802557689079549163579940795898437500</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="keyword">new</span> BigDecimal(<span class="number">123.3</span>).divide(<span class="keyword">new</span> BigDecimal(<span class="number">100</span>)));</span><br><span class="line"><span class="comment">// Output: 1.232999999999999971578290569595992565155029296875</span></span><br></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆè¾“å‡ºç»“æœä»ç„¶ä¸ç¬¦åˆé¢„æœŸå‘¢ï¼Ÿ</p>
<p><strong>ä½¿ç”¨ BigDecimal è¡¨ç¤ºå’Œè®¡ç®—æµ®ç‚¹æ•°ï¼Œä¸”åŠ¡å¿…ä½¿ç”¨å­—ç¬¦ä¸²çš„æ„é€ æ–¹æ³•æ¥åˆå§‹åŒ– BigDecimal</strong>ã€‚</p>
<h3 id="5-2-æµ®ç‚¹æ•°ç²¾åº¦å’Œæ ¼å¼åŒ–"><a href="#5-2-æµ®ç‚¹æ•°ç²¾åº¦å’Œæ ¼å¼åŒ–" class="headerlink" title="5.2. æµ®ç‚¹æ•°ç²¾åº¦å’Œæ ¼å¼åŒ–"></a>5.2. æµ®ç‚¹æ•°ç²¾åº¦å’Œæ ¼å¼åŒ–</h3><p><strong>æµ®ç‚¹æ•°çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–ä¹Ÿè¦é€šè¿‡ BigDecimal è¿›è¡Œ</strong>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">wrong1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> num1 = <span class="number">3.35</span>;</span><br><span class="line">    <span class="keyword">float</span> num2 = <span class="number">3.35f</span>;</span><br><span class="line">    System.out.println(String.format(<span class="string">&quot;%.1f&quot;</span>, num1)); <span class="comment">// 3.4</span></span><br><span class="line">    System.out.println(String.format(<span class="string">&quot;%.1f&quot;</span>, num2)); <span class="comment">// 3.3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">wrong2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> num1 = <span class="number">3.35</span>;</span><br><span class="line">    <span class="keyword">float</span> num2 = <span class="number">3.35f</span>;</span><br><span class="line">    DecimalFormat format = <span class="keyword">new</span> DecimalFormat(<span class="string">&quot;#.##&quot;</span>);</span><br><span class="line">    format.setRoundingMode(RoundingMode.DOWN);</span><br><span class="line">    System.out.println(format.format(num1)); <span class="comment">// 3.35</span></span><br><span class="line">    format.setRoundingMode(RoundingMode.DOWN);</span><br><span class="line">    System.out.println(format.format(num2)); <span class="comment">// 3.34</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">right</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BigDecimal num1 = <span class="keyword">new</span> BigDecimal(<span class="string">&quot;3.35&quot;</span>);</span><br><span class="line">    BigDecimal num2 = num1.setScale(<span class="number">1</span>, BigDecimal.ROUND_DOWN);</span><br><span class="line">    System.out.println(num2); <span class="comment">// 3.3</span></span><br><span class="line">    BigDecimal num3 = num1.setScale(<span class="number">1</span>, BigDecimal.ROUND_HALF_UP);</span><br><span class="line">    System.out.println(num3); <span class="comment">// 3.4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-3-BigDecimal-åˆ¤ç­‰é—®é¢˜"><a href="#5-3-BigDecimal-åˆ¤ç­‰é—®é¢˜" class="headerlink" title="5.3. BigDecimal åˆ¤ç­‰é—®é¢˜"></a>5.3. BigDecimal åˆ¤ç­‰é—®é¢˜</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">wrong</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;1.0&quot;</span>).equals(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;1&quot;</span>)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">right</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;1.0&quot;</span>).compareTo(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;1&quot;</span>)) == <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>BigDecimal çš„ equals æ–¹æ³•çš„æ³¨é‡Šä¸­è¯´æ˜äº†åŸå› ï¼Œequals æ¯”è¾ƒçš„æ˜¯ BigDecimal çš„ value å’Œ scaleï¼Œ1.0 çš„ scale æ˜¯ 1ï¼Œ1 çš„ scale æ˜¯ 0ï¼Œæ‰€ä»¥ç»“æœä¸€å®šæ˜¯ falseã€‚</p>
<p><strong>å¦‚æœæˆ‘ä»¬å¸Œæœ›åªæ¯”è¾ƒ BigDecimal çš„ valueï¼Œå¯ä»¥ä½¿ç”¨ compareTo æ–¹æ³•</strong>ã€‚</p>
<p>BigDecimal çš„ equals å’Œ hashCode æ–¹æ³•ä¼šåŒæ—¶è€ƒè™‘ value å’Œ scaleï¼Œå¦‚æœç»“åˆ HashSet æˆ– HashMap ä½¿ç”¨çš„è¯å°±å¯èƒ½ä¼šå‡ºç°éº»çƒ¦ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æŠŠå€¼ä¸º 1.0 çš„ BigDecimal åŠ å…¥ HashSetï¼Œç„¶ååˆ¤æ–­å…¶æ˜¯å¦å­˜åœ¨å€¼ä¸º 1 çš„ BigDecimalï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ falseã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Set&lt;BigDecimal&gt; hashSet1 = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">hashSet1.add(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;1.0&quot;</span>));</span><br><span class="line">System.out.println(hashSet1.contains(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;1&quot;</span>)));<span class="comment">//è¿”å›false</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•æœ‰ä¸¤ä¸ªï¼š</p>
<p>ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯ï¼Œä½¿ç”¨ TreeSet æ›¿æ¢ HashSetã€‚TreeSet ä¸ä½¿ç”¨ hashCode æ–¹æ³•ï¼Œä¹Ÿä¸ä½¿ç”¨ equals æ¯”è¾ƒå…ƒç´ ï¼Œè€Œæ˜¯ä½¿ç”¨ compareTo æ–¹æ³•ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰é—®é¢˜ã€‚</p>
<p>ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯ï¼ŒæŠŠ BigDecimal å­˜å…¥ HashSet æˆ– HashMap å‰ï¼Œå…ˆä½¿ç”¨ stripTrailingZeros æ–¹æ³•å»æ‰å°¾éƒ¨çš„é›¶ï¼Œæ¯”è¾ƒçš„æ—¶å€™ä¹Ÿå»æ‰å°¾éƒ¨çš„ 0ï¼Œç¡®ä¿ value ç›¸åŒçš„ BigDecimalï¼Œscale ä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Set&lt;BigDecimal&gt; hashSet2 = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">hashSet2.add(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;1.0&quot;</span>).stripTrailingZeros());</span><br><span class="line">System.out.println(hashSet2.contains(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;1.000&quot;</span>).stripTrailingZeros()));<span class="comment">//è¿”å›true</span></span><br><span class="line"></span><br><span class="line">Set&lt;BigDecimal&gt; treeSet = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">treeSet.add(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;1.0&quot;</span>));</span><br><span class="line">System.out.println(treeSet.contains(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;1&quot;</span>)));<span class="comment">//è¿”å›true</span></span><br></pre></td></tr></table></figure>

<h3 id="5-4-æ•°å€¼æº¢å‡º"><a href="#5-4-æ•°å€¼æº¢å‡º" class="headerlink" title="5.4. æ•°å€¼æº¢å‡º"></a>5.4. æ•°å€¼æº¢å‡º</h3><p>æ•°å€¼è®¡ç®—è¿˜æœ‰ä¸€ä¸ªè¦å°å¿ƒçš„ç‚¹æ˜¯æº¢å‡ºï¼Œä¸ç®¡æ˜¯ int è¿˜æ˜¯ longï¼Œæ‰€æœ‰çš„åŸºæœ¬æ•°å€¼ç±»å‹éƒ½æœ‰è¶…å‡ºè¡¨è¾¾èŒƒå›´çš„å¯èƒ½æ€§ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">long</span> l = Long.MAX_VALUE;</span><br><span class="line">System.out.println(l + <span class="number">1</span>); <span class="comment">// -9223372036854775808</span></span><br><span class="line">System.out.println(l + <span class="number">1</span> == Long.MIN_VALUE); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p><strong>æ˜¾ç„¶è¿™æ˜¯å‘ç”Ÿäº†æº¢å‡ºï¼Œè€Œä¸”æ˜¯é»˜é»˜çš„æº¢å‡ºï¼Œå¹¶æ²¡æœ‰ä»»ä½•å¼‚å¸¸</strong>ã€‚è¿™ç±»é—®é¢˜éå¸¸å®¹æ˜“è¢«å¿½ç•¥ï¼Œæ”¹è¿›æ–¹å¼æœ‰ä¸‹é¢ 2 ç§ã€‚</p>
<p>æ–¹æ³•ä¸€æ˜¯ï¼Œè€ƒè™‘ä½¿ç”¨ Math ç±»çš„ addExactã€subtractExact ç­‰ xxExact æ–¹æ³•è¿›è¡Œæ•°å€¼è¿ç®—ï¼Œè¿™äº›æ–¹æ³•å¯ä»¥åœ¨æ•°å€¼æº¢å‡ºæ—¶ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">long</span> l = Long.MAX_VALUE;</span><br><span class="line">    System.out.println(Math.addExact(l, <span class="number">1</span>));</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">    ex.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•äºŒæ˜¯ï¼Œä½¿ç”¨å¤§æ•°ç±» BigIntegerã€‚BigDecimal æ˜¯å¤„ç†æµ®ç‚¹æ•°çš„ä¸“å®¶ï¼Œè€Œ BigInteger åˆ™æ˜¯å¯¹å¤§æ•°è¿›è¡Œç§‘å­¦è®¡ç®—çš„ä¸“å®¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BigInteger i = <span class="keyword">new</span> BigInteger(String.valueOf(Long.MAX_VALUE));</span><br><span class="line">System.out.println(i.add(BigInteger.ONE).toString());</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">long</span> l = i.add(BigInteger.ONE).longValueExact();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">    ex.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-å‚è€ƒèµ„æ–™"><a href="#6-å‚è€ƒèµ„æ–™" class="headerlink" title="6. å‚è€ƒèµ„æ–™"></a>6. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">ã€ŠJava ç¼–ç¨‹æ€æƒ³ï¼ˆThinking in javaï¼‰ã€‹</a></li>
<li><a href="https://book.douban.com/subject/26880667/">ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· I åŸºç¡€çŸ¥è¯†ã€‹</a></li>
<li><a href="https://time.geekbang.org/column/intro/100047701">ã€ŠJava ä¸šåŠ¡å¼€å‘å¸¸è§é”™è¯¯ 100 ä¾‹ã€‹</a></li>
<li><a href="https://juejin.im/post/59cd71835188255d3448faf6">Java åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨ç±»å‹</a></li>
<li><a href="https://www.cnblogs.com/dolphin0520/p/3780005.html">æ·±å…¥å‰–æ Java ä¸­çš„è£…ç®±å’Œæ‹†ç®±</a></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>æ·±å…¥ç†è§£ Java å¼‚å¸¸</title>
    <url>/2021/12/06/java-exception/</url>
    <content><![CDATA[<h1 id="æ·±å…¥ç†è§£-Java-å¼‚å¸¸"><a href="#æ·±å…¥ç†è§£-Java-å¼‚å¸¸" class="headerlink" title="æ·±å…¥ç†è§£ Java å¼‚å¸¸"></a>æ·±å…¥ç†è§£ Java å¼‚å¸¸</h1><blockquote>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1553752019030.png" alt="img"></p>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E5%BC%82%E5%B8%B8%E6%A1%86%E6%9E%B6">1. å¼‚å¸¸æ¡†æ¶</a><ul>
<li><a href="#11-throwable">1.1. Throwable</a></li>
<li><a href="#12-error">1.2. Error</a></li>
<li><a href="#13-exception">1.3. Exception</a></li>
<li><a href="#14-runtimeexception">1.4. RuntimeException</a></li>
</ul>
</li>
<li><a href="#2-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8">2. è‡ªå®šä¹‰å¼‚å¸¸</a></li>
<li><a href="#3-%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8">3. æŠ›å‡ºå¼‚å¸¸</a></li>
<li><a href="#4-%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8">4. æ•è·å¼‚å¸¸</a></li>
<li><a href="#5-%E5%BC%82%E5%B8%B8%E9%93%BE">5. å¼‚å¸¸é“¾</a></li>
<li><a href="#6-%E5%BC%82%E5%B8%B8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">6. å¼‚å¸¸æ³¨æ„äº‹é¡¹</a><ul>
<li><a href="#61-finally-%E8%A6%86%E7%9B%96%E5%BC%82%E5%B8%B8">6.1. finally è¦†ç›–å¼‚å¸¸</a></li>
<li><a href="#62-%E8%A6%86%E7%9B%96%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E6%96%B9%E6%B3%95">6.2. è¦†ç›–æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•</a></li>
<li><a href="#63-%E5%BC%82%E5%B8%B8%E5%92%8C%E7%BA%BF%E7%A8%8B">6.3. å¼‚å¸¸å’Œçº¿ç¨‹</a></li>
</ul>
</li>
<li><a href="#7-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">7. æœ€ä½³å®è·µ</a></li>
<li><a href="#8-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">8. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-å¼‚å¸¸æ¡†æ¶"><a href="#1-å¼‚å¸¸æ¡†æ¶" class="headerlink" title="1. å¼‚å¸¸æ¡†æ¶"></a>1. å¼‚å¸¸æ¡†æ¶</h2><h3 id="1-1-Throwable"><a href="#1-1-Throwable" class="headerlink" title="1.1. Throwable"></a>1.1. Throwable</h3><p><strong><code>Throwable</code> æ˜¯ Java è¯­è¨€ä¸­æ‰€æœ‰é”™è¯¯ï¼ˆ<code>Error</code>ï¼‰å’Œå¼‚å¸¸ï¼ˆ<code>Exception</code>ï¼‰çš„è¶…ç±»ã€‚</strong>åœ¨ Java ä¸­åªæœ‰ <code>Throwable</code> ç±»å‹çš„å®ä¾‹æ‰å¯ä»¥è¢«æŠ›å‡ºï¼ˆ<code>throw</code>ï¼‰æˆ–è€…æ•è·ï¼ˆ<code>catch</code>ï¼‰ï¼Œå®ƒæ˜¯å¼‚å¸¸å¤„ç†æœºåˆ¶çš„åŸºæœ¬ç»„æˆç±»å‹ã€‚</p>
<p><code>Throwable</code> åŒ…å«äº†å…¶çº¿ç¨‹åˆ›å»ºæ—¶çº¿ç¨‹æ‰§è¡Œå †æ ˆçš„å¿«ç…§ï¼Œå®ƒæä¾›äº† <code>printStackTrace()</code> ç­‰æ¥å£ç”¨äºè·å–å †æ ˆè·Ÿè¸ªæ•°æ®ç­‰ä¿¡æ¯ã€‚</p>
<p>ä¸»è¦æ–¹æ³•ï¼š</p>
<ul>
<li><code>fillInStackTrace</code> - ç”¨å½“å‰çš„è°ƒç”¨æ ˆå±‚æ¬¡å¡«å…… <code>Throwable</code> å¯¹è±¡æ ˆå±‚æ¬¡ï¼Œæ·»åŠ åˆ°æ ˆå±‚æ¬¡ä»»ä½•å…ˆå‰ä¿¡æ¯ä¸­ã€‚</li>
<li><code>getMessage</code> - è¿”å›å…³äºå‘ç”Ÿçš„å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™ä¸ªæ¶ˆæ¯åœ¨ <code>Throwable</code> ç±»çš„æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–äº†ã€‚</li>
<li><code>getCause</code> - è¿”å›ä¸€ä¸ª <code>Throwable</code> å¯¹è±¡ä»£è¡¨å¼‚å¸¸åŸå› ã€‚</li>
<li><code>getStackTrace</code> - è¿”å›ä¸€ä¸ªåŒ…å«å †æ ˆå±‚æ¬¡çš„æ•°ç»„ã€‚ä¸‹æ ‡ä¸º 0 çš„å…ƒç´ ä»£è¡¨æ ˆé¡¶ï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä»£è¡¨æ–¹æ³•è°ƒç”¨å †æ ˆçš„æ ˆåº•ã€‚</li>
<li><code>printStackTrace</code> - æ‰“å° <code>toString()</code> ç»“æœå’Œæ ˆå±‚æ¬¡åˆ° <code>System.err</code>ï¼Œå³é”™è¯¯è¾“å‡ºæµã€‚</li>
<li><code>toString</code> - ä½¿ç”¨ <code>getMessage</code> çš„ç»“æœè¿”å›ä»£è¡¨ <code>Throwable</code> å¯¹è±¡çš„å­—ç¬¦ä¸²ã€‚</li>
</ul>
<h3 id="1-2-Error"><a href="#1-2-Error" class="headerlink" title="1.2. Error"></a>1.2. Error</h3><p><code>Error</code> æ˜¯ <code>Throwable</code> çš„ä¸€ä¸ªå­ç±»ã€‚**<code>Error</code> è¡¨ç¤ºæ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸å¤§å¯èƒ½å‡ºç°çš„ä¸¥é‡é—®é¢˜<strong>ã€‚</strong>ç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥ <code>Error</code>**ã€‚ç»å¤§éƒ¨åˆ†çš„ Error éƒ½ä¼šå¯¼è‡´ç¨‹åºï¼ˆæ¯”å¦‚ JVM è‡ªèº«ï¼‰å¤„äºéæ­£å¸¸çš„ã€ä¸å¯æ¢å¤çŠ¶æ€ã€‚æ—¢ç„¶æ˜¯éæ­£å¸¸æƒ…å†µï¼Œæ‰€ä»¥ä¸ä¾¿äºä¹Ÿä¸éœ€è¦æ•è·ï¼Œå¸¸è§çš„æ¯”å¦‚ OutOfMemoryError ä¹‹ç±»ï¼Œéƒ½æ˜¯ Error çš„å­ç±»ã€‚</p>
<p>å¸¸è§ <code>Error</code>ï¼š</p>
<ul>
<li><code>AssertionError</code> - æ–­è¨€é”™è¯¯ã€‚</li>
<li><code>VirtualMachineError</code> - è™šæ‹Ÿæœºé”™è¯¯ã€‚</li>
<li><code>UnsupportedClassVersionError</code> - Java ç±»ç‰ˆæœ¬é”™è¯¯ã€‚</li>
<li><code>StackOverflowError</code> - æ ˆæº¢å‡ºé”™è¯¯ã€‚</li>
<li><code>OutOfMemoryError</code> - å†…å­˜æº¢å‡ºé”™è¯¯ã€‚</li>
</ul>
<h3 id="1-3-Exception"><a href="#1-3-Exception" class="headerlink" title="1.3. Exception"></a>1.3. Exception</h3><p><code>Exception</code> æ˜¯ <code>Throwable</code> çš„ä¸€ä¸ªå­ç±»ã€‚**<code>Exception</code> è¡¨ç¤ºåˆç†çš„åº”ç”¨ç¨‹åºå¯èƒ½æƒ³è¦æ•è·çš„æ¡ä»¶ã€‚**Exception æ˜¯ç¨‹åºæ­£å¸¸è¿è¡Œä¸­ï¼Œå¯ä»¥é¢„æ–™çš„æ„å¤–æƒ…å†µï¼Œå¯èƒ½å¹¶ä¸”åº”è¯¥è¢«æ•è·ï¼Œè¿›è¡Œç›¸åº”å¤„ç†ã€‚</p>
<p>Exception åˆåˆ†ä¸ºå¯æ£€æŸ¥ï¼ˆcheckedï¼‰å¼‚å¸¸å’Œä¸æ£€æŸ¥ï¼ˆuncheckedï¼‰å¼‚å¸¸ï¼Œå¯æ£€æŸ¥å¼‚å¸¸åœ¨æºä»£ç é‡Œå¿…é¡»æ˜¾å¼åœ°è¿›è¡Œæ•è·å¤„ç†ï¼Œè¿™æ˜¯ç¼–è¯‘æœŸæ£€æŸ¥çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p><strong>ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ <code>Exception</code> å¼‚å¸¸ã€‚</strong>æ­¤ç±»å¼‚å¸¸ï¼Œè¦ä¹ˆé€šè¿‡ <code>throws</code> è¿›è¡Œå£°æ˜æŠ›å‡ºï¼Œè¦ä¹ˆé€šè¿‡ <code>try catch</code> è¿›è¡Œæ•è·å¤„ç†ï¼Œå¦åˆ™ä¸èƒ½é€šè¿‡ç¼–è¯‘ã€‚</p>
<p>å¸¸è§ <code>Exception</code>ï¼š</p>
<ul>
<li><code>ClassNotFoundException</code> - åº”ç”¨ç¨‹åºè¯•å›¾åŠ è½½ç±»æ—¶ï¼Œæ‰¾ä¸åˆ°ç›¸åº”çš„ç±»ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</li>
<li><code>CloneNotSupportedException</code> - å½“è°ƒç”¨ Object ç±»ä¸­çš„ clone æ–¹æ³•å…‹éš†å¯¹è±¡ï¼Œä½†è¯¥å¯¹è±¡çš„ç±»æ— æ³•å®ç° Cloneable æ¥å£æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</li>
<li><code>IllegalAccessException</code> - æ‹’ç»è®¿é—®ä¸€ä¸ªç±»çš„æ—¶å€™ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</li>
<li><code>InstantiationException</code> - å½“è¯•å›¾ä½¿ç”¨ Class ç±»ä¸­çš„ newInstance æ–¹æ³•åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œè€ŒæŒ‡å®šçš„ç±»å¯¹è±¡å› ä¸ºæ˜¯ä¸€ä¸ªæ¥å£æˆ–æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»è€Œæ— æ³•å®ä¾‹åŒ–æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</li>
<li><code>InterruptedException</code> - ä¸€ä¸ªçº¿ç¨‹è¢«å¦ä¸€ä¸ªçº¿ç¨‹ä¸­æ–­ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</li>
<li><code>NoSuchFieldException</code> - è¯·æ±‚çš„å˜é‡ä¸å­˜åœ¨ã€‚</li>
<li><code>NoSuchMethodException</code> - è¯·æ±‚çš„æ–¹æ³•ä¸å­˜åœ¨ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Method method = String.class.getMethod(<span class="string">&quot;toString&quot;</span>, <span class="keyword">int</span>.class);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¯•å›¾ç¼–è¯‘è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Error:(7, 47) java: æœªæŠ¥å‘Šçš„å¼‚å¸¸é”™è¯¯java.lang.NoSuchMethodException; å¿…é¡»å¯¹å…¶è¿›è¡Œæ•è·æˆ–å£°æ˜ä»¥ä¾¿æŠ›å‡º</span><br></pre></td></tr></table></figure>

<h3 id="1-4-RuntimeException"><a href="#1-4-RuntimeException" class="headerlink" title="1.4. RuntimeException"></a>1.4. RuntimeException</h3><p><code>RuntimeException</code> æ˜¯ <code>Exception</code> çš„ä¸€ä¸ªå­ç±»ã€‚<code>RuntimeException</code> æ˜¯é‚£äº›å¯èƒ½åœ¨ Java è™šæ‹Ÿæœºæ­£å¸¸è¿è¡ŒæœŸé—´æŠ›å‡ºçš„å¼‚å¸¸çš„è¶…ç±»ã€‚</p>
<p><strong>ç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥ <code>RuntimeException</code> å¼‚å¸¸ã€‚</strong>å½“ç¨‹åºä¸­å¯èƒ½å‡ºç°è¿™ç±»å¼‚å¸¸æ—¶ï¼Œå€˜è‹¥æ—¢æ²¡æœ‰é€šè¿‡ <code>throws</code> å£°æ˜æŠ›å‡ºå®ƒï¼Œä¹Ÿæ²¡æœ‰ç”¨ <code>try catch</code> è¯­å¥æ•è·å®ƒï¼Œç¨‹åºè¿˜æ˜¯ä¼šç¼–è¯‘é€šè¿‡ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuntimeExceptionDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ­¤å¤„äº§ç”Ÿäº†å¼‚å¸¸</span></span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">10</span> / <span class="number">0</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸¤ä¸ªæ•°å­—ç›¸é™¤çš„ç»“æœï¼š&quot;</span> + result);</span><br><span class="line">        System.out.println(<span class="string">&quot;----------------------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œæ—¶è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.ArithmeticException: / by zero</span><br><span class="line">	at io.github.dunwu.javacore.exception.RumtimeExceptionDemo01.main(RumtimeExceptionDemo01.java:6)</span><br></pre></td></tr></table></figure>

<p>å¸¸è§ <code>RuntimeException</code>ï¼š</p>
<ul>
<li><code>ArrayIndexOutOfBoundsException</code> - ç”¨éæ³•ç´¢å¼•è®¿é—®æ•°ç»„æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚å¦‚æœç´¢å¼•ä¸ºè´Ÿæˆ–å¤§äºç­‰äºæ•°ç»„å¤§å°ï¼Œåˆ™è¯¥ç´¢å¼•ä¸ºéæ³•ç´¢å¼•ã€‚</li>
<li><code>ArrayStoreException</code> - è¯•å›¾å°†é”™è¯¯ç±»å‹çš„å¯¹è±¡å­˜å‚¨åˆ°ä¸€ä¸ªå¯¹è±¡æ•°ç»„æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li>
<li><code>ClassCastException</code> - å½“è¯•å›¾å°†å¯¹è±¡å¼ºåˆ¶è½¬æ¢ä¸ºä¸æ˜¯å®ä¾‹çš„å­ç±»æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</li>
<li><code>IllegalArgumentException</code> - æŠ›å‡ºçš„å¼‚å¸¸è¡¨æ˜å‘æ–¹æ³•ä¼ é€’äº†ä¸€ä¸ªä¸åˆæ³•æˆ–ä¸æ­£ç¡®çš„å‚æ•°ã€‚</li>
<li><code>IllegalMonitorStateException</code> - æŠ›å‡ºçš„å¼‚å¸¸è¡¨æ˜æŸä¸€çº¿ç¨‹å·²ç»è¯•å›¾ç­‰å¾…å¯¹è±¡çš„ç›‘è§†å™¨ï¼Œæˆ–è€…è¯•å›¾é€šçŸ¥å…¶ä»–æ­£åœ¨ç­‰å¾…å¯¹è±¡çš„ç›‘è§†å™¨è€Œæœ¬èº«æ²¡æœ‰æŒ‡å®šç›‘è§†å™¨çš„çº¿ç¨‹ã€‚</li>
<li><code>IllegalStateException</code> - åœ¨éæ³•æˆ–ä¸é€‚å½“çš„æ—¶é—´è°ƒç”¨æ–¹æ³•æ—¶äº§ç”Ÿçš„ä¿¡å·ã€‚æ¢å¥è¯è¯´ï¼Œå³ Java ç¯å¢ƒæˆ– Java åº”ç”¨ç¨‹åºæ²¡æœ‰å¤„äºè¯·æ±‚æ“ä½œæ‰€è¦æ±‚çš„é€‚å½“çŠ¶æ€ä¸‹ã€‚</li>
<li><code>IllegalThreadStateException</code> - çº¿ç¨‹æ²¡æœ‰å¤„äºè¯·æ±‚æ“ä½œæ‰€è¦æ±‚çš„é€‚å½“çŠ¶æ€æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li>
<li><code>IndexOutOfBoundsException</code> - æŒ‡ç¤ºæŸæ’åºç´¢å¼•ï¼ˆä¾‹å¦‚å¯¹æ•°ç»„ã€å­—ç¬¦ä¸²æˆ–å‘é‡çš„æ’åºï¼‰è¶…å‡ºèŒƒå›´æ—¶æŠ›å‡ºã€‚</li>
<li><code>NegativeArraySizeException</code> - å¦‚æœåº”ç”¨ç¨‹åºè¯•å›¾åˆ›å»ºå¤§å°ä¸ºè´Ÿçš„æ•°ç»„ï¼Œåˆ™æŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</li>
<li><code>NullPointerException</code> - å½“åº”ç”¨ç¨‹åºè¯•å›¾åœ¨éœ€è¦å¯¹è±¡çš„åœ°æ–¹ä½¿ç”¨ null æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸</li>
<li><code>NumberFormatException</code> - å½“åº”ç”¨ç¨‹åºè¯•å›¾å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ç§æ•°å€¼ç±»å‹ï¼Œä½†è¯¥å­—ç¬¦ä¸²ä¸èƒ½è½¬æ¢ä¸ºé€‚å½“æ ¼å¼æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</li>
<li><code>SecurityException</code> - ç”±å®‰å…¨ç®¡ç†å™¨æŠ›å‡ºçš„å¼‚å¸¸ï¼ŒæŒ‡ç¤ºå­˜åœ¨å®‰å…¨ä¾µçŠ¯ã€‚</li>
<li><code>StringIndexOutOfBoundsException</code> - æ­¤å¼‚å¸¸ç”± String æ–¹æ³•æŠ›å‡ºï¼ŒæŒ‡ç¤ºç´¢å¼•æˆ–è€…ä¸ºè´Ÿï¼Œæˆ–è€…è¶…å‡ºå­—ç¬¦ä¸²çš„å¤§å°ã€‚</li>
<li><code>UnsupportedOperationException</code> - å½“ä¸æ”¯æŒè¯·æ±‚çš„æ“ä½œæ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</li>
</ul>
<h2 id="2-è‡ªå®šä¹‰å¼‚å¸¸"><a href="#2-è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="2. è‡ªå®šä¹‰å¼‚å¸¸"></a>2. è‡ªå®šä¹‰å¼‚å¸¸</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1553752795010.png" alt="img"></p>
<p><strong>è‡ªå®šä¹‰ä¸€ä¸ªå¼‚å¸¸ç±»ï¼Œåªéœ€è¦ç»§æ‰¿ <code>Exception</code> æˆ– <code>RuntimeException</code> å³å¯ã€‚</strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyExceptionDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> MyException(<span class="string">&quot;è‡ªå®šä¹‰å¼‚å¸¸&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; io.github.dunwu.javacore.exception.MyExceptionDemo$MyException: è‡ªå®šä¹‰å¼‚å¸¸</span><br><span class="line">	at io.github.dunwu.javacore.exception.MyExceptionDemo.main(MyExceptionDemo.java:9)</span><br></pre></td></tr></table></figure>

<h2 id="3-æŠ›å‡ºå¼‚å¸¸"><a href="#3-æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="3. æŠ›å‡ºå¼‚å¸¸"></a>3. æŠ›å‡ºå¼‚å¸¸</h2><p>å¦‚æœæƒ³åœ¨ç¨‹åºä¸­æ˜ç¡®åœ°æŠ›å‡ºå¼‚å¸¸ï¼Œéœ€è¦ç”¨åˆ° <code>throw</code> å’Œ <code>throws</code> ã€‚</p>
<p>å¦‚æœä¸€ä¸ªæ–¹æ³•æ²¡æœ‰æ•è·ä¸€ä¸ªæ£€æŸ¥æ€§å¼‚å¸¸ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•å¿…é¡»ä½¿ç”¨ <code>throws</code> å…³é”®å­—æ¥å£°æ˜ã€‚<code>throws</code> å…³é”®å­—æ”¾åœ¨æ–¹æ³•ç­¾åçš„å°¾éƒ¨ã€‚</p>
<p><code>throw</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThrowDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        f();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java.lang.RuntimeException: æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>throw</code> å…³é”®å­—æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œæ— è®ºå®ƒæ˜¯æ–°å®ä¾‹åŒ–çš„è¿˜æ˜¯åˆšæ•è·åˆ°çš„ã€‚</p>
<p><code>throws</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThrowsDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">f1</span><span class="params">()</span> <span class="keyword">throws</span> NoSuchMethodException, NoSuchFieldException </span>&#123;</span><br><span class="line">        Field field = Integer.class.getDeclaredField(<span class="string">&quot;digits&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (field != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;åå°„è·å– digits æ–¹æ³•æˆåŠŸ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Method method = String.class.getMethod(<span class="string">&quot;toString&quot;</span>, <span class="keyword">int</span>.class);</span><br><span class="line">        <span class="keyword">if</span> (method != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;åå°„è·å– toString æ–¹æ³•æˆåŠŸ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">f2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// è°ƒç”¨ f1 å¤„ï¼Œå¦‚æœä¸ç”¨ try catch ï¼Œç¼–è¯‘æ—¶ä¼šæŠ¥é”™</span></span><br><span class="line">            f1();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchMethodException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchFieldException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        f2();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åå°„è·å– digits æ–¹æ³•æˆåŠŸ</span><br><span class="line">java.lang.NoSuchMethodException: java.lang.String.toString(int)</span><br><span class="line">	at java.lang.Class.getMethod(Class.java:1786)</span><br><span class="line">	at io.github.dunwu.javacore.exception.ThrowsDemo.f1(ThrowsDemo.java:12)</span><br><span class="line">	at io.github.dunwu.javacore.exception.ThrowsDemo.f2(ThrowsDemo.java:21)</span><br><span class="line">	at io.github.dunwu.javacore.exception.ThrowsDemo.main(ThrowsDemo.java:30)</span><br></pre></td></tr></table></figure>

<p>throw å’Œ throws çš„åŒºåˆ«ï¼š</p>
<ul>
<li>throws ä½¿ç”¨åœ¨å‡½æ•°ä¸Šï¼Œthrow ä½¿ç”¨åœ¨å‡½æ•°å†…ã€‚</li>
<li>throws åé¢è·Ÿå¼‚å¸¸ç±»ï¼Œå¯ä»¥è·Ÿå¤šä¸ªï¼Œç”¨é€—å·åŒºåˆ«ï¼›throw åé¢è·Ÿçš„æ˜¯å¼‚å¸¸å¯¹è±¡ã€‚</li>
</ul>
<h2 id="4-æ•è·å¼‚å¸¸"><a href="#4-æ•è·å¼‚å¸¸" class="headerlink" title="4. æ•è·å¼‚å¸¸"></a>4. æ•è·å¼‚å¸¸</h2><p><strong>ä½¿ç”¨ try å’Œ catch å…³é”®å­—å¯ä»¥æ•è·å¼‚å¸¸</strong>ã€‚try catch ä»£ç å—æ”¾åœ¨å¼‚å¸¸å¯èƒ½å‘ç”Ÿçš„åœ°æ–¹ã€‚</p>
<p>å®ƒçš„è¯­æ³•å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// å¯èƒ½ä¼šå‘ç”Ÿå¼‚å¸¸çš„ä»£ç å—</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e1) &#123;</span><br><span class="line">    <span class="comment">// æ•è·å¹¶å¤„ç†tryæŠ›å‡ºçš„å¼‚å¸¸ç±»å‹Exception</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception2 e2) &#123;</span><br><span class="line">    <span class="comment">// æ•è·å¹¶å¤„ç†tryæŠ›å‡ºçš„å¼‚å¸¸ç±»å‹Exception2</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">// æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œéƒ½å°†æ‰§è¡Œçš„ä»£ç å—</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼ŒJDK7 ä»¥åï¼Œ<code>catch</code> å¤šç§å¼‚å¸¸æ—¶ï¼Œä¹Ÿå¯ä»¥åƒä¸‹é¢è¿™æ ·ç®€åŒ–ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// å¯èƒ½ä¼šå‘ç”Ÿå¼‚å¸¸çš„ä»£ç å—</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception | Exception2 e) &#123;</span><br><span class="line">    <span class="comment">// æ•è·å¹¶å¤„ç†tryæŠ›å‡ºçš„å¼‚å¸¸ç±»å‹</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">// æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œéƒ½å°†æ‰§è¡Œçš„ä»£ç å—</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>try</code> - <strong><code>try</code> è¯­å¥ç”¨äºç›‘å¬ã€‚å°†è¦è¢«ç›‘å¬çš„ä»£ç (å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç )æ”¾åœ¨ <code>try</code> è¯­å¥å—ä¹‹å†…ï¼Œå½“ <code>try</code> è¯­å¥å—å†…å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå¼‚å¸¸å°±è¢«æŠ›å‡ºã€‚</strong></li>
<li><code>catch</code> - <code>catch</code> è¯­å¥åŒ…å«è¦æ•è·å¼‚å¸¸ç±»å‹çš„å£°æ˜ã€‚å½“ä¿æŠ¤ä»£ç å—ä¸­å‘ç”Ÿä¸€ä¸ªå¼‚å¸¸æ—¶ï¼Œ<code>try</code> åé¢çš„ <code>catch</code> å—å°±ä¼šè¢«æ£€æŸ¥ã€‚</li>
<li><code>finally</code> - <strong><code>finally</code> è¯­å¥å—æ€»æ˜¯ä¼šè¢«æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸ã€‚</strong><code>try catch</code> è¯­å¥åä¸ä¸€å®šéè¦ <code>finally</code> è¯­å¥ã€‚<code>finally</code> å¸¸ç”¨äºè¿™æ ·çš„åœºæ™¯ï¼šç”±äº <code>finally</code> è¯­å¥å—æ€»æ˜¯ä¼šè¢«æ‰§è¡Œï¼Œæ‰€ä»¥é‚£äº›åœ¨ <code>try</code> ä»£ç å—ä¸­æ‰“å¼€çš„ï¼Œå¹¶ä¸”å¿…é¡»å›æ”¶çš„ç‰©ç†èµ„æº(å¦‚æ•°æ®åº“è¿æ¥ã€ç½‘ç»œè¿æ¥å’Œæ–‡ä»¶)ï¼Œä¸€èˆ¬ä¼šæ”¾åœ¨ <code>finally</code> è¯­å¥å—ä¸­é‡Šæ”¾èµ„æºã€‚</li>
<li><code>try</code>ã€<code>catch</code>ã€<code>finally</code> ä¸‰ä¸ªä»£ç å—ä¸­çš„å±€éƒ¨å˜é‡ä¸å¯å…±äº«ä½¿ç”¨ã€‚</li>
<li><code>catch</code> å—å°è¯•æ•è·å¼‚å¸¸æ—¶ï¼Œæ˜¯æŒ‰ç…§ <code>catch</code> å—çš„å£°æ˜é¡ºåºä»ä¸Šå¾€ä¸‹å¯»æ‰¾çš„ï¼Œä¸€æ—¦åŒ¹é…ï¼Œå°±ä¸ä¼šå†å‘ä¸‹æ‰§è¡Œã€‚å› æ­¤ï¼Œå¦‚æœåŒä¸€ä¸ª <code>try</code> å—ä¸‹çš„å¤šä¸ª <code>catch</code> å¼‚å¸¸ç±»å‹æœ‰çˆ¶å­å…³ç³»ï¼Œåº”è¯¥å°†å­ç±»å¼‚å¸¸æ”¾åœ¨å‰é¢ï¼Œçˆ¶ç±»å¼‚å¸¸æ”¾åœ¨åé¢ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TryCatchFinallyDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// æ­¤å¤„äº§ç”Ÿäº†å¼‚å¸¸</span></span><br><span class="line">            <span class="keyword">int</span> temp = <span class="number">10</span> / <span class="number">0</span>;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸¤ä¸ªæ•°å­—ç›¸é™¤çš„ç»“æœï¼š&quot;</span> + temp);</span><br><span class="line">            System.out.println(<span class="string">&quot;----------------------------&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ArithmeticException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‡ºç°å¼‚å¸¸äº†ï¼š&quot;</span> + e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸ç®¡æ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œéƒ½æ‰§è¡Œæ­¤ä»£ç &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œæ—¶è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‡ºç°å¼‚å¸¸äº†ï¼šjava.lang.ArithmeticException: / by zero</span><br><span class="line">ä¸ç®¡æ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œéƒ½æ‰§è¡Œæ­¤ä»£ç </span><br></pre></td></tr></table></figure>

<h2 id="5-å¼‚å¸¸é“¾"><a href="#5-å¼‚å¸¸é“¾" class="headerlink" title="5. å¼‚å¸¸é“¾"></a>5. å¼‚å¸¸é“¾</h2><p>å¼‚å¸¸é“¾æ˜¯ä»¥ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ä¸ºå‚æ•°æ„é€ æ–°çš„å¼‚å¸¸å¯¹è±¡ï¼Œæ–°çš„å¼‚å¸¸å¯¹è±¡å°†åŒ…å«å…ˆå‰å¼‚å¸¸çš„ä¿¡æ¯ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨å¼‚å¸¸é“¾ï¼Œæˆ‘ä»¬å¯ä»¥æé«˜ä»£ç çš„å¯ç†è§£æ€§ã€ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œå‹å¥½æ€§ã€‚</p>
<p>æˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼å¤„ç†å¼‚å¸¸ï¼Œä¸€æ˜¯ <code>throws</code> æŠ›å‡ºäº¤ç»™ä¸Šçº§å¤„ç†ï¼ŒäºŒæ˜¯ <code>tryâ€¦catch</code> åšå…·ä½“å¤„ç†ã€‚<code>tryâ€¦catch</code> çš„ <code>catch</code> å—æˆ‘ä»¬å¯ä»¥ä¸éœ€è¦åšä»»ä½•å¤„ç†ï¼Œä»…ä»…åªç”¨ throw è¿™ä¸ªå…³é”®å­—å°†æˆ‘ä»¬å°è£…å¼‚å¸¸ä¿¡æ¯ä¸»åŠ¨æŠ›å‡ºæ¥ã€‚ç„¶ååœ¨é€šè¿‡å…³é”®å­— <code>throws</code> ç»§ç»­æŠ›å‡ºè¯¥æ–¹æ³•å¼‚å¸¸ã€‚å®ƒçš„ä¸Šå±‚ä¹Ÿå¯ä»¥åšè¿™æ ·çš„å¤„ç†ï¼Œä»¥æ­¤ç±»æ¨å°±ä¼šäº§ç”Ÿä¸€æ¡ç”±å¼‚å¸¸æ„æˆçš„å¼‚å¸¸é“¾ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionChainDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException1</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyException1</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException2</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyException2</span><span class="params">(String message, Throwable cause)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(message, cause);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">f1</span><span class="params">()</span> <span class="keyword">throws</span> MyException1 </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> MyException1(<span class="string">&quot;å‡ºç° MyException1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">f2</span><span class="params">()</span> <span class="keyword">throws</span> MyException2 </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            f1();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (MyException1 e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> MyException2(<span class="string">&quot;å‡ºç° MyException2&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> MyException2 </span>&#123;</span><br><span class="line">        f2();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; io.github.dunwu.javacore.exception.ExceptionChainDemo$MyException2: å‡ºç° MyException2</span><br><span class="line">	at io.github.dunwu.javacore.exception.ExceptionChainDemo.f2(ExceptionChainDemo.java:29)</span><br><span class="line">	at io.github.dunwu.javacore.exception.ExceptionChainDemo.main(ExceptionChainDemo.java:34)</span><br><span class="line">Caused by: io.github.dunwu.javacore.exception.ExceptionChainDemo$MyException1: å‡ºç° MyException1</span><br><span class="line">	at io.github.dunwu.javacore.exception.ExceptionChainDemo.f1(ExceptionChainDemo.java:22)</span><br><span class="line">	at io.github.dunwu.javacore.exception.ExceptionChainDemo.f2(ExceptionChainDemo.java:27)</span><br><span class="line">	... 1 more</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š<a href="https://juejin.im/post/5b6d61e55188251b38129f9a#heading-10">https://juejin.im/post/5b6d61e55188251b38129f9a#heading-10</a></p>
<p>è¿™ç¯‡æ–‡ç« ä¸­å¯¹äºå¼‚å¸¸é“¾è®²è§£æ¯”è¾ƒè¯¦ç»†ã€‚</p>
</blockquote>
<h2 id="6-å¼‚å¸¸æ³¨æ„äº‹é¡¹"><a href="#6-å¼‚å¸¸æ³¨æ„äº‹é¡¹" class="headerlink" title="6. å¼‚å¸¸æ³¨æ„äº‹é¡¹"></a>6. å¼‚å¸¸æ³¨æ„äº‹é¡¹</h2><h3 id="6-1-finally-è¦†ç›–å¼‚å¸¸"><a href="#6-1-finally-è¦†ç›–å¼‚å¸¸" class="headerlink" title="6.1. finally è¦†ç›–å¼‚å¸¸"></a>6.1. finally è¦†ç›–å¼‚å¸¸</h3><p>Java å¼‚å¸¸å¤„ç†ä¸­ <code>finally</code> ä¸­çš„ <code>return</code> ä¼šè¦†ç›– <code>catch</code> ä»£ç å—ä¸­çš„ <code>return</code> è¯­å¥å’Œ <code>throw</code> è¯­å¥ï¼Œæ‰€ä»¥ Java <strong>ä¸å»ºè®®åœ¨ <code>finally</code> ä¸­ä½¿ç”¨ <code>return</code> è¯­å¥</strong>ã€‚</p>
<p>æ­¤å¤– <code>finally</code> ä¸­çš„ <code>throw</code> è¯­å¥ä¹Ÿä¼šè¦†ç›– <code>catch</code> ä»£ç å—ä¸­çš„ <code>return</code> è¯­å¥å’Œ <code>throw</code> è¯­å¥ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FinallyOverrideExceptionDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            f();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼šC</p>
<h3 id="6-2-è¦†ç›–æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•"><a href="#6-2-è¦†ç›–æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•" class="headerlink" title="6.2. è¦†ç›–æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•"></a>6.2. è¦†ç›–æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•</h3><p>å½“å­ç±»é‡å†™çˆ¶ç±»å¸¦æœ‰ <code>throws</code> å£°æ˜çš„å‡½æ•°æ—¶ï¼Œå…¶ <code>throws</code> å£°æ˜çš„å¼‚å¸¸å¿…é¡»åœ¨çˆ¶ç±»å¼‚å¸¸çš„å¯æ§èŒƒå›´å†…â€”â€”ç”¨äºå¤„ç†çˆ¶ç±»çš„ <code>throws</code> æ–¹æ³•çš„å¼‚å¸¸å¤„ç†å™¨ï¼Œå¿…é¡»ä¹Ÿé€‚ç”¨äºå­ç±»çš„è¿™ä¸ªå¸¦ <code>throws</code> æ–¹æ³• ã€‚è¿™æ˜¯ä¸ºäº†æ”¯æŒå¤šæ€ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionOverrideDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IOException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> SQLException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Father obj1 = <span class="keyword">new</span> Father();</span><br><span class="line">        Father obj2 = <span class="keyword">new</span> Son();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            obj1.start();</span><br><span class="line">            obj2.start();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸Šé¢çš„ç¤ºä¾‹ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ï¼ŒåŸå› åœ¨äºï¼š</p>
<p>å› ä¸º Son ç±»æŠ›å‡ºå¼‚å¸¸çš„å®è´¨æ˜¯ <code>SQLException</code>ï¼Œè€Œ <code>IOException</code> æ— æ³•å¤„ç†å®ƒã€‚é‚£ä¹ˆè¿™é‡Œçš„ try catch å°±ä¸èƒ½å¤„ç† Son ä¸­çš„å¼‚å¸¸äº†ã€‚å¤šæ€å°±ä¸èƒ½å®ç°äº†ã€‚</p>
</blockquote>
<h3 id="6-3-å¼‚å¸¸å’Œçº¿ç¨‹"><a href="#6-3-å¼‚å¸¸å’Œçº¿ç¨‹" class="headerlink" title="6.3. å¼‚å¸¸å’Œçº¿ç¨‹"></a>6.3. å¼‚å¸¸å’Œçº¿ç¨‹</h3><p>å¦‚æœ Java ç¨‹åºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆæ²¡æœ‰è¢«ä»»ä½•ä»£ç å¤„ç†çš„å¼‚å¸¸ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ã€‚å¦‚æœ Java ç¨‹åºæ˜¯å¤šçº¿ç¨‹çš„ï¼Œé‚£ä¹ˆæ²¡æœ‰è¢«ä»»ä½•ä»£ç å¤„ç†çš„å¼‚å¸¸ä»…ä»…ä¼šå¯¼è‡´å¼‚å¸¸æ‰€åœ¨çš„çº¿ç¨‹ç»“æŸã€‚</p>
<h2 id="7-æœ€ä½³å®è·µ"><a href="#7-æœ€ä½³å®è·µ" class="headerlink" title="7. æœ€ä½³å®è·µ"></a>7. æœ€ä½³å®è·µ</h2><ul>
<li>å¯¹å¯æ¢å¤çš„æƒ…å†µä½¿ç”¨æ£€æŸ¥æ€§å¼‚å¸¸ï¼ˆExceptionï¼‰ï¼Œå¯¹ç¼–ç¨‹é”™è¯¯ä½¿ç”¨è¿è¡Œæ—¶å¼‚å¸¸ï¼ˆRuntimeExceptionï¼‰ã€‚</li>
<li>ä¼˜å…ˆä½¿ç”¨ Java æ ‡å‡†çš„å¼‚å¸¸ã€‚</li>
<li>æŠ›å‡ºä¸æŠ½è±¡ç›¸å¯¹åº”çš„å¼‚å¸¸ã€‚</li>
<li>åœ¨ç»†èŠ‚æ¶ˆæ¯ä¸­åŒ…å«èƒ½æ•è·å¤±è´¥çš„ä¿¡æ¯ã€‚</li>
<li>å°½å¯èƒ½å‡å°‘ try ä»£ç å—çš„å¤§å°ã€‚</li>
<li>å°½é‡ç¼©å°å¼‚å¸¸èŒƒå›´ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ˜çŸ¥å°è¯•æ•è·çš„æ˜¯ä¸€ä¸ª <code>ArithmeticException</code>ï¼Œå°±åº”è¯¥ <code>catchArithmeticException</code>ï¼Œè€Œä¸æ˜¯ <code>catch</code> èŒƒå›´è¾ƒå¤§çš„ <code>RuntimeException</code>ï¼Œç”šè‡³æ˜¯ <code>Exception</code>ã€‚</li>
<li>å°½é‡ä¸è¦åœ¨ <code>finally</code> å—æŠ›å‡ºå¼‚å¸¸æˆ–è€…è¿”å›å€¼ã€‚</li>
<li>ä¸è¦å¿½ç•¥å¼‚å¸¸ï¼Œä¸€æ—¦æ•è·å¼‚å¸¸ï¼Œå°±åº”è¯¥å¤„ç†ï¼Œè€Œéä¸¢å¼ƒã€‚</li>
<li>å¼‚å¸¸å¤„ç†æ•ˆç‡å¾ˆä½ï¼Œæ‰€ä»¥ä¸è¦ç”¨å¼‚å¸¸è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚</li>
<li>å„ç±»å¼‚å¸¸å¿…é¡»è¦æœ‰å•ç‹¬çš„æ—¥å¿—è®°å½•ï¼Œå°†å¼‚å¸¸åˆ†çº§ï¼Œåˆ†ç±»ç®¡ç†ï¼Œå› ä¸ºæœ‰çš„æ—¶å€™ä»…ä»…æƒ³ç»™ç¬¬ä¸‰æ–¹è¿ç»´çœ‹åˆ°é€»è¾‘å¼‚å¸¸ï¼Œè€Œä¸æ˜¯æ›´ç»†èŠ‚çš„ä¿¡æ¯ã€‚</li>
<li>å¦‚ä½•å¯¹å¼‚å¸¸è¿›è¡Œåˆ†ç±»ï¼š<ul>
<li>é€»è¾‘å¼‚å¸¸ï¼Œè¿™ç±»å¼‚å¸¸ç”¨äºæè¿°ä¸šåŠ¡æ— æ³•æŒ‰ç…§é¢„æœŸçš„æƒ…å†µå¤„ç†ä¸‹å»ï¼Œå±äºç”¨æˆ·åˆ¶é€ çš„æ„å¤–ã€‚</li>
<li>ä»£ç é”™è¯¯ï¼Œè¿™ç±»å¼‚å¸¸ç”¨äºæè¿°å¼€å‘çš„ä»£ç é”™è¯¯ï¼Œä¾‹å¦‚ NPEï¼ŒILLARGï¼Œéƒ½å±äºç¨‹åºå‘˜åˆ¶é€ çš„ BUGã€‚</li>
<li>ä¸“æœ‰å¼‚å¸¸ï¼Œå¤šç”¨äºç‰¹å®šä¸šåŠ¡åœºæ™¯ï¼Œç”¨äºæè¿°æŒ‡å®šä½œä¸šå‡ºç°æ„å¤–æƒ…å†µæ— æ³•é¢„å…ˆå¤„ç†ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š</p>
<ul>
<li><a href="https://book.douban.com/subject/3360807/">Effective java ä¸­æ–‡ç‰ˆ ä¹‹ ç¬¬ä¹ç«  å¼‚å¸¸</a></li>
<li><a href="https://my.oschina.net/c5ms/blog/1827907">ä¼˜é›…çš„å¤„ç†ä½ çš„ Java å¼‚å¸¸</a></li>
</ul>
</blockquote>
<h2 id="8-å‚è€ƒèµ„æ–™"><a href="#8-å‚è€ƒèµ„æ–™" class="headerlink" title="8. å‚è€ƒèµ„æ–™"></a>8. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
<li><a href="https://book.douban.com/subject/3360807/">Effective java ä¸­æ–‡ç‰ˆ ä¹‹ ç¬¬ä¹ç«  å¼‚å¸¸</a></li>
<li><a href="https://my.oschina.net/c5ms/blog/1827907">ä¼˜é›…çš„å¤„ç†ä½ çš„ Java å¼‚å¸¸</a></li>
<li><a href="https://juejin.im/post/5b6d61e55188251b38129f9a#heading-17">https://juejin.im/post/5b6d61e55188251b38129f9a#heading-17</a></li>
<li><a href="https://www.cnblogs.com/skywang12345/p/3544168.html">https://www.cnblogs.com/skywang12345/p/3544168.html</a></li>
<li><a href="http://www.importnew.com/26613.html">http://www.importnew.com/26613.html</a></li>
</ul>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>å¼‚å¸¸</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥ç†è§£ Java æ³›å‹</title>
    <url>/2021/12/06/java-generic/</url>
    <content><![CDATA[<h1 id="æ·±å…¥ç†è§£-Java-æ³›å‹"><a href="#æ·±å…¥ç†è§£-Java-æ³›å‹" class="headerlink" title="æ·±å…¥ç†è§£ Java æ³›å‹"></a>æ·±å…¥ç†è§£ Java æ³›å‹</h1><blockquote>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E6%B3%9B%E5%9E%8B">1. ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹</a></li>
<li><a href="#2-%E6%B3%9B%E5%9E%8B%E7%B1%BB%E5%9E%8B">2. æ³›å‹ç±»å‹</a><ul>
<li><a href="#21-%E6%B3%9B%E5%9E%8B%E7%B1%BB">2.1. æ³›å‹ç±»</a></li>
<li><a href="#22-%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3">2.2. æ³›å‹æ¥å£</a></li>
</ul>
</li>
<li><a href="#3-%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95">3. æ³›å‹æ–¹æ³•</a></li>
<li><a href="#4-%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4">4. ç±»å‹æ“¦é™¤</a></li>
<li><a href="#5-%E6%B3%9B%E5%9E%8B%E5%92%8C%E7%BB%A7%E6%89%BF">5. æ³›å‹å’Œç»§æ‰¿</a></li>
<li><a href="#6-%E7%B1%BB%E5%9E%8B%E8%BE%B9%E7%95%8C">6. ç±»å‹è¾¹ç•Œ</a></li>
<li><a href="#7-%E7%B1%BB%E5%9E%8B%E9%80%9A%E9%85%8D%E7%AC%A6">7. ç±»å‹é€šé…ç¬¦</a><ul>
<li><a href="#71-%E4%B8%8A%E7%95%8C%E9%80%9A%E9%85%8D%E7%AC%A6">7.1. ä¸Šç•Œé€šé…ç¬¦</a></li>
<li><a href="#72-%E4%B8%8B%E7%95%8C%E9%80%9A%E9%85%8D%E7%AC%A6">7.2. ä¸‹ç•Œé€šé…ç¬¦</a></li>
<li><a href="#73-%E6%97%A0%E7%95%8C%E9%80%9A%E9%85%8D%E7%AC%A6">7.3. æ— ç•Œé€šé…ç¬¦</a></li>
<li><a href="#74-%E9%80%9A%E9%85%8D%E7%AC%A6%E5%92%8C%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B">7.4. é€šé…ç¬¦å’Œå‘ä¸Šè½¬å‹</a></li>
</ul>
</li>
<li><a href="#8-%E6%B3%9B%E5%9E%8B%E7%9A%84%E7%BA%A6%E6%9D%9F">8. æ³›å‹çš„çº¦æŸ</a></li>
<li><a href="#9-%E6%B3%9B%E5%9E%8B%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">9. æ³›å‹æœ€ä½³å®è·µ</a><ul>
<li><a href="#91-%E6%B3%9B%E5%9E%8B%E5%91%BD%E5%90%8D">9.1. æ³›å‹å‘½å</a></li>
<li><a href="#92-%E4%BD%BF%E7%94%A8%E6%B3%9B%E5%9E%8B%E7%9A%84%E5%BB%BA%E8%AE%AE">9.2. ä½¿ç”¨æ³›å‹çš„å»ºè®®</a></li>
</ul>
</li>
<li><a href="#10-%E5%B0%8F%E7%BB%93">10. å°ç»“</a></li>
<li><a href="#11-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">11. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹"><a href="#1-ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹" class="headerlink" title="1. ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹"></a>1. ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹</h2><p><strong>JDK5 å¼•å…¥äº†æ³›å‹æœºåˆ¶</strong>ã€‚</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹å‘¢ï¼Ÿå›ç­”è¿™ä¸ªé—®é¢˜å‰ï¼Œå…ˆè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NoGenericsDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        list.add(<span class="number">18</span>);</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="keyword">double</span>[] &#123;<span class="number">1.0</span>, <span class="number">2.0</span>&#125;);</span><br><span class="line">        Object obj1 = list.get(<span class="number">0</span>);</span><br><span class="line">        Object obj2 = list.get(<span class="number">1</span>);</span><br><span class="line">        Object obj3 = list.get(<span class="number">2</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;obj1 = [&quot;</span> + obj1 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;obj2 = [&quot;</span> + obj2 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;obj3 = [&quot;</span> + obj3 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> num1 = (<span class="keyword">int</span>)list.get(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> num2 = (<span class="keyword">int</span>)list.get(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> num3 = (<span class="keyword">int</span>)list.get(<span class="number">2</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;num1 = [&quot;</span> + num1 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;num2 = [&quot;</span> + num2 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;num3 = [&quot;</span> + num3 + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// obj1 = [abc]</span></span><br><span class="line"><span class="comment">// obj2 = [18]</span></span><br><span class="line"><span class="comment">// obj3 = [[D@47089e5f]</span></span><br><span class="line"><span class="comment">// Exception in thread &quot;main&quot; java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer</span></span><br><span class="line"><span class="comment">// at io.github.dunwu.javacore.generics.NoGenericsDemo.main(NoGenericsDemo.java:23)</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç¤ºä¾‹è¯´æ˜ï¼š</p>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>List</code> å®¹å™¨æ²¡æœ‰æŒ‡å®šå­˜å‚¨æ•°æ®ç±»å‹ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å‘ <code>List</code> æ·»åŠ ä»»æ„ç±»å‹æ•°æ®ï¼Œç¼–è¯‘å™¨ä¸ä¼šåšç±»å‹æ£€æŸ¥ï¼Œè€Œæ˜¯é»˜é»˜çš„å°†æ‰€æœ‰æ•°æ®éƒ½è½¬ä¸º <code>Object</code>ã€‚</p>
<p>å‡è®¾ï¼Œæœ€åˆæˆ‘ä»¬å¸Œæœ›å‘ <code>List</code> å­˜å‚¨çš„æ˜¯æ•´å½¢æ•°æ®ï¼Œå‡è®¾ï¼ŒæŸä¸ªå®¶ä¼™ä¸å°å¿ƒå­˜å…¥äº†å…¶ä»–æ•°æ®ç±»å‹ã€‚å½“ä½ è¯•å›¾ä»å®¹å™¨ä¸­å–æ•´å½¢æ•°æ®æ—¶ï¼Œç”±äº <code>List</code> å½“æˆ <code>Object</code> ç±»å‹æ¥å­˜å‚¨ï¼Œä½ ä¸å¾—ä¸ä½¿ç”¨ç±»å‹å¼ºåˆ¶è½¬æ¢ã€‚åœ¨è¿è¡Œæ—¶ï¼Œæ‰ä¼šå‘ç° <code>List</code> ä¸­æ•°æ®ä¸å­˜å‚¨ä¸€è‡´çš„é—®é¢˜ï¼Œè¿™å°±ä¸ºç¨‹åºè¿è¡Œå¸¦æ¥äº†å¾ˆå¤§çš„é£é™©ï¼ˆæ— å½¢ä¼¤å®³æœ€ä¸ºè‡´å‘½ï¼‰ã€‚</p>
</blockquote>
<p>è€Œæ³›å‹çš„å‡ºç°ï¼Œè§£å†³äº†ç±»å‹å®‰å…¨é—®é¢˜ã€‚</p>
<p>æ³›å‹å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul>
<li><strong>ç¼–è¯‘æ—¶çš„å¼ºç±»å‹æ£€æŸ¥</strong></li>
</ul>
<p>æ³›å‹è¦æ±‚åœ¨å£°æ˜æ—¶æŒ‡å®šå®é™…æ•°æ®ç±»å‹ï¼ŒJava ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šå¯¹æ³›å‹ä»£ç åšå¼ºç±»å‹æ£€æŸ¥ï¼Œå¹¶åœ¨ä»£ç è¿åç±»å‹å®‰å…¨æ—¶å‘å‡ºå‘Šè­¦ã€‚æ—©å‘ç°ï¼Œæ—©æ²»ç†ï¼ŒæŠŠéšæ‚£æ‰¼æ€äºæ‘‡ç¯®ï¼Œåœ¨ç¼–è¯‘æ—¶å‘ç°å¹¶ä¿®å¤é”™è¯¯æ‰€ä»˜å‡ºçš„ä»£ä»·è¿œæ¯”åœ¨è¿è¡Œæ—¶å°ã€‚</p>
<ul>
<li><strong>é¿å…äº†ç±»å‹è½¬æ¢</strong></li>
</ul>
<p>æœªä½¿ç”¨æ³›å‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">list.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">String s = (String) list.get(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ³›å‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">list.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">String s = list.get(<span class="number">0</span>);   <span class="comment">// no cast</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>æ³›å‹ç¼–ç¨‹å¯ä»¥å®ç°é€šç”¨ç®—æ³•</strong></li>
</ul>
<p>é€šè¿‡ä½¿ç”¨æ³›å‹ï¼Œç¨‹åºå‘˜å¯ä»¥å®ç°é€šç”¨ç®—æ³•ï¼Œè¿™äº›ç®—æ³•å¯ä»¥å¤„ç†ä¸åŒç±»å‹çš„é›†åˆï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œå¹¶ä¸”ç±»å‹å®‰å…¨ä¸”æ˜“äºé˜…è¯»ã€‚</p>
<h2 id="2-æ³›å‹ç±»å‹"><a href="#2-æ³›å‹ç±»å‹" class="headerlink" title="2. æ³›å‹ç±»å‹"></a>2. æ³›å‹ç±»å‹</h2><p><strong><code>æ³›å‹ç±»å‹</code>æ˜¯è¢«å‚æ•°åŒ–çš„ç±»æˆ–æ¥å£ã€‚</strong></p>
<h3 id="2-1-æ³›å‹ç±»"><a href="#2-1-æ³›å‹ç±»" class="headerlink" title="2.1. æ³›å‹ç±»"></a>2.1. æ³›å‹ç±»</h3><p>æ³›å‹ç±»çš„è¯­æ³•å½¢å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">name</span>&lt;<span class="title">T1</span>, <span class="title">T2</span>, ..., <span class="title">Tn</span>&gt; </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure>

<p>æ³›å‹ç±»çš„å£°æ˜å’Œéæ³›å‹ç±»çš„å£°æ˜ç±»ä¼¼ï¼Œé™¤äº†åœ¨ç±»ååé¢æ·»åŠ äº†ç±»å‹å‚æ•°å£°æ˜éƒ¨åˆ†ã€‚ç”±å°–æ‹¬å·ï¼ˆ<code>&lt;&gt;</code>ï¼‰åˆ†éš”çš„ç±»å‹å‚æ•°éƒ¨åˆ†è·Ÿåœ¨ç±»ååé¢ã€‚å®ƒæŒ‡å®šç±»å‹å‚æ•°ï¼ˆä¹Ÿç§°ä¸ºç±»å‹å˜é‡ï¼‰T1ï¼ŒT2ï¼Œâ€¦å’Œ Tnã€‚</p>
<p>ä¸€èˆ¬å°†æ³›å‹ä¸­çš„ç±»åç§°ä¸º<strong>åŸå‹</strong>ï¼Œè€Œå°† <code>&lt;&gt;</code> æŒ‡å®šçš„å‚æ•°ç§°ä¸º<strong>ç±»å‹å‚æ•°</strong>ã€‚</p>
<ul>
<li>æœªåº”ç”¨æ³›å‹çš„ç±»</li>
</ul>
<p>åœ¨æ³›å‹å‡ºç°ä¹‹å‰ï¼Œå¦‚æœä¸€ä¸ªç±»æƒ³æŒæœ‰ä¸€ä¸ªå¯ä»¥ä¸ºä»»æ„ç±»å‹çš„æ•°æ®ï¼Œåªèƒ½ä½¿ç”¨ <code>Object</code> åšç±»å‹è½¬æ¢ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Info</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Object value;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Object <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> value;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setValue</span><span class="params">(Object value)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å•ç±»å‹å‚æ•°çš„æ³›å‹ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Info</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T value;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Info</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Info</span><span class="params">(T value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setValue</span><span class="params">(T value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Info&#123;&quot;</span> + <span class="string">&quot;value=&quot;</span> + value + <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsClassDemo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Info&lt;Integer&gt; info = <span class="keyword">new</span> Info&lt;&gt;();</span><br><span class="line">        info.setValue(<span class="number">10</span>);</span><br><span class="line">        System.out.println(info.getValue());</span><br><span class="line"></span><br><span class="line">        Info&lt;String&gt; info2 = <span class="keyword">new</span> Info&lt;&gt;();</span><br><span class="line">        info2.setValue(<span class="string">&quot;xyz&quot;</span>);</span><br><span class="line">        System.out.println(info2.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="comment">// xyz</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œåœ¨åˆå§‹åŒ–ä¸€ä¸ªæ³›å‹ç±»æ—¶ï¼Œä½¿ç”¨ <code>&lt;&gt;</code> æŒ‡å®šäº†å†…éƒ¨å…·ä½“ç±»å‹ï¼Œåœ¨ç¼–è¯‘æ—¶å°±ä¼šæ ¹æ®è¿™ä¸ªç±»å‹åšå¼ºç±»å‹æ£€æŸ¥ã€‚</p>
<p>å®é™…ä¸Šï¼Œä¸ä½¿ç”¨ <code>&lt;&gt;</code> æŒ‡å®šå†…éƒ¨å…·ä½“ç±»å‹ï¼Œè¯­æ³•ä¸Šä¹Ÿæ˜¯æ”¯æŒçš„ï¼ˆä¸æ¨èè¿™ä¹ˆåšï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Info info = <span class="keyword">new</span> Info();</span><br><span class="line">    info.setValue(<span class="number">10</span>);</span><br><span class="line">    System.out.println(info.getValue());</span><br><span class="line">    info.setValue(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">    System.out.println(info.getValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç¤ºä¾‹è¯´æ˜ï¼š</p>
<p>ä¸Šé¢çš„ä¾‹å­ï¼Œä¸ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œä¹Ÿèƒ½æ­£å¸¸è¿è¡Œã€‚ä½†è¿™æ ·çš„è°ƒç”¨å°±å¤±å»æ³›å‹ç±»å‹çš„ä¼˜åŠ¿ã€‚</p>
</blockquote>
<ul>
<li>å¤šä¸ªç±»å‹å‚æ•°çš„æ³›å‹ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> K key;</span><br><span class="line">    <span class="keyword">private</span> V value;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyMap</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.key = key;</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;MyMap&#123;&quot;</span> + <span class="string">&quot;key=&quot;</span> + key + <span class="string">&quot;, value=&quot;</span> + value + <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsClassDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyMap&lt;Integer, String&gt; map = <span class="keyword">new</span> MyMap&lt;&gt;(<span class="number">1</span>, <span class="string">&quot;one&quot;</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// MyMap&#123;key=1, value=one&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ³›å‹ç±»çš„ç±»å‹åµŒå¥—</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsClassDemo03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Info&lt;String&gt; info = <span class="keyword">new</span> Info(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">        MyMap&lt;Integer, Info&lt;String&gt;&gt; map = <span class="keyword">new</span> MyMap&lt;&gt;(<span class="number">1</span>, info);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// MyMap&#123;key=1, value=Info&#123;value=Hello&#125;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-æ³›å‹æ¥å£"><a href="#2-2-æ³›å‹æ¥å£" class="headerlink" title="2.2. æ³›å‹æ¥å£"></a>2.2. æ³›å‹æ¥å£</h3><p>æ¥å£ä¹Ÿå¯ä»¥å£°æ˜æ³›å‹ã€‚</p>
<p>æ³›å‹æ¥å£è¯­æ³•å½¢å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Content</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">T <span class="title">text</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³›å‹æ¥å£æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š</p>
<ul>
<li>å®ç°æ¥å£çš„å­ç±»æ˜ç¡®å£°æ˜æ³›å‹ç±»å‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsInterfaceDemo01</span> <span class="keyword">implements</span> <span class="title">Content</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> text;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GenericsInterfaceDemo01</span><span class="params">(<span class="keyword">int</span> text)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.text = text;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">text</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> text; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        GenericsInterfaceDemo01 demo = <span class="keyword">new</span> GenericsInterfaceDemo01(<span class="number">10</span>);</span><br><span class="line">        System.out.print(demo.text());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å®ç°æ¥å£çš„å­ç±»ä¸æ˜ç¡®å£°æ˜æ³›å‹ç±»å‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsInterfaceDemo02</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Content</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T text;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GenericsInterfaceDemo02</span><span class="params">(T text)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.text = text;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">text</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> text; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        GenericsInterfaceDemo02&lt;String&gt; gen = <span class="keyword">new</span> GenericsInterfaceDemo02&lt;&gt;(<span class="string">&quot;ABC&quot;</span>);</span><br><span class="line">        System.out.print(gen.text());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// ABC</span></span><br></pre></td></tr></table></figure>

<h2 id="3-æ³›å‹æ–¹æ³•"><a href="#3-æ³›å‹æ–¹æ³•" class="headerlink" title="3. æ³›å‹æ–¹æ³•"></a>3. æ³›å‹æ–¹æ³•</h2><p>æ³›å‹æ–¹æ³•æ˜¯å¼•å…¥å…¶è‡ªå·±çš„ç±»å‹å‚æ•°çš„æ–¹æ³•ã€‚æ³›å‹æ–¹æ³•å¯ä»¥æ˜¯æ™®é€šæ–¹æ³•ã€é™æ€æ–¹æ³•ä»¥åŠæ„é€ æ–¹æ³•ã€‚</p>
<p>æ³›å‹æ–¹æ³•è¯­æ³•å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">func</span><span class="params">(T obj)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ˜¯å¦æ‹¥æœ‰æ³›å‹æ–¹æ³•ï¼Œä¸å…¶æ‰€åœ¨çš„ç±»æ˜¯å¦æ˜¯æ³›å‹æ²¡æœ‰å…³ç³»ã€‚</strong></p>
<p>æ³›å‹æ–¹æ³•çš„è¯­æ³•åŒ…æ‹¬ä¸€ä¸ªç±»å‹å‚æ•°åˆ—è¡¨ï¼Œåœ¨å°–æ‹¬å·å†…ï¼Œå®ƒå‡ºç°åœ¨æ–¹æ³•çš„è¿”å›ç±»å‹ä¹‹å‰ã€‚å¯¹äºé™æ€æ³›å‹æ–¹æ³•ï¼Œç±»å‹å‚æ•°éƒ¨åˆ†å¿…é¡»å‡ºç°åœ¨æ–¹æ³•çš„è¿”å›ç±»å‹ä¹‹å‰ã€‚ç±»å‹å‚æ•°èƒ½è¢«ç”¨æ¥å£°æ˜è¿”å›å€¼ç±»å‹ï¼Œå¹¶ä¸”èƒ½ä½œä¸ºæ³›å‹æ–¹æ³•å¾—åˆ°çš„å®é™…ç±»å‹å‚æ•°çš„å ä½ç¬¦ã€‚</p>
<p><strong>ä½¿ç”¨æ³›å‹æ–¹æ³•çš„æ—¶å€™ï¼Œé€šå¸¸ä¸å¿…æŒ‡æ˜ç±»å‹å‚æ•°ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æ‰¾å‡ºå…·ä½“çš„ç±»å‹ã€‚è¿™ç§°ä¸ºç±»å‹å‚æ•°æ¨æ–­ï¼ˆtype argument inferenceï¼‰ã€‚ç±»å‹æ¨æ–­åªå¯¹èµ‹å€¼æ“ä½œæœ‰æ•ˆï¼Œå…¶ä»–æ—¶å€™å¹¶ä¸èµ·ä½œç”¨</strong>ã€‚å¦‚æœå°†ä¸€ä¸ªæ³›å‹æ–¹æ³•è°ƒç”¨çš„ç»“æœä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™å¦ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™æ—¶ç¼–è¯‘å™¨å¹¶ä¸ä¼šæ‰§è¡Œæ¨æ–­ã€‚ç¼–è¯‘å™¨ä¼šè®¤ä¸ºï¼šè°ƒç”¨æ³›å‹æ–¹æ³•åï¼Œå…¶è¿”å›å€¼è¢«èµ‹ç»™ä¸€ä¸ª Object ç±»å‹çš„å˜é‡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsMethodDemo01</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">printClass</span><span class="params">(T obj)</span> </span>&#123;</span><br><span class="line">        System.out.println(obj.getClass().toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        printClass(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        printClass(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// class java.lang.String</span></span><br><span class="line"><span class="comment">// class java.lang.Integer</span></span><br></pre></td></tr></table></figure>

<p>æ³›å‹æ–¹æ³•ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨å¯å˜å‚æ•°åˆ—è¡¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericVarargsMethodDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">List&lt;T&gt; <span class="title">makeList</span><span class="params">(T... args)</span> </span>&#123;</span><br><span class="line">        List&lt;T&gt; result = <span class="keyword">new</span> ArrayList&lt;T&gt;();</span><br><span class="line">        Collections.addAll(result, args);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; ls = makeList(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        System.out.println(ls);</span><br><span class="line">        ls = makeList(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>);</span><br><span class="line">        System.out.println(ls);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// [A]</span></span><br><span class="line"><span class="comment">// [A, B, C]</span></span><br></pre></td></tr></table></figure>

<h2 id="4-ç±»å‹æ“¦é™¤"><a href="#4-ç±»å‹æ“¦é™¤" class="headerlink" title="4. ç±»å‹æ“¦é™¤"></a>4. ç±»å‹æ“¦é™¤</h2><p>Java è¯­è¨€å¼•å…¥æ³›å‹æ˜¯ä¸ºäº†åœ¨ç¼–è¯‘æ—¶æä¾›æ›´ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ï¼Œå¹¶æ”¯æŒæ³›å‹ç¼–ç¨‹ã€‚ä¸åŒäº C++ çš„æ¨¡æ¿æœºåˆ¶ï¼Œ<strong>Java æ³›å‹æ˜¯ä½¿ç”¨ç±»å‹æ“¦é™¤æ¥å®ç°çš„ï¼Œä½¿ç”¨æ³›å‹æ—¶ï¼Œä»»ä½•å…·ä½“çš„ç±»å‹ä¿¡æ¯éƒ½è¢«æ“¦é™¤äº†</strong>ã€‚</p>
<p>é‚£ä¹ˆï¼Œç±»å‹æ“¦é™¤åšäº†ä»€ä¹ˆå‘¢ï¼Ÿå®ƒåšäº†ä»¥ä¸‹å·¥ä½œï¼š</p>
<ul>
<li>æŠŠæ³›å‹ä¸­çš„æ‰€æœ‰ç±»å‹å‚æ•°æ›¿æ¢ä¸º Objectï¼Œå¦‚æœæŒ‡å®šç±»å‹è¾¹ç•Œï¼Œåˆ™ä½¿ç”¨ç±»å‹è¾¹ç•Œæ¥æ›¿æ¢ã€‚å› æ­¤ï¼Œç”Ÿæˆçš„å­—èŠ‚ç ä»…åŒ…å«æ™®é€šçš„ç±»ï¼Œæ¥å£å’Œæ–¹æ³•ã€‚</li>
<li>æ“¦é™¤å‡ºç°çš„ç±»å‹å£°æ˜ï¼Œå³å»æ‰ <code>&lt;&gt;</code> çš„å†…å®¹ã€‚æ¯”å¦‚ <code>T get()</code> æ–¹æ³•å£°æ˜å°±å˜æˆäº† <code>Object get()</code> ï¼›<code>List&lt;String&gt;</code> å°±å˜æˆäº† <code>List</code>ã€‚å¦‚æœ‰å¿…è¦ï¼Œæ’å…¥ç±»å‹è½¬æ¢ä»¥ä¿æŒç±»å‹å®‰å…¨ã€‚</li>
<li>ç”Ÿæˆæ¡¥æ¥æ–¹æ³•ä»¥ä¿ç•™æ‰©å±•æ³›å‹ç±»å‹ä¸­çš„å¤šæ€æ€§ã€‚ç±»å‹æ“¦é™¤ç¡®ä¿ä¸ä¸ºå‚æ•°åŒ–ç±»å‹åˆ›å»ºæ–°ç±»ï¼›å› æ­¤ï¼Œæ³›å‹ä¸ä¼šäº§ç”Ÿè¿è¡Œæ—¶å¼€é”€ã€‚</li>
</ul>
<p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsErasureTypeDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Object&gt; list1 = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</span><br><span class="line">        List&lt;String&gt; list2 = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        System.out.println(list1.getClass());</span><br><span class="line">        System.out.println(list2.getClass());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// class java.util.ArrayList</span></span><br><span class="line"><span class="comment">// class java.util.ArrayList</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç¤ºä¾‹è¯´æ˜ï¼š</p>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œè™½ç„¶æŒ‡å®šäº†ä¸åŒçš„ç±»å‹å‚æ•°ï¼Œä½†æ˜¯ list1 å’Œ list2 çš„ç±»ä¿¡æ¯å´æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºï¼š<strong>ä½¿ç”¨æ³›å‹æ—¶ï¼Œä»»ä½•å…·ä½“çš„ç±»å‹ä¿¡æ¯éƒ½è¢«æ“¦é™¤äº†</strong>ã€‚è¿™æ„å‘³ç€ï¼š<code>ArrayList&lt;Object&gt;</code> å’Œ <code>ArrayList&lt;String&gt;</code> åœ¨è¿è¡Œæ—¶ï¼ŒJVM å°†å®ƒä»¬è§†ä¸ºåŒä¸€ç±»å‹ã€‚</p>
</blockquote>
<p>Java æ³›å‹çš„å®ç°æ–¹å¼ä¸å¤ªä¼˜é›…ï¼Œä½†è¿™æ˜¯å› ä¸ºæ³›å‹æ˜¯åœ¨ JDK5 æ—¶å¼•å…¥çš„ï¼Œä¸ºäº†å…¼å®¹è€ä»£ç ï¼Œå¿…é¡»åœ¨è®¾è®¡ä¸Šåšä¸€å®šçš„æŠ˜ä¸­ã€‚</p>
<h2 id="5-æ³›å‹å’Œç»§æ‰¿"><a href="#5-æ³›å‹å’Œç»§æ‰¿" class="headerlink" title="5. æ³›å‹å’Œç»§æ‰¿"></a>5. æ³›å‹å’Œç»§æ‰¿</h2><p><strong>æ³›å‹ä¸èƒ½ç”¨äºæ˜¾å¼åœ°å¼•ç”¨è¿è¡Œæ—¶ç±»å‹çš„æ“ä½œä¹‹ä¸­ï¼Œä¾‹å¦‚ï¼šè½¬å‹ã€instanceof æ“ä½œå’Œ new è¡¨è¾¾å¼ã€‚å› ä¸ºæ‰€æœ‰å…³äºå‚æ•°çš„ç±»å‹ä¿¡æ¯éƒ½ä¸¢å¤±äº†</strong>ã€‚å½“ä½ åœ¨ç¼–å†™æ³›å‹ä»£ç æ—¶ï¼Œå¿…é¡»æ—¶åˆ»æé†’è‡ªå·±ï¼Œä½ åªæ˜¯çœ‹èµ·æ¥å¥½åƒæ‹¥æœ‰æœ‰å…³å‚æ•°çš„ç±»å‹ä¿¡æ¯è€Œå·²ã€‚</p>
<p>æ­£æ˜¯ç”±äºæ³›å‹æ—¶åŸºäºç±»å‹æ“¦é™¤å®ç°çš„ï¼Œæ‰€ä»¥ï¼Œ<strong>æ³›å‹ç±»å‹æ— æ³•å‘ä¸Šè½¬å‹</strong>ã€‚</p>
<blockquote>
<p>å‘ä¸Šè½¬å‹æ˜¯æŒ‡ç”¨å­ç±»å®ä¾‹å»åˆå§‹åŒ–çˆ¶ç±»ï¼Œè¿™æ˜¯é¢å‘å¯¹è±¡ä¸­å¤šæ€çš„é‡è¦è¡¨ç°ã€‚</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1553147778883.png" alt="img"></p>
<p><code>Integer</code> ç»§æ‰¿äº† <code>Object</code>ï¼›<code>ArrayList</code> ç»§æ‰¿äº† <code>List</code>ï¼›ä½†æ˜¯ <code>List&lt;Interger&gt;</code> å´å¹¶éç»§æ‰¿äº† <code>List&lt;Object&gt;</code>ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºï¼Œæ³›å‹ç±»å¹¶æ²¡æœ‰è‡ªå·±ç‹¬æœ‰çš„ <code>Class</code> ç±»å¯¹è±¡ã€‚æ¯”å¦‚ï¼šå¹¶ä¸å­˜åœ¨ <code>List&lt;Object&gt;.class</code> æˆ–æ˜¯ <code>List&lt;Interger&gt;.class</code>ï¼ŒJava ç¼–è¯‘å™¨ä¼šå°†äºŒè€…éƒ½è§†ä¸º <code>List.class</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">List&lt;Object&gt; list2 = list; <span class="comment">// Erorr</span></span><br></pre></td></tr></table></figure>

<h2 id="6-ç±»å‹è¾¹ç•Œ"><a href="#6-ç±»å‹è¾¹ç•Œ" class="headerlink" title="6. ç±»å‹è¾¹ç•Œ"></a>6. ç±»å‹è¾¹ç•Œ</h2><p>æœ‰æ—¶æ‚¨å¯èƒ½å¸Œæœ›é™åˆ¶å¯åœ¨å‚æ•°åŒ–ç±»å‹ä¸­ç”¨ä½œç±»å‹å‚æ•°çš„ç±»å‹ã€‚**<code>ç±»å‹è¾¹ç•Œ</code>å¯ä»¥å¯¹æ³›å‹çš„ç±»å‹å‚æ•°è®¾ç½®é™åˆ¶æ¡ä»¶**ã€‚ä¾‹å¦‚ï¼Œå¯¹æ•°å­—è¿›è¡Œæ“ä½œçš„æ–¹æ³•å¯èƒ½åªæƒ³æ¥å— <code>Number</code> æˆ–å…¶å­ç±»çš„å®ä¾‹ã€‚</p>
<p>è¦å£°æ˜æœ‰ç•Œç±»å‹å‚æ•°ï¼Œè¯·åˆ—å‡ºç±»å‹å‚æ•°çš„åç§°ï¼Œç„¶åæ˜¯ <code>extends</code> å…³é”®å­—ï¼Œåè·Ÿå…¶é™åˆ¶ç±»æˆ–æ¥å£ã€‚</p>
<p>ç±»å‹è¾¹ç•Œçš„è¯­æ³•å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;T extends XXX&gt;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsExtendsDemo01</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> &lt;T extends Comparable&lt;T&gt;&gt; <span class="function">T <span class="title">max</span><span class="params">(T x, T y, T z)</span> </span>&#123;</span><br><span class="line">        T max = x; <span class="comment">// å‡è®¾xæ˜¯åˆå§‹æœ€å¤§å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (y.compareTo(max) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            max = y; <span class="comment">//y æ›´å¤§</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (z.compareTo(max) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            max = z; <span class="comment">// ç°åœ¨ z æ›´å¤§</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max; <span class="comment">// è¿”å›æœ€å¤§å¯¹è±¡</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(max(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>));</span><br><span class="line">        System.out.println(max(<span class="number">6.6</span>, <span class="number">8.8</span>, <span class="number">7.7</span>));</span><br><span class="line">        System.out.println(max(<span class="string">&quot;pear&quot;</span>, <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;orange&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="comment">// 8.8</span></span><br><span class="line"><span class="comment">// pear</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç¤ºä¾‹è¯´æ˜ï¼š</p>
<p>ä¸Šé¢çš„ç¤ºä¾‹å£°æ˜äº†ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œç±»å‹å‚æ•° <code>T extends Comparable&lt;T&gt;</code> è¡¨æ˜ä¼ å…¥æ–¹æ³•ä¸­çš„ç±»å‹å¿…é¡»å®ç°äº† Comparable æ¥å£ã€‚</p>
</blockquote>
<p>ç±»å‹è¾¹ç•Œå¯ä»¥è®¾ç½®å¤šä¸ªï¼Œè¯­æ³•å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;T extends B1 &amp; B2 &amp; B3&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ”” æ³¨æ„ï¼šextends å…³é”®å­—åé¢çš„ç¬¬ä¸€ä¸ªç±»å‹å‚æ•°å¯ä»¥æ˜¯ç±»æˆ–æ¥å£ï¼Œå…¶ä»–ç±»å‹å‚æ•°åªèƒ½æ˜¯æ¥å£ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsExtendsDemo02</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">B</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">C</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">D1</span> &lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">A</span> &amp; <span class="title">B</span> &amp; <span class="title">C</span>&gt; </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">D2</span> &lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">B</span> &amp; <span class="title">A</span> &amp; <span class="title">C</span>&gt; </span>&#123; <span class="comment">/* ... */</span> &#125; <span class="comment">// ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">E</span> <span class="keyword">extends</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">B</span>, <span class="title">C</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        D1&lt;E&gt; demo1 = <span class="keyword">new</span> D1&lt;&gt;();</span><br><span class="line">        System.out.println(demo1.getClass().toString());</span><br><span class="line">        D1&lt;String&gt; demo2 = <span class="keyword">new</span> D1&lt;&gt;(); <span class="comment">// ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-ç±»å‹é€šé…ç¬¦"><a href="#7-ç±»å‹é€šé…ç¬¦" class="headerlink" title="7. ç±»å‹é€šé…ç¬¦"></a>7. ç±»å‹é€šé…ç¬¦</h2><p><code>ç±»å‹é€šé…ç¬¦</code>ä¸€èˆ¬æ˜¯ä½¿ç”¨ <code>?</code> ä»£æ›¿å…·ä½“çš„ç±»å‹å‚æ•°ã€‚ä¾‹å¦‚ <code>List&lt;?&gt;</code> åœ¨é€»è¾‘ä¸Šæ˜¯ <code>List&lt;String&gt;</code> ï¼Œ<code>List&lt;Integer&gt;</code> ç­‰æ‰€æœ‰ <code>List&lt;å…·ä½“ç±»å‹å®å‚&gt;</code> çš„çˆ¶ç±»ã€‚</p>
<h3 id="7-1-ä¸Šç•Œé€šé…ç¬¦"><a href="#7-1-ä¸Šç•Œé€šé…ç¬¦" class="headerlink" title="7.1. ä¸Šç•Œé€šé…ç¬¦"></a>7.1. ä¸Šç•Œé€šé…ç¬¦</h3><p>å¯ä»¥ä½¿ç”¨**<code>ä¸Šç•Œé€šé…ç¬¦</code>**æ¥ç¼©å°ç±»å‹å‚æ•°çš„ç±»å‹èŒƒå›´ã€‚</p>
<p>å®ƒçš„è¯­æ³•å½¢å¼ä¸ºï¼š<code>&lt;? extends Number&gt;</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsUpperBoundedWildcardDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">sumOfList</span><span class="params">(List&lt;? extends Number&gt; list)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> s = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (Number n : list) &#123;</span><br><span class="line">            s += n.doubleValue();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; li = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;sum = &quot;</span> + sumOfList(li));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// sum = 6.0</span></span><br></pre></td></tr></table></figure>

<h3 id="7-2-ä¸‹ç•Œé€šé…ç¬¦"><a href="#7-2-ä¸‹ç•Œé€šé…ç¬¦" class="headerlink" title="7.2. ä¸‹ç•Œé€šé…ç¬¦"></a>7.2. ä¸‹ç•Œé€šé…ç¬¦</h3><p>**<code>ä¸‹ç•Œé€šé…ç¬¦</code>**å°†æœªçŸ¥ç±»å‹é™åˆ¶ä¸ºè¯¥ç±»å‹çš„ç‰¹å®šç±»å‹æˆ–è¶…ç±»ç±»å‹ã€‚</p>
<blockquote>
<p>ğŸ”” æ³¨æ„ï¼š<strong>ä¸Šç•Œé€šé…ç¬¦å’Œä¸‹ç•Œé€šé…ç¬¦ä¸èƒ½åŒæ—¶ä½¿ç”¨</strong>ã€‚</p>
</blockquote>
<p>å®ƒçš„è¯­æ³•å½¢å¼ä¸ºï¼š<code>&lt;? super Number&gt;</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsLowerBoundedWildcardDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">addNumbers</span><span class="params">(List&lt;? <span class="keyword">super</span> Integer&gt; list)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            list.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        addNumbers(list);</span><br><span class="line">        System.out.println(Arrays.deepToString(list.toArray()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<h3 id="7-3-æ— ç•Œé€šé…ç¬¦"><a href="#7-3-æ— ç•Œé€šé…ç¬¦" class="headerlink" title="7.3. æ— ç•Œé€šé…ç¬¦"></a>7.3. æ— ç•Œé€šé…ç¬¦</h3><p>æ— ç•Œé€šé…ç¬¦æœ‰ä¸¤ç§åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>å¯ä»¥ä½¿ç”¨ Object ç±»ä¸­æä¾›çš„åŠŸèƒ½æ¥å®ç°çš„æ–¹æ³•ã€‚</li>
<li>ä½¿ç”¨ä¸ä¾èµ–äºç±»å‹å‚æ•°çš„æ³›å‹ç±»ä¸­çš„æ–¹æ³•ã€‚</li>
</ul>
<p>è¯­æ³•å½¢å¼ï¼š<code>&lt;?&gt;</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsUnboundedWildcardDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printList</span><span class="params">(List&lt;?&gt; list)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Object elem : list) &#123;</span><br><span class="line">            System.out.print(elem + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; li = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">        List&lt;String&gt; ls = Arrays.asList(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>);</span><br><span class="line">        printList(li);</span><br><span class="line">        printList(ls);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// 1 2 3</span></span><br><span class="line"><span class="comment">// one two three</span></span><br></pre></td></tr></table></figure>

<h3 id="7-4-é€šé…ç¬¦å’Œå‘ä¸Šè½¬å‹"><a href="#7-4-é€šé…ç¬¦å’Œå‘ä¸Šè½¬å‹" class="headerlink" title="7.4. é€šé…ç¬¦å’Œå‘ä¸Šè½¬å‹"></a>7.4. é€šé…ç¬¦å’Œå‘ä¸Šè½¬å‹</h3><p>å‰é¢ï¼Œæˆ‘ä»¬æåˆ°ï¼š<strong>æ³›å‹ä¸èƒ½å‘ä¸Šè½¬å‹ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨é€šé…ç¬¦æ¥å‘ä¸Šè½¬å‹</strong>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericsWildcardDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; intList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;Number&gt; numList = intList;  <span class="comment">// Error</span></span><br><span class="line"></span><br><span class="line">        List&lt;? extends Integer&gt; intList2 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;? extends Number&gt; numList2 = intList2;  <span class="comment">// OK</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š<a href="https://docs.oracle.com/javase/tutorial/java/generics/index.html">Oracle æ³›å‹æ–‡æ¡£</a></p>
</blockquote>
<h2 id="8-æ³›å‹çš„çº¦æŸ"><a href="#8-æ³›å‹çš„çº¦æŸ" class="headerlink" title="8. æ³›å‹çš„çº¦æŸ"></a>8. æ³›å‹çš„çº¦æŸ</h2><ul>
<li><a href="https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#instantiate">æ³›å‹ç±»å‹çš„ç±»å‹å‚æ•°ä¸èƒ½æ˜¯å€¼ç±»å‹</a></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Pair&lt;<span class="keyword">int</span>, <span class="keyword">char</span>&gt; p = <span class="keyword">new</span> Pair&lt;&gt;(<span class="number">8</span>, <span class="string">&#x27;a&#x27;</span>);  <span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#createObjects">ä¸èƒ½åˆ›å»ºç±»å‹å‚æ•°çš„å®ä¾‹</a></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; <span class="function"><span class="keyword">void</span> <span class="title">append</span><span class="params">(List&lt;E&gt; list)</span> </span>&#123;</span><br><span class="line">    E elem = <span class="keyword">new</span> E();  <span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">    list.add(elem);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#createStatic">ä¸èƒ½å£°æ˜ç±»å‹ä¸ºç±»å‹å‚æ•°çš„é™æ€æˆå‘˜</a></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MobileDevice</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> T os; <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#cannotCast">ç±»å‹å‚æ•°ä¸èƒ½ä½¿ç”¨ç±»å‹è½¬æ¢æˆ– <code>instanceof</code></a></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; <span class="function"><span class="keyword">void</span> <span class="title">rtti</span><span class="params">(List&lt;E&gt; list)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (list <span class="keyword">instanceof</span> ArrayList&lt;Integer&gt;) &#123;  <span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">List&lt;Number&gt;  ln = (List&lt;Number&gt;) li;  <span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#createArrays">ä¸èƒ½åˆ›å»ºç±»å‹å‚æ•°çš„æ•°ç»„</a></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt;[] arrayOfLists = <span class="keyword">new</span> List&lt;Integer&gt;[<span class="number">2</span>];  <span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#cannotCatch">ä¸èƒ½åˆ›å»ºã€catch æˆ– throw å‚æ•°åŒ–ç±»å‹å¯¹è±¡</a></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Extends Throwable indirectly</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MathException</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123; <span class="comment">/* ... */</span> &#125;    <span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Extends Throwable directly</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QueueFullException</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">Throwable</span> </span>&#123; <span class="comment">/* ... */</span> <span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T extends Exception, J&gt; <span class="function"><span class="keyword">void</span> <span class="title">execute</span><span class="params">(List&lt;J&gt; jobs)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (J job : jobs)</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (T e) &#123;   <span class="comment">// compile-time error</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#cannotOverload">ä»…ä»…æ˜¯æ³›å‹ç±»ç›¸åŒï¼Œè€Œç±»å‹å‚æ•°ä¸åŒçš„æ–¹æ³•ä¸èƒ½é‡è½½</a></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(Set&lt;String&gt; strSet)</span> </span>&#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(Set&lt;Integer&gt; intSet)</span> </span>&#123; &#125; <span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-æ³›å‹æœ€ä½³å®è·µ"><a href="#9-æ³›å‹æœ€ä½³å®è·µ" class="headerlink" title="9. æ³›å‹æœ€ä½³å®è·µ"></a>9. æ³›å‹æœ€ä½³å®è·µ</h2><h3 id="9-1-æ³›å‹å‘½å"><a href="#9-1-æ³›å‹å‘½å" class="headerlink" title="9.1. æ³›å‹å‘½å"></a>9.1. æ³›å‹å‘½å</h3><p>æ³›å‹ä¸€äº›çº¦å®šä¿—æˆçš„å‘½åï¼š</p>
<ul>
<li>E - Element</li>
<li>K - Key</li>
<li>N - Number</li>
<li>T - Type</li>
<li>V - Value</li>
<li>S,U,V etc. - 2nd, 3rd, 4th types</li>
</ul>
<h3 id="9-2-ä½¿ç”¨æ³›å‹çš„å»ºè®®"><a href="#9-2-ä½¿ç”¨æ³›å‹çš„å»ºè®®" class="headerlink" title="9.2. ä½¿ç”¨æ³›å‹çš„å»ºè®®"></a>9.2. ä½¿ç”¨æ³›å‹çš„å»ºè®®</h3><ul>
<li>æ¶ˆé™¤ç±»å‹æ£€æŸ¥å‘Šè­¦</li>
<li>List ä¼˜å…ˆäºæ•°ç»„</li>
<li>ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨æ³›å‹æ¥æé«˜ä»£ç é€šç”¨æ€§</li>
<li>ä¼˜å…ˆè€ƒè™‘æ³›å‹æ–¹æ³•æ¥é™å®šæ³›å‹çš„èŒƒå›´</li>
<li>åˆ©ç”¨æœ‰é™åˆ¶é€šé…ç¬¦æ¥æå‡ API çš„çµæ´»æ€§</li>
<li>ä¼˜å…ˆè€ƒè™‘ç±»å‹å®‰å…¨çš„å¼‚æ„å®¹å™¨</li>
</ul>
<h2 id="10-å°ç»“"><a href="#10-å°ç»“" class="headerlink" title="10. å°ç»“"></a>10. å°ç»“</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E6%B3%9B%E5%9E%8B.svg" alt="img"></p>
<h2 id="11-å‚è€ƒèµ„æ–™"><a href="#11-å‚è€ƒèµ„æ–™" class="headerlink" title="11. å‚è€ƒèµ„æ–™"></a>11. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
<li><a href="https://book.douban.com/subject/3360807/">Effective java</a></li>
<li><a href="https://docs.oracle.com/javase/tutorial/java/generics/index.html">Oracle æ³›å‹æ–‡æ¡£</a></li>
<li><a href="https://juejin.im/post/584d36f161ff4b006cccdb82">Java æ³›å‹è¯¦è§£</a></li>
</ul>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>èŒƒå‹</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥ç†è§£ Java æ–¹æ³•</title>
    <url>/2021/12/06/java-method/</url>
    <content><![CDATA[<h1 id="æ·±å…¥ç†è§£-Java-æ–¹æ³•"><a href="#æ·±å…¥ç†è§£-Java-æ–¹æ³•" class="headerlink" title="æ·±å…¥ç†è§£ Java æ–¹æ³•"></a>æ·±å…¥ç†è§£ Java æ–¹æ³•</h1><blockquote>
<p><strong>æ–¹æ³•ï¼ˆæœ‰çš„äººå–œæ¬¢å«å‡½æ•°ï¼‰æ˜¯ä¸€æ®µå¯é‡ç”¨çš„ä»£ç æ®µã€‚</strong></p>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8">1. æ–¹æ³•çš„ä½¿ç”¨</a><ul>
<li><a href="#11-%E6%96%B9%E6%B3%95%E5%AE%9A%E4%B9%89">1.1. æ–¹æ³•å®šä¹‰</a></li>
<li><a href="#12-%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8">1.2. æ–¹æ³•çš„è°ƒç”¨</a></li>
</ul>
</li>
<li><a href="#2-%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0">2. æ–¹æ³•å‚æ•°</a></li>
<li><a href="#3-%E6%96%B9%E6%B3%95%E4%BF%AE%E9%A5%B0%E7%AC%A6">3. æ–¹æ³•ä¿®é¥°ç¬¦</a><ul>
<li><a href="#31-%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6">3.1. è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦</a></li>
<li><a href="#32-static">3.2. static</a></li>
<li><a href="#33-final">3.3. final</a></li>
<li><a href="#34-default">3.4. default</a></li>
<li><a href="#35-abstract">3.5. abstract</a></li>
<li><a href="#36-synchronized">3.6. synchronized</a></li>
</ul>
</li>
<li><a href="#4-%E7%89%B9%E6%AE%8A%E6%96%B9%E6%B3%95">4. ç‰¹æ®Šæ–¹æ³•</a><ul>
<li><a href="#41-main-%E6%96%B9%E6%B3%95">4.1. main æ–¹æ³•</a></li>
<li><a href="#42-%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95">4.2. æ„é€ æ–¹æ³•</a></li>
<li><a href="#43-%E5%8F%98%E5%8F%82%E6%96%B9%E6%B3%95">4.3. å˜å‚æ–¹æ³•</a></li>
<li><a href="#44-finalize-%E6%96%B9%E6%B3%95">4.4. finalize() æ–¹æ³•</a></li>
</ul>
</li>
<li><a href="#5-%E8%A6%86%E5%86%99%E5%92%8C%E9%87%8D%E8%BD%BD">5. è¦†å†™å’Œé‡è½½</a></li>
<li><a href="#6-%E5%B0%8F%E7%BB%93">6. å°ç»“</a></li>
<li><a href="#7-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">7. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-æ–¹æ³•çš„ä½¿ç”¨"><a href="#1-æ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="1. æ–¹æ³•çš„ä½¿ç”¨"></a>1. æ–¹æ³•çš„ä½¿ç”¨</h2><h3 id="1-1-æ–¹æ³•å®šä¹‰"><a href="#1-1-æ–¹æ³•å®šä¹‰" class="headerlink" title="1.1. æ–¹æ³•å®šä¹‰"></a>1.1. æ–¹æ³•å®šä¹‰</h3><p>æ–¹æ³•å®šä¹‰è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] è¿”å›å€¼ç±»å‹ æ–¹æ³•å([å‚æ•°ç±»å‹ å‚æ•°å])&#123;</span><br><span class="line">    ...</span><br><span class="line">    æ–¹æ³•ä½“</span><br><span class="line">    ...</span><br><span class="line">    return è¿”å›å€¼;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•åŒ…å«ä¸€ä¸ªæ–¹æ³•å¤´å’Œä¸€ä¸ªæ–¹æ³•ä½“ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ–¹æ³•çš„æ‰€æœ‰éƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>ä¿®é¥°ç¬¦</strong> - ä¿®é¥°ç¬¦æ˜¯å¯é€‰çš„ï¼Œå®ƒå‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•è°ƒç”¨è¯¥æ–¹æ³•ã€‚å®šä¹‰äº†è¯¥æ–¹æ³•çš„è®¿é—®ç±»å‹ã€‚</li>
<li><strong>è¿”å›å€¼ç±»å‹</strong> - è¿”å›å€¼ç±»å‹è¡¨ç¤ºæ–¹æ³•æ‰§è¡Œç»“æŸåï¼Œè¿”å›ç»“æœçš„æ•°æ®ç±»å‹ã€‚å¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œåº”è®¾ä¸º voidã€‚</li>
<li><strong>æ–¹æ³•å</strong> - æ˜¯æ–¹æ³•çš„å®é™…åç§°ã€‚æ–¹æ³•åå’Œå‚æ•°è¡¨å…±åŒæ„æˆæ–¹æ³•ç­¾åã€‚</li>
<li><strong>å‚æ•°ç±»å‹</strong> - å‚æ•°åƒæ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚å½“æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¼ é€’å€¼ç»™å‚æ•°ã€‚å‚æ•°åˆ—è¡¨æ˜¯æŒ‡æ–¹æ³•çš„å‚æ•°ç±»å‹ã€é¡ºåºå’Œå‚æ•°çš„ä¸ªæ•°ã€‚å‚æ•°æ˜¯å¯é€‰çš„ï¼Œæ–¹æ³•å¯ä»¥ä¸åŒ…å«ä»»ä½•å‚æ•°ã€‚</li>
<li><strong>æ–¹æ³•ä½“</strong> - æ–¹æ³•ä½“åŒ…å«å…·ä½“çš„è¯­å¥ï¼Œå®šä¹‰è¯¥æ–¹æ³•çš„åŠŸèƒ½ã€‚</li>
<li><strong>return</strong> - å¿…é¡»è¿”å›å£°æ˜æ–¹æ³•æ—¶è¿”å›å€¼ç±»å‹ç›¸åŒçš„æ•°æ®ç±»å‹ã€‚åœ¨ void æ–¹æ³•ä¸­ï¼Œreturn è¯­å¥å¯æœ‰å¯æ— ï¼Œå¦‚æœè¦å†™ returnï¼Œåˆ™åªèƒ½æ˜¯ <code>return;</code> è¿™ç§å½¢å¼ã€‚</li>
</ul>
<h3 id="1-2-æ–¹æ³•çš„è°ƒç”¨"><a href="#1-2-æ–¹æ³•çš„è°ƒç”¨" class="headerlink" title="1.2. æ–¹æ³•çš„è°ƒç”¨"></a>1.2. æ–¹æ³•çš„è°ƒç”¨</h3><p>å½“ç¨‹åºè°ƒç”¨ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œç¨‹åºçš„æ§åˆ¶æƒäº¤ç»™äº†è¢«è°ƒç”¨çš„æ–¹æ³•ã€‚å½“è¢«è°ƒç”¨æ–¹æ³•çš„è¿”å›è¯­å¥æ‰§è¡Œæˆ–è€…åˆ°è¾¾æ–¹æ³•ä½“é—­æ‹¬å·æ—¶å€™äº¤è¿˜æ§åˆ¶æƒç»™ç¨‹åºã€‚</p>
<p>Java æ”¯æŒä¸¤ç§è°ƒç”¨æ–¹æ³•çš„æ–¹å¼ï¼Œæ ¹æ®æ–¹æ³•æ˜¯å¦æœ‰è¿”å›å€¼æ¥é€‰æ‹©ã€‚</p>
<ul>
<li>æœ‰è¿”å›å€¼æ–¹æ³• - æœ‰è¿”å›å€¼æ–¹æ³•é€šå¸¸è¢«ç”¨æ¥ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼æˆ–ä»£å…¥åˆ°è¿ç®—è¡¨è¾¾å¼ä¸­è¿›è¡Œè®¡ç®—ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int larger = max(30, 40);</span><br></pre></td></tr></table></figure>

<ul>
<li>æ— è¿”å›å€¼æ–¹æ³• - æ— è¿”å›å€¼æ–¹æ³•åªèƒ½æ˜¯ä¸€æ¡è¯­å¥ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">System.out.println(&quot;Hello World&quot;);</span><br></pre></td></tr></table></figure>

<h4 id="é€’å½’è°ƒç”¨"><a href="#é€’å½’è°ƒç”¨" class="headerlink" title="é€’å½’è°ƒç”¨"></a>é€’å½’è°ƒç”¨</h4><p>Java æ”¯æŒæ–¹æ³•çš„é€’å½’è°ƒç”¨ï¼ˆå³æ–¹æ³•è°ƒç”¨è‡ªèº«ï¼‰ã€‚</p>
<blockquote>
<p>ğŸ”” æ³¨æ„ï¼š</p>
<ul>
<li>é€’å½’æ–¹æ³•å¿…é¡»æœ‰æ˜ç¡®çš„ç»“æŸæ¡ä»¶ã€‚</li>
<li>å°½é‡é¿å…ä½¿ç”¨é€’å½’è°ƒç”¨ã€‚å› ä¸ºé€’å½’è°ƒç”¨å¦‚æœå¤„ç†ä¸å½“ï¼Œå¯èƒ½å¯¼è‡´æ ˆæº¢å‡ºã€‚</li>
</ul>
</blockquote>
<p>æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆä¸€ä¸ªå…¸å‹çš„é€’å½’ç®—æ³•ï¼‰ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RecursionMethodDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span> || num == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> fib(num - <span class="number">2</span>) + fib(num - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            System.out.print(fib(i) + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-æ–¹æ³•å‚æ•°"><a href="#2-æ–¹æ³•å‚æ•°" class="headerlink" title="2. æ–¹æ³•å‚æ•°"></a>2. æ–¹æ³•å‚æ•°</h2><p>åœ¨ C/C++ ç­‰ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæ–¹æ³•çš„å‚æ•°ä¼ é€’ä¸€èˆ¬æœ‰ä¸¤ç§å½¢å¼ï¼š</p>
<ul>
<li>å€¼ä¼ é€’ - å€¼ä¼ é€’çš„å‚æ•°è¢«ç§°ä¸ºå½¢å‚ã€‚å€¼ä¼ é€’æ—¶ï¼Œä¼ å…¥çš„å‚æ•°ï¼Œåœ¨æ–¹æ³•ä¸­çš„ä¿®æ”¹ï¼Œä¸ä¼šåœ¨æ–¹æ³•å¤–éƒ¨ç”Ÿæ•ˆã€‚</li>
<li>å¼•ç”¨ä¼ é€’ - å¼•ç”¨ä¼ é€’çš„å‚æ•°è¢«ç§°ä¸ºå®å‚ã€‚å¼•ç”¨ä¼ é€’æ—¶ï¼Œä¼ å…¥çš„å‚æ•°ï¼Œåœ¨æ–¹æ³•ä¸­çš„ä¿®æ”¹ï¼Œä¼šåœ¨æ–¹æ³•å¤–éƒ¨ç”Ÿæ•ˆã€‚</li>
</ul>
<p>é‚£ä¹ˆï¼ŒJava ä¸­æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p>
<p><strong>Java ä¸­åªæœ‰å€¼ä¼ é€’ã€‚</strong></p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodParamDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        value =  value + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        method(num);</span><br><span class="line">        System.out.println(<span class="string">&quot;num = [&quot;</span> + num + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        method(num);</span><br><span class="line">        System.out.println(<span class="string">&quot;num = [&quot;</span> + num + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// num = [0]</span></span><br><span class="line"><span class="comment">// num = [0]</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodParamDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">(StringBuilder sb)</span> </span>&#123;</span><br><span class="line">        sb = <span class="keyword">new</span> StringBuilder(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;sb = [&quot;</span> + sb.toString() + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        method(sb);</span><br><span class="line">        System.out.println(<span class="string">&quot;sb = [&quot;</span> + sb.toString() + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        sb = <span class="keyword">new</span> StringBuilder(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;sb = [&quot;</span> + sb.toString() + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// sb = [A]</span></span><br><span class="line"><span class="comment">// sb = [A]</span></span><br><span class="line"><span class="comment">// sb = [C]</span></span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š</p>
<p>ä»¥ä¸Šä¸¤ä¸ªç¤ºä¾‹ï¼Œæ— è®ºå‘æ–¹æ³•ä¸­ä¼ å…¥çš„æ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼Œè¿˜æ˜¯å¼•ç”¨ç±»å‹ï¼Œåœ¨æ–¹æ³•ä¸­ä¿®æ”¹çš„å€¼ï¼Œåœ¨å¤–éƒ¨éƒ½æœªç”Ÿæ•ˆã€‚</p>
<p>Java å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¼šç›´æ¥æ‹·è´å€¼ä¼ é€’åˆ°æ–¹æ³•ä¸­ï¼›å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œæ‹·è´å½“å‰å¯¹è±¡çš„å¼•ç”¨åœ°å€ï¼Œç„¶åæŠŠè¯¥åœ°å€ä¼ é€’è¿‡å»ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯å€¼ä¼ é€’ã€‚</p>
<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š</p>
<p><a href="https://zhuanlan.zhihu.com/p/24556934?refer=dreawer">å›¾è§£ Java ä¸­çš„å‚æ•°ä¼ é€’</a></p>
</blockquote>
<h2 id="3-æ–¹æ³•ä¿®é¥°ç¬¦"><a href="#3-æ–¹æ³•ä¿®é¥°ç¬¦" class="headerlink" title="3. æ–¹æ³•ä¿®é¥°ç¬¦"></a>3. æ–¹æ³•ä¿®é¥°ç¬¦</h2><p>å‰é¢æåˆ°äº†ï¼ŒJava æ–¹æ³•çš„ä¿®é¥°ç¬¦æ˜¯å¯é€‰çš„ï¼Œå®ƒå‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•è°ƒç”¨è¯¥æ–¹æ³•ã€‚å®šä¹‰äº†è¯¥æ–¹æ³•çš„è®¿é—®ç±»å‹ã€‚</p>
<p>Java æ–¹æ³•æœ‰å¥½å‡ ä¸ªä¿®é¥°ç¬¦ï¼Œè®©æˆ‘ä»¬ä¸€ä¸€æ¥è®¤è¯†ä¸€ä¸‹ï¼š</p>
<h3 id="3-1-è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦"><a href="#3-1-è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦" class="headerlink" title="3.1. è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦"></a>3.1. è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦</h3><p>è®¿é—®æƒé™æ§åˆ¶çš„ç­‰çº§ï¼Œä»æœ€å¤§æƒé™åˆ°æœ€å°æƒé™ä¾æ¬¡ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public &gt; protected &gt; åŒ…è®¿é—®æƒé™ï¼ˆæ²¡æœ‰ä»»ä½•å…³é”®å­—ï¼‰&gt; private</span><br></pre></td></tr></table></figure>

<ul>
<li><code>public</code> - è¡¨ç¤ºä»»ä½•ç±»éƒ½å¯ä»¥è®¿é—®ï¼›</li>
<li><code>åŒ…è®¿é—®æƒé™</code> - åŒ…è®¿é—®æƒé™ï¼Œæ²¡æœ‰ä»»ä½•å…³é”®å­—ã€‚å®ƒè¡¨ç¤ºå½“å‰åŒ…ä¸­çš„æ‰€æœ‰å…¶ä»–ç±»éƒ½å¯ä»¥è®¿é—®ï¼Œä½†æ˜¯å…¶å®ƒåŒ…çš„ç±»æ— æ³•è®¿é—®ã€‚</li>
<li><code>protected</code> - è¡¨ç¤ºå­ç±»å¯ä»¥è®¿é—®ï¼Œæ­¤å¤–ï¼ŒåŒä¸€ä¸ªåŒ…å†…çš„å…¶ä»–ç±»ä¹Ÿå¯ä»¥è®¿é—®ï¼Œå³ä½¿è¿™äº›ç±»ä¸æ˜¯å­ç±»ã€‚</li>
<li><code>private</code> - è¡¨ç¤ºå…¶å®ƒä»»ä½•ç±»éƒ½æ— æ³•è®¿é—®ã€‚</li>
</ul>
<h3 id="3-2-static"><a href="#3-2-static" class="headerlink" title="3.2. static"></a>3.2. static</h3><p><strong>è¢« <code>static</code> ä¿®é¥°çš„æ–¹æ³•è¢«ç§°ä¸ºé™æ€æ–¹æ³•ã€‚</strong></p>
<p>é™æ€æ–¹æ³•ç›¸æ¯”äºæ™®é€šçš„å®ä¾‹æ–¹æ³•ï¼Œä¸»è¦æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š</p>
<ul>
<li>åœ¨å¤–éƒ¨è°ƒç”¨é™æ€æ–¹æ³•æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>ç±»å.æ–¹æ³•å</code> çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>å¯¹è±¡å.æ–¹æ³•å</code> çš„æ–¹å¼ã€‚è€Œå®ä¾‹æ–¹æ³•åªæœ‰åé¢è¿™ç§æ–¹å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>è°ƒç”¨é™æ€æ–¹æ³•å¯ä»¥æ— éœ€åˆ›å»ºå¯¹è±¡</strong>ã€‚</li>
<li><strong>é™æ€æ–¹æ³•åœ¨è®¿é—®æœ¬ç±»çš„æˆå‘˜æ—¶ï¼Œåªå…è®¸è®¿é—®é™æ€æˆå‘˜</strong>ï¼ˆå³é™æ€æˆå‘˜å˜é‡å’Œé™æ€æ–¹æ³•ï¼‰ï¼Œè€Œä¸å…è®¸è®¿é—®å®ä¾‹æˆå‘˜å˜é‡å’Œå®ä¾‹æ–¹æ³•ï¼›å®ä¾‹æ–¹æ³•åˆ™æ— æ­¤é™åˆ¶ã€‚</li>
</ul>
<p>é™æ€æ–¹æ³•å¸¸è¢«ç”¨äºå„ç§å·¥å…·ç±»ã€å·¥å‚æ–¹æ³•ç±»ã€‚</p>
<h3 id="3-3-final"><a href="#3-3-final" class="headerlink" title="3.3. final"></a>3.3. final</h3><p>è¢« <code>final</code> ä¿®é¥°çš„æ–¹æ³•ä¸èƒ½è¢«å­ç±»è¦†å†™ï¼ˆOverrideï¼‰ã€‚</p>
<p>final æ–¹æ³•ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FinalMethodDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;call Father print()&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;call print()&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Father demo = <span class="keyword">new</span> Son();</span><br><span class="line">        demo.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¼–è¯‘æ—¶ä¼šæŠ¥é”™</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼š</p>
<p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œçˆ¶ç±» Father ä¸­å®šä¹‰äº†ä¸€ä¸ª <code>final</code> æ–¹æ³• <code>print()</code>ï¼Œåˆ™å…¶å­ç±»ä¸èƒ½ Override è¿™ä¸ª final æ–¹æ³•ï¼Œå¦åˆ™ä¼šç¼–è¯‘æŠ¥é”™ã€‚</p>
</blockquote>
<h3 id="3-4-default"><a href="#3-4-default" class="headerlink" title="3.4. default"></a>3.4. default</h3><p>JDK8 å¼€å§‹ï¼Œæ”¯æŒåœ¨æ¥å£ <code>Interface</code> ä¸­å®šä¹‰ <code>default</code> æ–¹æ³•ã€‚**<code>default</code> æ–¹æ³•åªèƒ½å‡ºç°åœ¨æ¥å£ <code>Interface</code> ä¸­**ã€‚</p>
<p><strong>æ¥å£ä¸­è¢« <code>default</code> ä¿®é¥°çš„æ–¹æ³•è¢«ç§°ä¸ºé»˜è®¤æ–¹æ³•ï¼Œå®ç°æ­¤æ¥å£çš„ç±»å¦‚æœæ²¡ Override æ­¤æ–¹æ³•ï¼Œåˆ™ç›´æ¥ç»§æ‰¿è¿™ä¸ªæ–¹æ³•ï¼Œä¸å†å¼ºåˆ¶å¿…é¡»å®ç°æ­¤æ–¹æ³•ã€‚</strong></p>
<p>default æ–¹æ³•è¯­æ³•çš„å‡ºç°ï¼Œæ˜¯ä¸ºäº†æ—¢æœ‰çš„æˆåƒä¸Šä¸‡çš„ Java ç±»åº“çš„ç±»å¢åŠ æ–°çš„åŠŸèƒ½ï¼Œ ä¸”ä¸å¿…å¯¹è¿™äº›ç±»é‡æ–°è¿›è¡Œè®¾è®¡ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼ŒJDK8 ä¸­ <code>Collection</code> ç±»ä¸­æœ‰ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„ <code>stream()</code> æ–¹æ³•ï¼Œå°±æ˜¯è¢«ä¿®é¥°ä¸º <code>default</code>ï¼ŒCollection çš„ä¸€å¤§å † Listã€Set å­ç±»å°±ç›´æ¥ç»§æ‰¿äº†è¿™ä¸ªæ–¹æ³• Iï¼Œä¸å¿…å†ä¸ºæ¯ä¸ªå­ç±»éƒ½æ³¨æ„æ·»åŠ è¿™ä¸ªæ–¹æ³•ã€‚</p>
<p><code>default</code> æ–¹æ³•ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DefaultMethodDemo</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">MyInterface</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> <span class="keyword">implements</span> <span class="title">MyInterface</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyInterface obj = <span class="keyword">new</span> MyClass();</span><br><span class="line">        obj.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// Hello World</span></span><br></pre></td></tr></table></figure>

<h3 id="3-5-abstract"><a href="#3-5-abstract" class="headerlink" title="3.5. abstract"></a>3.5. abstract</h3><p><strong>è¢« <code>abstract</code> ä¿®é¥°çš„æ–¹æ³•è¢«ç§°ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œæ–¹æ³•ä¸èƒ½æœ‰å®ä½“ã€‚æŠ½è±¡æ–¹æ³•åªèƒ½å‡ºç°æŠ½è±¡ç±»ä¸­ã€‚</strong></p>
<p>æŠ½è±¡æ–¹æ³•ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractMethodDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractClass</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteClass</span> <span class="keyword">extends</span> <span class="title">AbstractClass</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;call print()&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        AbstractClass demo = <span class="keyword">new</span> ConcreteClass();</span><br><span class="line">        demo.print();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Outpu:</span></span><br><span class="line"><span class="comment">// call print()</span></span><br></pre></td></tr></table></figure>

<h3 id="3-6-synchronized"><a href="#3-6-synchronized" class="headerlink" title="3.6. synchronized"></a>3.6. synchronized</h3><p><code>synchronized</code> ç”¨äºå¹¶å‘ç¼–ç¨‹ã€‚<strong>è¢« <code>synchronized</code> ä¿®é¥°çš„æ–¹æ³•åœ¨ä¸€ä¸ªæ—¶åˆ»ï¼Œåªå…è®¸ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚</strong></p>
<p>åœ¨ Java çš„åŒæ­¥å®¹å™¨ï¼ˆVectorã€Stackã€HashTableï¼‰ä¸­ï¼Œä½ ä¼šè§åˆ°å¤§é‡çš„ synchronized æ–¹æ³•ã€‚ä¸è¿‡ï¼Œè¯·è®°ä½ï¼šåœ¨ Java å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œsynchronized æ–¹æ³•å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©æ›´åŠ è½»é‡çº§çš„é” ã€‚</p>
<h2 id="4-ç‰¹æ®Šæ–¹æ³•"><a href="#4-ç‰¹æ®Šæ–¹æ³•" class="headerlink" title="4. ç‰¹æ®Šæ–¹æ³•"></a>4. ç‰¹æ®Šæ–¹æ³•</h2><p>Java ä¸­ï¼Œæœ‰ä¸€äº›è¾ƒä¸ºç‰¹æ®Šçš„æ–¹æ³•ï¼Œåˆ†åˆ«ä½¿ç”¨äºç‰¹æ®Šçš„åœºæ™¯ã€‚</p>
<h3 id="4-1-main-æ–¹æ³•"><a href="#4-1-main-æ–¹æ³•" class="headerlink" title="4.1. main æ–¹æ³•"></a>4.1. main æ–¹æ³•</h3><p>Java ä¸­çš„ main æ–¹æ³•æ˜¯ä¸€ç§ç‰¹æ®Šçš„é™æ€æ–¹æ³•ï¼Œå› ä¸ºæ‰€æœ‰çš„ Java ç¨‹åºéƒ½æ˜¯ç”± <code>public static void main(String[] args)</code> æ–¹æ³•å¼€å§‹æ‰§è¡Œã€‚</p>
<p>æœ‰å¾ˆå¤šæ–°æ‰‹è™½ç„¶ä¸€ç›´ç”¨ main æ–¹æ³•ï¼Œå´ä¸çŸ¥é“ main æ–¹æ³•ä¸­çš„ args æœ‰ä»€ä¹ˆç”¨ã€‚å®é™…ä¸Šï¼Œè¿™æ˜¯ç”¨æ¥æ¥æ”¶æ¥æ”¶å‘½ä»¤è¡Œè¾“å…¥å‚æ•°çš„ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainMethodDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String arg : args) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;arg = [&quot;</span> + arg + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾æ¬¡æ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">javac MainMethodDemo.java</span><br><span class="line">java MainMethodDemo A B C</span><br></pre></td></tr></table></figure>

<p>æ§åˆ¶å°ä¼šæ‰“å°è¾“å‡ºå‚æ•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">arg = [A]</span><br><span class="line">arg = [B]</span><br><span class="line">arg = [C]</span><br></pre></td></tr></table></figure>

<h3 id="4-2-æ„é€ æ–¹æ³•"><a href="#4-2-æ„é€ æ–¹æ³•" class="headerlink" title="4.2. æ„é€ æ–¹æ³•"></a>4.2. æ„é€ æ–¹æ³•</h3><p>ä»»ä½•ç±»éƒ½æœ‰æ„é€ æ–¹æ³•ï¼Œæ„é€ æ–¹æ³•çš„ä½œç”¨å°±æ˜¯åœ¨åˆå§‹åŒ–ç±»å®ä¾‹æ—¶ï¼Œè®¾ç½®å®ä¾‹çš„çŠ¶æ€ã€‚</p>
<p>æ¯ä¸ªç±»éƒ½æœ‰æ„é€ æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼åœ°ä¸ºç±»å®šä¹‰ä»»ä½•æ„é€ æ–¹æ³•ï¼ŒJava ç¼–è¯‘å™¨å°†ä¼šä¸ºè¯¥ç±»æä¾›ä¸€ä¸ªé»˜è®¤æ„é€ æ–¹æ³•ã€‚</p>
<p>åœ¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œè‡³å°‘è¦è°ƒç”¨ä¸€ä¸ªæ„é€ æ–¹æ³•ã€‚æ„é€ æ–¹æ³•çš„åç§°å¿…é¡»ä¸ç±»åŒåï¼Œä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªæ„é€ æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConstructorMethodDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">new</span> Person(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;person name is &quot;</span> + person.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œæ„é€ æ–¹æ³•é™¤äº†ä½¿ç”¨ publicï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ private ä¿®é¥°ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œç±»æ— æ³•è°ƒç”¨æ­¤æ„é€ æ–¹æ³•å»å®ä¾‹åŒ–å¯¹è±¡ï¼Œè¿™å¸¸å¸¸ç”¨äºè®¾è®¡æ¨¡å¼ä¸­çš„å•ä¾‹æ¨¡å¼ã€‚</p>
<h3 id="4-3-å˜å‚æ–¹æ³•"><a href="#4-3-å˜å‚æ–¹æ³•" class="headerlink" title="4.3. å˜å‚æ–¹æ³•"></a>4.3. å˜å‚æ–¹æ³•</h3><p>JDK5 å¼€å§‹ï¼ŒJava æ”¯æŒä¼ é€’åŒç±»å‹çš„å¯å˜å‚æ•°ç»™ä¸€ä¸ªæ–¹æ³•ã€‚åœ¨æ–¹æ³•å£°æ˜ä¸­ï¼Œåœ¨æŒ‡å®šå‚æ•°ç±»å‹ååŠ ä¸€ä¸ªçœç•¥å· <code>...</code>ã€‚ä¸€ä¸ªæ–¹æ³•ä¸­åªèƒ½æŒ‡å®šä¸€ä¸ªå¯å˜å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯æ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚ä»»ä½•æ™®é€šçš„å‚æ•°å¿…é¡»åœ¨å®ƒä¹‹å‰å£°æ˜ã€‚</p>
<p>å˜å‚æ–¹æ³•ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class VarargsDemo &#123;</span><br><span class="line">    public static void method(String... params) &#123;</span><br><span class="line">        System.out.println(&quot;params.length = &quot; + params.length);</span><br><span class="line">        for (String param : params) &#123;</span><br><span class="line">            System.out.println(&quot;params = [&quot; + param + &quot;]&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        method(&quot;red&quot;);</span><br><span class="line">        method(&quot;red&quot;, &quot;yellow&quot;);</span><br><span class="line">        method(&quot;red&quot;, &quot;yellow&quot;, &quot;blue&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// Output:</span><br><span class="line">// params.length = 1</span><br><span class="line">// params = [red]</span><br><span class="line">// params.length = 2</span><br><span class="line">// params = [red]</span><br><span class="line">// params = [yellow]</span><br><span class="line">// params.length = 3</span><br><span class="line">// params = [red]</span><br><span class="line">// params = [yellow]</span><br><span class="line">// params = [blue]</span><br></pre></td></tr></table></figure>

<h3 id="4-4-finalize-æ–¹æ³•"><a href="#4-4-finalize-æ–¹æ³•" class="headerlink" title="4.4. finalize() æ–¹æ³•"></a>4.4. finalize() æ–¹æ³•</h3><p><code>finalize</code> åœ¨å¯¹è±¡è¢«åƒåœ¾æ”¶é›†å™¨ææ„(å›æ”¶)ä¹‹å‰è°ƒç”¨ï¼Œç”¨æ¥æ¸…é™¤å›æ”¶å¯¹è±¡ã€‚</p>
<p><code>finalize</code> æ˜¯åœ¨ <code>java.lang.Object</code> é‡Œå®šä¹‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰è¿™ä¹ˆä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•åœ¨ GC å¯åŠ¨ï¼Œè¯¥å¯¹è±¡è¢«å›æ”¶çš„æ—¶å€™è¢«è°ƒç”¨ã€‚</p>
<p>finalizer() é€šå¸¸æ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œä¹Ÿæ˜¯å¾ˆå±é™©çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸å¿…è¦çš„ã€‚ä½¿ç”¨ç»ˆç»“æ–¹æ³•ä¼šå¯¼è‡´è¡Œä¸ºä¸ç¨³å®šã€é™ä½æ€§èƒ½ï¼Œä»¥åŠå¯ç§»æ¤æ€§é—®é¢˜ã€‚</p>
<p><strong>è¯·è®°ä½ï¼šåº”è¯¥å°½é‡é¿å…ä½¿ç”¨ <code>finalizer()</code><strong>ã€‚åƒä¸‡ä¸è¦æŠŠå®ƒå½“æˆæ˜¯ C/C++ ä¸­çš„ææ„å‡½æ•°æ¥ç”¨ã€‚åŸå› æ˜¯ï¼š</strong>Finalizer çº¿ç¨‹ä¼šå’Œæˆ‘ä»¬çš„ä¸»çº¿ç¨‹è¿›è¡Œç«äº‰ï¼Œä¸è¿‡ç”±äºå®ƒçš„ä¼˜å…ˆçº§è¾ƒä½ï¼Œè·å–åˆ°çš„ CPU æ—¶é—´è¾ƒå°‘ï¼Œå› æ­¤å®ƒæ°¸è¿œä¹Ÿèµ¶ä¸ä¸Šä¸»çº¿ç¨‹çš„æ­¥ä¼ã€‚æ‰€ä»¥æœ€åå¯èƒ½ä¼šå‘ç”Ÿ OutOfMemoryError å¼‚å¸¸ã€‚</strong></p>
<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š</p>
<p>ä¸‹é¢ä¸¤ç¯‡æ–‡ç« æ¯”è¾ƒè¯¦ç»†çš„è®²è¿°äº† finalizer() å¯èƒ½ä¼šé€ æˆçš„é—®é¢˜åŠåŸå› ã€‚</p>
<ul>
<li><a href="http://www.cnblogs.com/benwu/articles/5812903.html">Java çš„ Finalizer å¼•å‘çš„å†…å­˜æº¢å‡º</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27850176">é‡è½½ Finalize å¼•å‘çš„å†…å­˜æ³„éœ²</a></li>
</ul>
</blockquote>
<h2 id="5-è¦†å†™å’Œé‡è½½"><a href="#5-è¦†å†™å’Œé‡è½½" class="headerlink" title="5. è¦†å†™å’Œé‡è½½"></a>5. è¦†å†™å’Œé‡è½½</h2><p><strong>è¦†å†™ï¼ˆOverrideï¼‰æ˜¯æŒ‡å­ç±»å®šä¹‰äº†ä¸çˆ¶ç±»ä¸­åŒåçš„æ–¹æ³•ï¼Œä½†æ˜¯åœ¨æ–¹æ³•è¦†å†™æ—¶å¿…é¡»è€ƒè™‘åˆ°è®¿é—®æƒé™ï¼Œå­ç±»è¦†å†™çš„æ–¹æ³•ä¸èƒ½æ‹¥æœ‰æ¯”çˆ¶ç±»æ›´åŠ ä¸¥æ ¼çš„è®¿é—®æƒé™ã€‚</strong></p>
<p>å­ç±»è¦è¦†å†™çš„æ–¹æ³•å¦‚æœè¦è®¿é—®çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ <code>super</code> å…³é”®å­—ã€‚</p>
<p>è¦†å†™ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodOverrideDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¼šåŠ¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>.move();</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¼šè·‘&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Animal dog = <span class="keyword">new</span> Dog();</span><br><span class="line">        dog.move();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// ä¼šåŠ¨</span></span><br><span class="line"><span class="comment">// ä¼šè·‘</span></span><br></pre></td></tr></table></figure>

<p><strong>æ–¹æ³•çš„é‡è½½ï¼ˆOverloadï¼‰æ˜¯æŒ‡æ–¹æ³•åç§°ç›¸åŒï¼Œä½†å‚æ•°çš„ç±»å‹æˆ–å‚æ•°çš„ä¸ªæ•°ä¸åŒã€‚é€šè¿‡ä¼ é€’å‚æ•°çš„ä¸ªæ•°åŠç±»å‹çš„ä¸åŒå¯ä»¥å®Œæˆä¸åŒåŠŸèƒ½çš„æ–¹æ³•è°ƒç”¨ã€‚</strong></p>
<blockquote>
<p>ğŸ”” æ³¨æ„ï¼š</p>
<p>é‡è½½ä¸€å®šæ˜¯æ–¹æ³•çš„å‚æ•°ä¸å®Œå…¨ç›¸åŒã€‚å¦‚æœæ–¹æ³•çš„å‚æ•°å®Œå…¨ç›¸åŒï¼Œä»…ä»…æ˜¯è¿”å›å€¼ä¸åŒï¼ŒJava æ˜¯æ— æ³•ç¼–è¯‘é€šè¿‡çš„ã€‚</p>
</blockquote>
<p>é‡è½½ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodOverloadDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;x + y = &quot;</span> + (x + y));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;x + y = &quot;</span> + (x + y));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        add(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">        add(<span class="number">1.0</span>, <span class="number">2.0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// x + y = 30</span></span><br><span class="line"><span class="comment">// x + y = 3.0</span></span><br></pre></td></tr></table></figure>

<h2 id="6-å°ç»“"><a href="#6-å°ç»“" class="headerlink" title="6. å°ç»“"></a>6. å°ç»“</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1553767582595.png" alt="img"></p>
<h2 id="7-å‚è€ƒèµ„æ–™"><a href="#7-å‚è€ƒèµ„æ–™" class="headerlink" title="7. å‚è€ƒèµ„æ–™"></a>7. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
<li><a href="https://book.douban.com/subject/4496038/">Head First Java</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/24556934?refer=dreawer">å›¾è§£ Java ä¸­çš„å‚æ•°ä¼ é€’</a></li>
<li><a href="http://www.cnblogs.com/benwu/articles/5812903.html">Java çš„ Finalizer å¼•å‘çš„å†…å­˜æº¢å‡º</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27850176">é‡è½½ Finalize å¼•å‘çš„å†…å­˜æ³„éœ²</a></li>
</ul>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥ç†è§£ Java æšä¸¾</title>
    <url>/2021/12/06/java-enum/</url>
    <content><![CDATA[<h1 id="æ·±å…¥ç†è§£-Java-æšä¸¾"><a href="#æ·±å…¥ç†è§£-Java-æšä¸¾" class="headerlink" title="æ·±å…¥ç†è§£ Java æšä¸¾"></a>æ·±å…¥ç†è§£ Java æšä¸¾</h1><blockquote>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E7%AE%80%E4%BB%8B">1. ç®€ä»‹</a></li>
<li><a href="#2-%E6%9E%9A%E4%B8%BE%E7%9A%84%E6%9C%AC%E8%B4%A8">2. æšä¸¾çš„æœ¬è´¨</a></li>
<li><a href="#3-%E6%9E%9A%E4%B8%BE%E7%9A%84%E6%96%B9%E6%B3%95">3. æšä¸¾çš„æ–¹æ³•</a></li>
<li><a href="#4-%E6%9E%9A%E4%B8%BE%E7%9A%84%E7%89%B9%E6%80%A7">4. æšä¸¾çš„ç‰¹æ€§</a><ul>
<li><a href="#41-%E5%9F%BA%E6%9C%AC%E7%89%B9%E6%80%A7">4.1. åŸºæœ¬ç‰¹æ€§</a></li>
<li><a href="#42-%E6%9E%9A%E4%B8%BE%E5%8F%AF%E4%BB%A5%E6%B7%BB%E5%8A%A0%E6%96%B9%E6%B3%95">4.2. æšä¸¾å¯ä»¥æ·»åŠ æ–¹æ³•</a></li>
<li><a href="#43-%E6%9E%9A%E4%B8%BE%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3">4.3. æšä¸¾å¯ä»¥å®ç°æ¥å£</a></li>
<li><a href="#44-%E6%9E%9A%E4%B8%BE%E4%B8%8D%E5%8F%AF%E4%BB%A5%E7%BB%A7%E6%89%BF">4.4. æšä¸¾ä¸å¯ä»¥ç»§æ‰¿</a></li>
</ul>
</li>
<li><a href="#5-%E6%9E%9A%E4%B8%BE%E7%9A%84%E5%BA%94%E7%94%A8">5. æšä¸¾çš„åº”ç”¨</a><ul>
<li><a href="#51-%E7%BB%84%E7%BB%87%E5%B8%B8%E9%87%8F">5.1. ç»„ç»‡å¸¸é‡</a></li>
<li><a href="#52-switch-%E7%8A%B6%E6%80%81%E6%9C%BA">5.2. switch çŠ¶æ€æœº</a></li>
<li><a href="#53-%E9%94%99%E8%AF%AF%E7%A0%81">5.3. é”™è¯¯ç </a></li>
<li><a href="#54-%E7%BB%84%E7%BB%87%E6%9E%9A%E4%B8%BE">5.4. ç»„ç»‡æšä¸¾</a></li>
<li><a href="#55-%E7%AD%96%E7%95%A5%E6%9E%9A%E4%B8%BE">5.5. ç­–ç•¥æšä¸¾</a></li>
<li><a href="#56-%E6%9E%9A%E4%B8%BE%E5%AE%9E%E7%8E%B0%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F">5.6. æšä¸¾å®ç°å•ä¾‹æ¨¡å¼</a></li>
</ul>
</li>
<li><a href="#6-%E6%9E%9A%E4%B8%BE%E5%B7%A5%E5%85%B7%E7%B1%BB">6. æšä¸¾å·¥å…·ç±»</a><ul>
<li><a href="#61-enumset">6.1. EnumSet</a></li>
<li><a href="#62-enummap">6.2. EnumMap</a></li>
</ul>
</li>
<li><a href="#7-%E5%B0%8F%E7%BB%93">7. å°ç»“</a></li>
<li><a href="#8-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">8. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h2><p><code>enum</code> çš„å…¨ç§°ä¸º enumerationï¼Œ æ˜¯ JDK5 ä¸­å¼•å…¥çš„ç‰¹æ€§ã€‚</p>
<p>åœ¨ Java ä¸­ï¼Œè¢« <code>enum</code> å…³é”®å­—ä¿®é¥°çš„ç±»å‹å°±æ˜¯æšä¸¾ç±»å‹ã€‚å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ColorEn</span> </span>&#123; RED, GREEN, BLUE &#125;</span><br></pre></td></tr></table></figure>

<p><strong>æšä¸¾çš„å¥½å¤„</strong>ï¼šå¯ä»¥å°†å¸¸é‡ç»„ç»‡èµ·æ¥ï¼Œç»Ÿä¸€è¿›è¡Œç®¡ç†ã€‚</p>
<p><strong>æšä¸¾çš„å…¸å‹åº”ç”¨åœºæ™¯</strong>ï¼šé”™è¯¯ç ã€çŠ¶æ€æœºç­‰ã€‚</p>
<h2 id="2-æšä¸¾çš„æœ¬è´¨"><a href="#2-æšä¸¾çš„æœ¬è´¨" class="headerlink" title="2. æšä¸¾çš„æœ¬è´¨"></a>2. æšä¸¾çš„æœ¬è´¨</h2><p><code>java.lang.Enum</code>ç±»å£°æ˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Enum</span>&lt;<span class="title">E</span> <span class="keyword">extends</span> <span class="title">Enum</span>&lt;<span class="title">E</span>&gt;&gt;</span></span><br><span class="line"><span class="class">        <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">E</span>&gt;, <span class="title">Serializable</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>æ–°å»ºä¸€ä¸ª ColorEn.java æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.dunwu.javacore.enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">ColorEn</span> </span>&#123;</span><br><span class="line">    RED,YELLOW,BLUE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ <code>javac ColorEn.java</code> å‘½ä»¤ï¼Œç”Ÿæˆ ColorEn.class æ–‡ä»¶ã€‚</p>
<p>ç„¶åæ‰§è¡Œ <code>javap ColorEn.class</code> å‘½ä»¤ï¼Œè¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Compiled from <span class="string">&quot;ColorEn.java&quot;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">io</span>.<span class="title">github</span>.<span class="title">dunwu</span>.<span class="title">javacore</span>.<span class="title">enumeration</span>.<span class="title">ColorEn</span> <span class="keyword">extends</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">Enum</span>&lt;<span class="title">io</span>.<span class="title">github</span>.<span class="title">dunwu</span>.<span class="title">javacore</span>.<span class="title">enumeration</span>.<span class="title">ColorEn</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> io.github.dunwu.javacore.enumeration.ColorEn RED;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> io.github.dunwu.javacore.enumeration.ColorEn YELLOW;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> io.github.dunwu.javacore.enumeration.ColorEn BLUE;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> io.github.dunwu.javacore.enumeration.ColorEn[] values();</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> io.github.dunwu.javacore.enumeration.<span class="function">ColorEn <span class="title">valueOf</span><span class="params">(java.lang.String)</span></span>;</span><br><span class="line">  <span class="keyword">static</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ’¡ è¯´æ˜ï¼š</p>
<p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼š</p>
<p><strong>æšä¸¾çš„æœ¬è´¨æ˜¯ <code>java.lang.Enum</code> çš„å­ç±»ã€‚</strong></p>
<p>å°½ç®¡ <code>enum</code> çœ‹èµ·æ¥åƒæ˜¯ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ï¼Œäº‹å®ä¸Šï¼Œ<strong>enum æ˜¯ä¸€ç§å—é™åˆ¶çš„ç±»ï¼Œå¹¶ä¸”å…·æœ‰è‡ªå·±çš„æ–¹æ³•</strong>ã€‚æšä¸¾è¿™ç§ç‰¹æ®Šçš„ç±»å› ä¸ºè¢«ä¿®é¥°ä¸º <code>final</code>ï¼Œæ‰€ä»¥ä¸èƒ½ç»§æ‰¿å…¶ä»–ç±»ã€‚</p>
<p>å®šä¹‰çš„æšä¸¾å€¼ï¼Œä¼šè¢«é»˜è®¤ä¿®é¥°ä¸º <code>public static final</code> ï¼Œä»ä¿®é¥°å…³é”®å­—ï¼Œå³å¯çœ‹å‡ºæšä¸¾å€¼æœ¬è´¨ä¸Šæ˜¯é™æ€å¸¸é‡ã€‚</p>
</blockquote>
<h2 id="3-æšä¸¾çš„æ–¹æ³•"><a href="#3-æšä¸¾çš„æ–¹æ³•" class="headerlink" title="3. æšä¸¾çš„æ–¹æ³•"></a>3. æšä¸¾çš„æ–¹æ³•</h2><p>åœ¨ enum ä¸­ï¼Œæä¾›äº†ä¸€äº›åŸºæœ¬æ–¹æ³•ï¼š</p>
<ul>
<li><code>values()</code>ï¼šè¿”å› enum å®ä¾‹çš„æ•°ç»„ï¼Œè€Œä¸”è¯¥æ•°ç»„ä¸­çš„å…ƒç´ ä¸¥æ ¼ä¿æŒåœ¨ enum ä¸­å£°æ˜æ—¶çš„é¡ºåºã€‚</li>
<li><code>name()</code>ï¼šè¿”å›å®ä¾‹åã€‚</li>
<li><code>ordinal()</code>ï¼šè¿”å›å®ä¾‹å£°æ˜æ—¶çš„æ¬¡åºï¼Œä» 0 å¼€å§‹ã€‚</li>
<li><code>getDeclaringClass()</code>ï¼šè¿”å›å®ä¾‹æ‰€å±çš„ enum ç±»å‹ã€‚</li>
<li><code>equals()</code> ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚</li>
</ul>
<p>å¯ä»¥ä½¿ç”¨ <code>==</code> æ¥æ¯”è¾ƒ <code>enum</code>å®ä¾‹ã€‚</p>
<p>æ­¤å¤–ï¼Œ<code>java.lang.Enum</code>å®ç°äº† <code>Comparable</code>å’Œ <code>Serializable</code> æ¥å£ï¼Œæ‰€ä»¥ä¹Ÿæä¾› <code>compareTo()</code> æ–¹æ³•ã€‚</p>
<p><strong>ä¾‹ï¼šå±•ç¤º enum çš„åŸºæœ¬æ–¹æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnumMethodDemo</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Color</span> </span>&#123;RED, GREEN, BLUE;&#125;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Size</span> </span>&#123;BIG, MIDDLE, SMALL;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=========== Print all Color ===========&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Color c : Color.values()) &#123;</span><br><span class="line">            System.out.println(c + <span class="string">&quot; ordinal: &quot;</span> + c.ordinal());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;=========== Print all Size ===========&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Size s : Size.values()) &#123;</span><br><span class="line">            System.out.println(s + <span class="string">&quot; ordinal: &quot;</span> + s.ordinal());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Color green = Color.GREEN;</span><br><span class="line">        System.out.println(<span class="string">&quot;green name(): &quot;</span> + green.name());</span><br><span class="line">        System.out.println(<span class="string">&quot;green getDeclaringClass(): &quot;</span> + green.getDeclaringClass());</span><br><span class="line">        System.out.println(<span class="string">&quot;green hashCode(): &quot;</span> + green.hashCode());</span><br><span class="line">        System.out.println(<span class="string">&quot;green compareTo Color.GREEN: &quot;</span> + green.compareTo(Color.GREEN));</span><br><span class="line">        System.out.println(<span class="string">&quot;green equals Color.GREEN: &quot;</span> + green.equals(Color.GREEN));</span><br><span class="line">        System.out.println(<span class="string">&quot;green equals Size.MIDDLE: &quot;</span> + green.equals(Size.MIDDLE));</span><br><span class="line">        System.out.println(<span class="string">&quot;green equals 1: &quot;</span> + green.equals(<span class="number">1</span>));</span><br><span class="line">        System.out.format(<span class="string">&quot;green == Color.BLUE: %b\n&quot;</span>, green == Color.BLUE);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¾“å‡º</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">=========== Print all Color ===========</span><br><span class="line">RED ordinal: 0</span><br><span class="line">GREEN ordinal: 1</span><br><span class="line">BLUE ordinal: 2</span><br><span class="line">=========== Print all Size ===========</span><br><span class="line">BIG ordinal: 0</span><br><span class="line">MIDDLE ordinal: 1</span><br><span class="line">SMALL ordinal: 2</span><br><span class="line">green name(): GREEN</span><br><span class="line">green getDeclaringClass(): class org.zp.javase.enumeration.EnumDemo$Color</span><br><span class="line">green hashCode(): 460141958</span><br><span class="line">green compareTo Color.GREEN: 0</span><br><span class="line">green equals Color.GREEN: true</span><br><span class="line">green equals Size.MIDDLE: false</span><br><span class="line">green equals 1: false</span><br><span class="line">green == Color.BLUE: false</span><br></pre></td></tr></table></figure>

<h2 id="4-æšä¸¾çš„ç‰¹æ€§"><a href="#4-æšä¸¾çš„ç‰¹æ€§" class="headerlink" title="4. æšä¸¾çš„ç‰¹æ€§"></a>4. æšä¸¾çš„ç‰¹æ€§</h2><p>æšä¸¾çš„ç‰¹æ€§ï¼Œå½’ç»“èµ·æ¥å°±æ˜¯ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>é™¤äº†ä¸èƒ½ç»§æ‰¿ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥å°† <code>enum</code> çœ‹åšä¸€ä¸ªå¸¸è§„çš„ç±»</strong>ã€‚</p>
</blockquote>
<p>ä½†æ˜¯è¿™å¥è¯éœ€è¦æ‹†åˆ†å»ç†è§£ï¼Œè®©æˆ‘ä»¬ç»†ç»†é“æ¥ã€‚</p>
<h3 id="4-1-åŸºæœ¬ç‰¹æ€§"><a href="#4-1-åŸºæœ¬ç‰¹æ€§" class="headerlink" title="4.1. åŸºæœ¬ç‰¹æ€§"></a>4.1. åŸºæœ¬ç‰¹æ€§</h3><p><strong>å¦‚æœæšä¸¾ä¸­æ²¡æœ‰å®šä¹‰æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åœ¨æœ€åä¸€ä¸ªå®ä¾‹åé¢åŠ é€—å·ã€åˆ†å·æˆ–ä»€ä¹ˆéƒ½ä¸åŠ ã€‚</strong></p>
<p>å¦‚æœæšä¸¾ä¸­æ²¡æœ‰å®šä¹‰æ–¹æ³•ï¼Œ<strong>æšä¸¾å€¼é»˜è®¤ä¸ºä» 0 å¼€å§‹çš„æœ‰åºæ•°å€¼</strong>ã€‚ä»¥ Color æšä¸¾ç±»å‹ä¸¾ä¾‹ï¼Œå®ƒçš„æšä¸¾å¸¸é‡ä¾æ¬¡ä¸º <code>REDï¼š0ï¼ŒGREENï¼š1ï¼ŒBLUEï¼š2</code>ã€‚</p>
<h3 id="4-2-æšä¸¾å¯ä»¥æ·»åŠ æ–¹æ³•"><a href="#4-2-æšä¸¾å¯ä»¥æ·»åŠ æ–¹æ³•" class="headerlink" title="4.2. æšä¸¾å¯ä»¥æ·»åŠ æ–¹æ³•"></a>4.2. æšä¸¾å¯ä»¥æ·»åŠ æ–¹æ³•</h3><p>åœ¨æ¦‚å¿µç« èŠ‚æåˆ°äº†ï¼Œ<strong>æšä¸¾å€¼é»˜è®¤ä¸ºä» 0 å¼€å§‹çš„æœ‰åºæ•°å€¼</strong> ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šå¦‚ä½•ä¸ºæšä¸¾æ˜¾å¼çš„èµ‹å€¼ã€‚</p>
<p>ï¼ˆ1ï¼‰<strong>Java ä¸å…è®¸ä½¿ç”¨ <code>=</code> ä¸ºæšä¸¾å¸¸é‡èµ‹å€¼</strong></p>
<p>å¦‚æœä½ æ¥è§¦è¿‡ C/C++ï¼Œä½ è‚¯å®šä¼šå¾ˆè‡ªç„¶çš„æƒ³åˆ°èµ‹å€¼ç¬¦å· <code>=</code> ã€‚åœ¨ C/C++è¯­è¨€ä¸­çš„ enumï¼Œå¯ä»¥ç”¨èµ‹å€¼ç¬¦å· <code>=</code>æ˜¾å¼çš„ä¸ºæšä¸¾å¸¸é‡èµ‹å€¼ï¼›ä½†æ˜¯ ï¼Œå¾ˆé—æ†¾ï¼Œ<strong>Java è¯­æ³•ä¸­å´ä¸å…è®¸ä½¿ç”¨èµ‹å€¼ç¬¦å· <code>=</code> ä¸ºæšä¸¾å¸¸é‡èµ‹å€¼</strong>ã€‚</p>
<p><strong>ä¾‹ï¼šC/C++ è¯­è¨€ä¸­çš„æšä¸¾å£°æ˜</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">    ONE = <span class="number">1</span>,</span><br><span class="line">    TWO,</span><br><span class="line">    THREE = <span class="number">3</span>,</span><br><span class="line">    TEN = <span class="number">10</span></span><br><span class="line">&#125; Number;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰<strong>æšä¸¾å¯ä»¥æ·»åŠ æ™®é€šæ–¹æ³•ã€é™æ€æ–¹æ³•ã€æŠ½è±¡æ–¹æ³•ã€æ„é€ æ–¹æ³•</strong></p>
<p>Java è™½ç„¶ä¸èƒ½ç›´æ¥ä¸ºå®ä¾‹èµ‹å€¼ï¼Œä½†æ˜¯å®ƒæœ‰æ›´ä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆï¼š<strong>ä¸º enum æ·»åŠ æ–¹æ³•æ¥é—´æ¥å®ç°æ˜¾å¼èµ‹å€¼</strong>ã€‚</p>
<p>åˆ›å»º <code>enum</code> æ—¶ï¼Œå¯ä»¥ä¸ºå…¶æ·»åŠ å¤šç§æ–¹æ³•ï¼Œç”šè‡³å¯ä»¥ä¸ºå…¶æ·»åŠ æ„é€ æ–¹æ³•ã€‚</p>
<p><strong>æ³¨æ„ä¸€ä¸ªç»†èŠ‚ï¼šå¦‚æœè¦ä¸º enum å®šä¹‰æ–¹æ³•ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨ enum çš„æœ€åä¸€ä¸ªå®ä¾‹å°¾éƒ¨æ·»åŠ ä¸€ä¸ªåˆ†å·ã€‚æ­¤å¤–ï¼Œåœ¨ enum ä¸­ï¼Œå¿…é¡»å…ˆå®šä¹‰å®ä¾‹ï¼Œä¸èƒ½å°†å­—æ®µæˆ–æ–¹æ³•å®šä¹‰åœ¨å®ä¾‹å‰é¢ã€‚å¦åˆ™ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</strong></p>
<p><strong>ä¾‹ï¼šå…¨é¢å±•ç¤ºå¦‚ä½•åœ¨æšä¸¾ä¸­å®šä¹‰æ™®é€šæ–¹æ³•ã€é™æ€æ–¹æ³•ã€æŠ½è±¡æ–¹æ³•ã€æ„é€ æ–¹æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">ErrorCodeEn</span> </span>&#123;</span><br><span class="line">    OK(<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;æˆåŠŸ&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ERROR_A(<span class="number">100</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;é”™è¯¯A&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ERROR_B(<span class="number">200</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;é”™è¯¯B&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ æ–¹æ³•ï¼šenumçš„æ„é€ æ–¹æ³•åªèƒ½è¢«å£°æ˜ä¸ºprivateæƒé™æˆ–ä¸å£°æ˜æƒé™</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ErrorCodeEn</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123; <span class="comment">// æ„é€ æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">this</span>.code = number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span> </span>&#123; <span class="comment">// æ™®é€šæ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125; <span class="comment">// æ™®é€šæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">getDescription</span><span class="params">()</span></span>; <span class="comment">// æŠ½è±¡æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123; <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">for</span> (ErrorCodeEn s : ErrorCodeEn.values()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;code: &quot;</span> + s.getCode() + <span class="string">&quot;, description: &quot;</span> + s.getDescription());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// code: 0, description: æˆåŠŸ</span></span><br><span class="line"><span class="comment">// code: 100, description: é”™è¯¯A</span></span><br><span class="line"><span class="comment">// code: 200, description: é”™è¯¯B</span></span><br></pre></td></tr></table></figure>

<p>æ³¨ï¼šä¸Šé¢çš„ä¾‹å­å¹¶ä¸å¯å–ï¼Œä»…ä»…æ˜¯ä¸ºäº†å±•ç¤ºæšä¸¾æ”¯æŒå®šä¹‰å„ç§æ–¹æ³•ã€‚æ­£ç¡®çš„ä¾‹å­æƒ…å†µ<a href="#%E9%94%99%E8%AF%AF%E7%A0%81">é”™è¯¯ç ç¤ºä¾‹</a></p>
<h3 id="4-3-æšä¸¾å¯ä»¥å®ç°æ¥å£"><a href="#4-3-æšä¸¾å¯ä»¥å®ç°æ¥å£" class="headerlink" title="4.3. æšä¸¾å¯ä»¥å®ç°æ¥å£"></a>4.3. æšä¸¾å¯ä»¥å®ç°æ¥å£</h3><p><strong><code>enum</code> å¯ä»¥åƒä¸€èˆ¬ç±»ä¸€æ ·å®ç°æ¥å£ã€‚</strong></p>
<p>åŒæ ·æ˜¯å®ç°ä¸Šä¸€èŠ‚ä¸­çš„é”™è¯¯ç æšä¸¾ç±»ï¼Œé€šè¿‡å®ç°æ¥å£ï¼Œå¯ä»¥çº¦æŸå®ƒçš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">INumberEnum</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">String <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">ErrorCodeEn2</span> <span class="keyword">implements</span> <span class="title">INumberEnum</span> </span>&#123;</span><br><span class="line">    OK(<span class="number">0</span>, <span class="string">&quot;æˆåŠŸ&quot;</span>),</span><br><span class="line">    ERROR_A(<span class="number">100</span>, <span class="string">&quot;é”™è¯¯A&quot;</span>),</span><br><span class="line">    ERROR_B(<span class="number">200</span>, <span class="string">&quot;é”™è¯¯B&quot;</span>);</span><br><span class="line"></span><br><span class="line">    ErrorCodeEn2(<span class="keyword">int</span> number, String description) &#123;</span><br><span class="line">        <span class="keyword">this</span>.code = number;</span><br><span class="line">        <span class="keyword">this</span>.description = description;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> description;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-4-æšä¸¾ä¸å¯ä»¥ç»§æ‰¿"><a href="#4-4-æšä¸¾ä¸å¯ä»¥ç»§æ‰¿" class="headerlink" title="4.4. æšä¸¾ä¸å¯ä»¥ç»§æ‰¿"></a>4.4. æšä¸¾ä¸å¯ä»¥ç»§æ‰¿</h3><p><strong>enum ä¸å¯ä»¥ç»§æ‰¿å¦å¤–ä¸€ä¸ªç±»ï¼Œå½“ç„¶ï¼Œä¹Ÿä¸èƒ½ç»§æ‰¿å¦ä¸€ä¸ª enum ã€‚</strong></p>
<p>å› ä¸º <code>enum</code> å®é™…ä¸Šéƒ½ç»§æ‰¿è‡ª <code>java.lang.Enum</code> ç±»ï¼Œè€Œ Java ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œæ‰€ä»¥ <code>enum</code> ä¸èƒ½å†ç»§æ‰¿å…¶ä»–ç±»ï¼Œå½“ç„¶ä¹Ÿä¸èƒ½ç»§æ‰¿å¦ä¸€ä¸ª <code>enum</code>ã€‚</p>
<h2 id="5-æšä¸¾çš„åº”ç”¨"><a href="#5-æšä¸¾çš„åº”ç”¨" class="headerlink" title="5. æšä¸¾çš„åº”ç”¨"></a>5. æšä¸¾çš„åº”ç”¨</h2><h3 id="5-1-ç»„ç»‡å¸¸é‡"><a href="#5-1-ç»„ç»‡å¸¸é‡" class="headerlink" title="5.1. ç»„ç»‡å¸¸é‡"></a>5.1. ç»„ç»‡å¸¸é‡</h3><p>åœ¨ JDK5 ä¹‹å‰ï¼Œåœ¨ Java ä¸­å®šä¹‰å¸¸é‡éƒ½æ˜¯ <code>public static final TYPE a;</code> è¿™æ ·çš„å½¢å¼ã€‚æœ‰äº†æšä¸¾ï¼Œä½ å¯ä»¥å°†æœ‰å…³è”å…³ç³»çš„å¸¸é‡ç»„ç»‡èµ·æ¥ï¼Œä½¿ä»£ç æ›´åŠ æ˜“è¯»ã€å®‰å…¨ï¼Œå¹¶ä¸”è¿˜å¯ä»¥ä½¿ç”¨æšä¸¾æä¾›çš„æ–¹æ³•ã€‚</p>
<p>ä¸‹é¢ä¸‰ç§å£°æ˜æ–¹å¼æ˜¯ç­‰ä»·çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span> </span>&#123; RED, GREEN, BLUE &#125;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span> </span>&#123; RED, GREEN, BLUE, &#125;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span> </span>&#123; RED, GREEN, BLUE; &#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-switch-çŠ¶æ€æœº"><a href="#5-2-switch-çŠ¶æ€æœº" class="headerlink" title="5.2. switch çŠ¶æ€æœº"></a>5.2. switch çŠ¶æ€æœº</h3><p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨ switch è¯­å¥æ¥å†™çŠ¶æ€æœºã€‚JDK7 ä»¥åï¼Œswitch å·²ç»æ”¯æŒ <code>int</code>ã€<code>char</code>ã€<code>String</code>ã€<code>enum</code> ç±»å‹çš„å‚æ•°ã€‚è¿™å‡ ç§ç±»å‹çš„å‚æ•°æ¯”è¾ƒèµ·æ¥ï¼Œä½¿ç”¨æšä¸¾çš„ switch ä»£ç æ›´å…·æœ‰å¯è¯»æ€§ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StateMachineDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Signal</span> </span>&#123;</span><br><span class="line">        GREEN, YELLOW, RED</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getTrafficInstruct</span><span class="params">(Signal signal)</span> </span>&#123;</span><br><span class="line">        String instruct = <span class="string">&quot;ä¿¡å·ç¯æ•…éšœ&quot;</span>;</span><br><span class="line">        <span class="keyword">switch</span> (signal) &#123;</span><br><span class="line">            <span class="keyword">case</span> RED:</span><br><span class="line">                instruct = <span class="string">&quot;çº¢ç¯åœ&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> YELLOW:</span><br><span class="line">                instruct = <span class="string">&quot;é»„ç¯è¯·æ³¨æ„&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> GREEN:</span><br><span class="line">                instruct = <span class="string">&quot;ç»¿ç¯è¡Œ&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instruct;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(getTrafficInstruct(Signal.RED));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// çº¢ç¯åœ</span></span><br></pre></td></tr></table></figure>

<h3 id="5-3-é”™è¯¯ç "><a href="#5-3-é”™è¯¯ç " class="headerlink" title="5.3. é”™è¯¯ç "></a>5.3. é”™è¯¯ç </h3><p>æšä¸¾å¸¸è¢«ç”¨äºå®šä¹‰ç¨‹åºé”™è¯¯ç ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErrorCodeEnumDemo</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">ErrorCodeEn</span> </span>&#123;</span><br><span class="line">        OK(<span class="number">0</span>, <span class="string">&quot;æˆåŠŸ&quot;</span>),</span><br><span class="line">        ERROR_A(<span class="number">100</span>, <span class="string">&quot;é”™è¯¯A&quot;</span>),</span><br><span class="line">        ERROR_B(<span class="number">200</span>, <span class="string">&quot;é”™è¯¯B&quot;</span>);</span><br><span class="line"></span><br><span class="line">        ErrorCodeEn(<span class="keyword">int</span> number, String msg) &#123;</span><br><span class="line">            <span class="keyword">this</span>.code = number;</span><br><span class="line">            <span class="keyword">this</span>.msg = msg;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">        <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> code;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> msg;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;ErrorCodeEn&#123;&quot;</span> + <span class="string">&quot;code=&quot;</span> + code + <span class="string">&quot;, msg=&#x27;&quot;</span> + msg + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toStringAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            sb.append(<span class="string">&quot;ErrorCodeEn All Elements: [&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (ErrorCodeEn code : ErrorCodeEn.values()) &#123;</span><br><span class="line">                sb.append(code.getCode()).append(<span class="string">&quot;, &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(<span class="string">&quot;]&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> sb.toString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(ErrorCodeEn.toStringAll());</span><br><span class="line">        <span class="keyword">for</span> (ErrorCodeEn s : ErrorCodeEn.values()) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// ErrorCodeEn All Elements: [0, 100, 200, ]</span></span><br><span class="line"><span class="comment">// ErrorCodeEn&#123;code=0, msg=&#x27;æˆåŠŸ&#x27;&#125;</span></span><br><span class="line"><span class="comment">// ErrorCodeEn&#123;code=100, msg=&#x27;é”™è¯¯A&#x27;&#125;</span></span><br><span class="line"><span class="comment">// ErrorCodeEn&#123;code=200, msg=&#x27;é”™è¯¯B&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="5-4-ç»„ç»‡æšä¸¾"><a href="#5-4-ç»„ç»‡æšä¸¾" class="headerlink" title="5.4. ç»„ç»‡æšä¸¾"></a>5.4. ç»„ç»‡æšä¸¾</h3><p>å¯ä»¥å°†ç±»å‹ç›¸è¿‘çš„æšä¸¾é€šè¿‡æ¥å£æˆ–ç±»ç»„ç»‡èµ·æ¥ï¼Œä½†æ˜¯ä¸€èˆ¬ç”¨æ¥å£æ–¹å¼è¿›è¡Œç»„ç»‡ã€‚</p>
<p>åŸå› æ˜¯ï¼šJava æ¥å£åœ¨ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨ä¸º enum ç±»å‹åŠ ä¸Š <code>public static</code>ä¿®é¥°ç¬¦ï¼›Java ç±»åœ¨ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨ä¸º <code>enum</code> ç±»å‹åŠ ä¸Š static ä¿®é¥°ç¬¦ã€‚çœ‹å‡ºå·®å¼‚äº†å—ï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯è¯´ï¼Œåœ¨ç±»ä¸­ç»„ç»‡ <code>enum</code>ï¼Œå¦‚æœä½ ä¸ç»™å®ƒä¿®é¥°ä¸º <code>public</code>ï¼Œé‚£ä¹ˆåªèƒ½åœ¨æœ¬åŒ…ä¸­è¿›è¡Œè®¿é—®ã€‚</p>
<p><strong>ä¾‹ï¼šåœ¨æ¥å£ä¸­ç»„ç»‡ enum</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnumInInterfaceDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">INumberEnum</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function">String <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Plant</span> </span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">enum</span> <span class="title">Vegetable</span> <span class="keyword">implements</span> <span class="title">INumberEnum</span> </span>&#123;</span><br><span class="line">            POTATO(<span class="number">0</span>, <span class="string">&quot;åœŸè±†&quot;</span>),</span><br><span class="line">            TOMATO(<span class="number">0</span>, <span class="string">&quot;è¥¿çº¢æŸ¿&quot;</span>);</span><br><span class="line"></span><br><span class="line">            Vegetable(<span class="keyword">int</span> number, String description) &#123;</span><br><span class="line">                <span class="keyword">this</span>.code = number;</span><br><span class="line">                <span class="keyword">this</span>.description = description;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">            <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.code;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.description;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="class"><span class="keyword">enum</span> <span class="title">Fruit</span> <span class="keyword">implements</span> <span class="title">INumberEnum</span> </span>&#123;</span><br><span class="line">            APPLE(<span class="number">0</span>, <span class="string">&quot;è‹¹æœ&quot;</span>),</span><br><span class="line">            ORANGE(<span class="number">0</span>, <span class="string">&quot;æ¡”å­&quot;</span>),</span><br><span class="line">            BANANA(<span class="number">0</span>, <span class="string">&quot;é¦™è•‰&quot;</span>);</span><br><span class="line"></span><br><span class="line">            Fruit(<span class="keyword">int</span> number, String description) &#123;</span><br><span class="line">                <span class="keyword">this</span>.code = number;</span><br><span class="line">                <span class="keyword">this</span>.description = description;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">            <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.code;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.description;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Plant.Fruit f : Plant.Fruit.values()) &#123;</span><br><span class="line">            System.out.println(f.getDescription());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// è‹¹æœ</span></span><br><span class="line"><span class="comment">// æ¡”å­</span></span><br><span class="line"><span class="comment">// é¦™è•‰</span></span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ï¼šåœ¨ç±»ä¸­ç»„ç»‡ enum</strong></p>
<p>æœ¬ä¾‹å’Œä¸Šä¾‹æ•ˆæœç›¸åŒã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnumInClassDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">INumberEnum</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function">String <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Plant2</span> </span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">enum</span> <span class="title">Vegetable</span> <span class="keyword">implements</span> <span class="title">INumberEnum</span> </span>&#123;</span><br><span class="line">            <span class="comment">// ç•¥ï¼Œä¸ä¸Šé¢å®Œå…¨ç›¸åŒ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="class"><span class="keyword">enum</span> <span class="title">Fruit</span> <span class="keyword">implements</span> <span class="title">INumberEnum</span> </span>&#123;</span><br><span class="line">            <span class="comment">// ç•¥ï¼Œä¸ä¸Šé¢å®Œå…¨ç›¸åŒ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç•¥</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// åœŸè±†</span></span><br><span class="line"><span class="comment">// è¥¿çº¢æŸ¿</span></span><br></pre></td></tr></table></figure>

<h3 id="5-5-ç­–ç•¥æšä¸¾"><a href="#5-5-ç­–ç•¥æšä¸¾" class="headerlink" title="5.5. ç­–ç•¥æšä¸¾"></a>5.5. ç­–ç•¥æšä¸¾</h3><p>Effective Java ä¸­å±•ç¤ºäº†ä¸€ç§ç­–ç•¥æšä¸¾ã€‚è¿™ç§æšä¸¾é€šè¿‡æšä¸¾åµŒå¥—æšä¸¾çš„æ–¹å¼ï¼Œå°†æšä¸¾å¸¸é‡åˆ†ç±»å¤„ç†ã€‚</p>
<p>è¿™ç§åšæ³•è™½ç„¶æ²¡æœ‰ switch è¯­å¥ç®€æ´ï¼Œä½†æ˜¯æ›´åŠ å®‰å…¨ã€çµæ´»ã€‚</p>
<p><strong>ä¾‹ï¼šEffectvieJava ä¸­çš„ç­–ç•¥æšä¸¾èŒƒä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">PayrollDay</span> </span>&#123;</span><br><span class="line">    MONDAY(PayType.WEEKDAY), TUESDAY(PayType.WEEKDAY), WEDNESDAY(</span><br><span class="line">            PayType.WEEKDAY), THURSDAY(PayType.WEEKDAY), FRIDAY(PayType.WEEKDAY), SATURDAY(</span><br><span class="line">            PayType.WEEKEND), SUNDAY(PayType.WEEKEND);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> PayType payType;</span><br><span class="line"></span><br><span class="line">    PayrollDay(PayType payType) &#123;</span><br><span class="line">        <span class="keyword">this</span>.payType = payType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">pay</span><span class="params">(<span class="keyword">double</span> hoursWorked, <span class="keyword">double</span> payRate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> payType.pay(hoursWorked, payRate);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­–ç•¥æšä¸¾</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">enum</span> <span class="title">PayType</span> </span>&#123;</span><br><span class="line">        WEEKDAY &#123;</span><br><span class="line">            <span class="function"><span class="keyword">double</span> <span class="title">overtimePay</span><span class="params">(<span class="keyword">double</span> hours, <span class="keyword">double</span> payRate)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> hours &lt;= HOURS_PER_SHIFT ? <span class="number">0</span> : (hours - HOURS_PER_SHIFT)</span><br><span class="line">                        * payRate / <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        WEEKEND &#123;</span><br><span class="line">            <span class="function"><span class="keyword">double</span> <span class="title">overtimePay</span><span class="params">(<span class="keyword">double</span> hours, <span class="keyword">double</span> payRate)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> hours * payRate / <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> HOURS_PER_SHIFT = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">abstract</span> <span class="keyword">double</span> <span class="title">overtimePay</span><span class="params">(<span class="keyword">double</span> hrs, <span class="keyword">double</span> payRate)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">pay</span><span class="params">(<span class="keyword">double</span> hoursWorked, <span class="keyword">double</span> payRate)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">double</span> basePay = hoursWorked * payRate;</span><br><span class="line">            <span class="keyword">return</span> basePay + overtimePay(hoursWorked, payRate);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æµ‹è¯•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;æ—¶è–ª100çš„äººåœ¨å‘¨äº”å·¥ä½œ8å°æ—¶çš„æ”¶å…¥ï¼š&quot;</span> + PayrollDay.FRIDAY.pay(<span class="number">8.0</span>, <span class="number">100</span>));</span><br><span class="line">System.out.println(<span class="string">&quot;æ—¶è–ª100çš„äººåœ¨å‘¨å…­å·¥ä½œ8å°æ—¶çš„æ”¶å…¥ï¼š&quot;</span> + PayrollDay.SATURDAY.pay(<span class="number">8.0</span>, <span class="number">100</span>));</span><br></pre></td></tr></table></figure>

<h3 id="5-6-æšä¸¾å®ç°å•ä¾‹æ¨¡å¼"><a href="#5-6-æšä¸¾å®ç°å•ä¾‹æ¨¡å¼" class="headerlink" title="5.6. æšä¸¾å®ç°å•ä¾‹æ¨¡å¼"></a>5.6. æšä¸¾å®ç°å•ä¾‹æ¨¡å¼</h3><p>å•ä¾‹æ¨¡å¼æ˜¯æœ€å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ã€‚</p>
<p>å•ä¾‹æ¨¡å¼åœ¨å¹¶å‘ç¯å¢ƒä¸‹å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p>
<p>ä¸ºäº†çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œä¼ ç»Ÿåšæ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>é¥¿æ±‰å¼åŠ è½½</li>
<li>æ‡’æ±‰å¼ synchronize å’ŒåŒé‡æ£€æŸ¥</li>
<li>åˆ©ç”¨ java çš„é™æ€åŠ è½½æœºåˆ¶</li>
</ul>
<p>ç›¸æ¯”ä¸Šè¿°çš„æ–¹æ³•ï¼Œä½¿ç”¨æšä¸¾ä¹Ÿå¯ä»¥å®ç°å•ä¾‹ï¼Œè€Œä¸”è¿˜æ›´åŠ ç®€å•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingleEnumDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">SingleEn</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        INSTANCE;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SingleEn.INSTANCE.setName(<span class="string">&quot;zp&quot;</span>);</span><br><span class="line">        System.out.println(SingleEn.INSTANCE.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š<a href="https://blog.csdn.net/javazejian/article/details/71333103#enumset%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90">æ·±å…¥ç†è§£ Java æšä¸¾ç±»å‹(enum)</a></p>
<p>è¿™ç¯‡æ–‡ç« å¯¹äº Java æšä¸¾çš„ç‰¹æ€§è®²è§£å¾ˆä»”ç»†ï¼Œå…¶ä¸­å¯¹äºæšä¸¾å®ç°å•ä¾‹å’Œä¼ ç»Ÿå•ä¾‹å®ç°æ–¹å¼è¯´çš„å°¤ä¸ºç»†è‡´ã€‚</p>
</blockquote>
<h2 id="6-æšä¸¾å·¥å…·ç±»"><a href="#6-æšä¸¾å·¥å…·ç±»" class="headerlink" title="6. æšä¸¾å·¥å…·ç±»"></a>6. æšä¸¾å·¥å…·ç±»</h2><p>Java ä¸­æä¾›äº†ä¸¤ä¸ªæ–¹ä¾¿æ“ä½œ enum çš„å·¥å…·ç±»â€”â€”<code>EnumSet</code> å’Œ <code>EnumMap</code>ã€‚</p>
<h3 id="6-1-EnumSet"><a href="#6-1-EnumSet" class="headerlink" title="6.1. EnumSet"></a>6.1. EnumSet</h3><p><code>EnumSet</code> æ˜¯æšä¸¾ç±»å‹çš„é«˜æ€§èƒ½ <code>Set</code> å®ç°ã€‚å®ƒè¦æ±‚æ”¾å…¥å®ƒçš„æšä¸¾å¸¸é‡å¿…é¡»å±äºåŒä¸€æšä¸¾ç±»å‹ã€‚</p>
<p>ä¸»è¦æ¥å£ï¼š</p>
<ul>
<li><code>noneOf</code> - åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šå…ƒç´ ç±»å‹çš„ç©º EnumSet</li>
<li><code>allOf</code> - åˆ›å»ºä¸€ä¸ªæŒ‡å®šå…ƒç´ ç±»å‹å¹¶åŒ…å«æ‰€æœ‰æšä¸¾å€¼çš„ EnumSet</li>
<li><code>range</code> - åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬æšä¸¾å€¼ä¸­æŒ‡å®šèŒƒå›´å…ƒç´ çš„ EnumSet</li>
<li><code>complementOf</code> - åˆå§‹é›†åˆåŒ…æ‹¬æŒ‡å®šé›†åˆçš„è¡¥é›†</li>
<li><code>of</code> - åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬å‚æ•°ä¸­æ‰€æœ‰å…ƒç´ çš„ EnumSet</li>
<li><code>copyOf</code> - åˆ›å»ºä¸€ä¸ªåŒ…å«å‚æ•°å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ çš„ EnumSet</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnumSetDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;EnumSetå±•ç¤º&quot;</span>);</span><br><span class="line">        EnumSet&lt;ErrorCodeEn&gt; errSet = EnumSet.allOf(ErrorCodeEn.class);</span><br><span class="line">        <span class="keyword">for</span> (ErrorCodeEn e : errSet) &#123;</span><br><span class="line">            System.out.println(e.name() + <span class="string">&quot; : &quot;</span> + e.ordinal());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-2-EnumMap"><a href="#6-2-EnumMap" class="headerlink" title="6.2. EnumMap"></a>6.2. EnumMap</h3><p><code>EnumMap</code> æ˜¯ä¸“é—¨ä¸ºæšä¸¾ç±»å‹é‡èº«å®šåšçš„ <code>Map</code> å®ç°ã€‚è™½ç„¶ä½¿ç”¨å…¶å®ƒçš„ Map å®ç°ï¼ˆå¦‚ HashMapï¼‰ä¹Ÿèƒ½å®Œæˆæšä¸¾ç±»å‹å®ä¾‹åˆ°å€¼å¾—æ˜ å°„ï¼Œä½†æ˜¯ä½¿ç”¨ EnumMap ä¼šæ›´åŠ é«˜æ•ˆï¼šå®ƒåªèƒ½æ¥æ”¶åŒä¸€æšä¸¾ç±»å‹çš„å®ä¾‹ä½œä¸ºé”®å€¼ï¼Œå¹¶ä¸”ç”±äºæšä¸¾ç±»å‹å®ä¾‹çš„æ•°é‡ç›¸å¯¹å›ºå®šå¹¶ä¸”æœ‰é™ï¼Œæ‰€ä»¥ EnumMap ä½¿ç”¨æ•°ç»„æ¥å­˜æ”¾ä¸æšä¸¾ç±»å‹å¯¹åº”çš„å€¼ã€‚è¿™ä½¿å¾— EnumMap çš„æ•ˆç‡éå¸¸é«˜ã€‚</p>
<p>ä¸»è¦æ¥å£ï¼š</p>
<ul>
<li><code>size</code> - è¿”å›é”®å€¼å¯¹æ•°</li>
<li><code>containsValue</code> - æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„ value</li>
<li><code>containsKey</code> - æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„ key</li>
<li><code>get</code> - æ ¹æ®æŒ‡å®š key è·å– value</li>
<li><code>put</code> - å–å‡ºæŒ‡å®šçš„é”®å€¼å¯¹</li>
<li><code>remove</code> - åˆ é™¤æŒ‡å®š key</li>
<li><code>putAll</code> - æ‰¹é‡å–å‡ºé”®å€¼å¯¹</li>
<li><code>clear</code> - æ¸…é™¤æ•°æ®</li>
<li><code>keySet</code> - è·å– key é›†åˆ</li>
<li><code>values</code> - è¿”å›æ‰€æœ‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnumMapDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Signal</span> </span>&#123;</span><br><span class="line">        GREEN, YELLOW, RED</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;EnumMapå±•ç¤º&quot;</span>);</span><br><span class="line">        EnumMap&lt;Signal, String&gt; errMap = <span class="keyword">new</span> EnumMap(Signal.class);</span><br><span class="line">        errMap.put(Signal.RED, <span class="string">&quot;çº¢ç¯&quot;</span>);</span><br><span class="line">        errMap.put(Signal.YELLOW, <span class="string">&quot;é»„ç¯&quot;</span>);</span><br><span class="line">        errMap.put(Signal.GREEN, <span class="string">&quot;ç»¿ç¯&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Iterator&lt;Map.Entry&lt;Signal, String&gt;&gt; iter = errMap.entrySet().iterator(); iter.hasNext();) &#123;</span><br><span class="line">            Map.Entry&lt;Signal, String&gt; entry = iter.next();</span><br><span class="line">            System.out.println(entry.getKey().name() + <span class="string">&quot; : &quot;</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š<a href="https://blog.csdn.net/javazejian/article/details/71333103#enumset%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90">æ·±å…¥ç†è§£ Java æšä¸¾ç±»å‹(enum)</a></p>
<p>è¿™ç¯‡æ–‡ç« ä¸­å¯¹ EnumSet å’Œ EnumMap åŸç†åšäº†è¾ƒä¸ºè¯¦ç»†çš„ä»‹ç»ã€‚</p>
</blockquote>
<h2 id="7-å°ç»“"><a href="#7-å°ç»“" class="headerlink" title="7. å°ç»“"></a>7. å°ç»“</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1553002212154.png" alt="img"></p>
<h2 id="8-å‚è€ƒèµ„æ–™"><a href="#8-å‚è€ƒèµ„æ–™" class="headerlink" title="8. å‚è€ƒèµ„æ–™"></a>8. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
<li><a href="https://book.douban.com/subject/3360807/">Effective java</a></li>
<li><a href="https://blog.csdn.net/javazejian/article/details/71333103#enumset%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90">æ·±å…¥ç†è§£ Java æšä¸¾ç±»å‹(enum)</a></li>
<li><a href="https://droidyue.com/blog/2016/11/29/dive-into-enum/">https://droidyue.com/blog/2016/11/29/dive-into-enum/</a></li>
</ul>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>æšä¸¾ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaé¢å‘å¯¹è±¡</title>
    <url>/2021/12/06/java-oop/</url>
    <content><![CDATA[<h1 id="Java-é¢å‘å¯¹è±¡"><a href="#Java-é¢å‘å¯¹è±¡" class="headerlink" title="Java é¢å‘å¯¹è±¡"></a>Java é¢å‘å¯¹è±¡</h1><blockquote>
<p>åœ¨<a href="https://github.com/dunwu/blog/blob/master/source/_posts/programming/java/javacore/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.md">æ·±å…¥ç†è§£ Java åŸºæœ¬æ•°æ®ç±»å‹</a>ä¸­æˆ‘ä»¬äº†è§£ Java ä¸­æ”¯æŒçš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå€¼ç±»å‹ï¼‰ã€‚æœ¬æ–‡å¼€å§‹è®²è§£ Java ä¸­é‡è¦çš„å¼•ç”¨ç±»å‹â€”â€”ç±»ã€‚</p>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1">1. é¢å‘å¯¹è±¡</a><ul>
<li><a href="#11-%E5%B0%81%E8%A3%85">1.1. å°è£…</a></li>
<li><a href="#12-%E7%BB%A7%E6%89%BF">1.2. ç»§æ‰¿</a></li>
<li><a href="#13-%E5%A4%9A%E6%80%81">1.3. å¤šæ€</a></li>
</ul>
</li>
<li><a href="#2-%E7%B1%BB">2. ç±»</a></li>
<li><a href="#3-%E6%96%B9%E6%B3%95">3. æ–¹æ³•</a><ul>
<li><a href="#31-%E6%96%B9%E6%B3%95%E5%AE%9A%E4%B9%89">3.1. æ–¹æ³•å®šä¹‰</a></li>
<li><a href="#32-%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8">3.2. æ–¹æ³•è°ƒç”¨</a></li>
<li><a href="#33-%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95">3.3. æ„é€ æ–¹æ³•</a></li>
</ul>
</li>
<li><a href="#4-%E5%8F%98%E9%87%8F">4. å˜é‡</a><ul>
<li><a href="#41-%E5%8F%98%E9%87%8F%E4%BF%AE%E9%A5%B0%E7%AC%A6">4.1. å˜é‡ä¿®é¥°ç¬¦</a></li>
<li><a href="#42-%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1">4.2. åˆ›å»ºå¯¹è±¡</a></li>
<li><a href="#43-%E8%AE%BF%E9%97%AE%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%92%8C%E6%96%B9%E6%B3%95">4.3. è®¿é—®å®ä¾‹å˜é‡å’Œæ–¹æ³•</a></li>
</ul>
</li>
<li><a href="#5-%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6">5. è®¿é—®æƒé™æ§åˆ¶</a><ul>
<li><a href="#51-%E4%BB%A3%E7%A0%81%E7%BB%84%E7%BB%87">5.1. ä»£ç ç»„ç»‡</a></li>
<li><a href="#52-%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E5%85%B3%E9%94%AE%E5%AD%97">5.2. è®¿é—®æƒé™ä¿®é¥°å…³é”®å­—</a></li>
</ul>
</li>
<li><a href="#6-%E6%8E%A5%E5%8F%A3">6. æ¥å£</a></li>
<li><a href="#7-%E6%8A%BD%E8%B1%A1%E7%B1%BB">7. æŠ½è±¡ç±»</a></li>
<li><a href="#8-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">8. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-é¢å‘å¯¹è±¡"><a href="#1-é¢å‘å¯¹è±¡" class="headerlink" title="1. é¢å‘å¯¹è±¡"></a>1. é¢å‘å¯¹è±¡</h2><p>æ¯ç§ç¼–ç¨‹è¯­è¨€ï¼Œéƒ½æœ‰è‡ªå·±çš„æ“çºµå†…å­˜ä¸­å…ƒç´ çš„æ–¹å¼ã€‚</p>
<p>Java ä¸­æä¾›äº†<a href="https://github.com/dunwu/blog/blob/master/source/_posts/programming/java/javacore/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.md">åŸºæœ¬æ•°æ®ç±»å‹</a>ï¼Œä½†è¿™è¿˜ä¸èƒ½æ»¡è¶³ç¼–å†™ç¨‹åºæ—¶ï¼Œéœ€è¦æŠ½è±¡æ›´åŠ å¤æ‚æ•°æ®ç±»å‹çš„éœ€è¦ã€‚å› æ­¤ï¼ŒJava ä¸­ï¼Œå…è®¸å¼€å‘è€…é€šè¿‡ç±»ï¼ˆç±»çš„æœºåˆ¶ä¸‹é¢ä¼šè®²åˆ°ï¼‰åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ã€‚</p>
<p>æœ‰äº†è‡ªå®šä¹‰ç±»å‹ï¼Œé‚£ä¹ˆæ•°æ®ç±»å‹è‡ªç„¶ä¼šåƒå˜ä¸‡åŒ–ï¼Œæ‰€ä»¥ï¼Œå¿…é¡»è¦æœ‰ä¸€å®šçš„æœºåˆ¶ï¼Œä½¿å¾—å®ƒä»¬ä»ç„¶ä¿æŒä¸€äº›å¿…è¦çš„ã€é€šç”¨çš„ç‰¹æ€§ã€‚</p>
<p>Java ä¸–ç•Œæœ‰ä¸€å¥åè¨€ï¼šä¸€åˆ‡çš†ä¸ºå¯¹è±¡ã€‚è¿™å¥è¯ï¼Œä½ å¯èƒ½ç¬¬ä¸€å¤©å­¦ Java æ—¶ï¼Œå°±å¬è¿‡äº†ã€‚è¿™ä¸ä»…ä»…æ˜¯ä¸€å¥å£å·ï¼Œä¹Ÿä½“ç°åœ¨ Java çš„è®¾è®¡ä¸Šã€‚</p>
<ul>
<li>é¦–å…ˆï¼Œæ‰€æœ‰ Java ç±»éƒ½ç»§æ‰¿è‡ª <code>Object</code> ç±»ï¼ˆä»è¿™ä¸ªåå­—ï¼Œå°±å¯è§ä¸€æ–‘ï¼‰ã€‚</li>
<li>å‡ ä¹æ‰€æœ‰ Java å¯¹è±¡åˆå§‹åŒ–æ—¶ï¼Œéƒ½è¦ä½¿ç”¨ <code>new</code> åˆ›å»ºå¯¹è±¡ï¼ˆ<a href="https://github.com/dunwu/blog/blob/master/source/_posts/programming/java/javacore/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.md">åŸºæœ¬æ•°æ®ç±»å‹</a>ã€Stringã€æšä¸¾ç‰¹æ®Šå¤„ç†ï¼‰ï¼Œå¯¹è±¡å­˜å‚¨åœ¨å †ä¸­ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸‹é¢ä¸¤</span></span><br><span class="line">String s = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">String s = <span class="keyword">new</span> String(<span class="string">&quot;abc&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>String s</code> å®šä¹‰äº†ä¸€ä¸ªåä¸º s çš„å¼•ç”¨ï¼Œå®ƒæŒ‡å‘ä¸€ä¸ª <code>String</code> ç±»å‹çš„å¯¹è±¡ï¼Œè€Œå®é™…çš„å¯¹è±¡æ˜¯ <code>â€œabcâ€</code> å­—ç¬¦ä¸²ã€‚è¿™å°±åƒæ˜¯ï¼Œä½¿ç”¨é¥æ§å™¨ï¼ˆå¼•ç”¨ï¼‰æ¥æ“çºµç”µè§†æœºï¼ˆå¯¹è±¡ï¼‰ã€‚</p>
<p>ä¸ C/C++ è¿™ç±»è¯­è¨€ä¸åŒï¼Œç¨‹åºå‘˜åªéœ€è¦é€šè¿‡ <code>new</code> åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä½†ä¸å¿…è´Ÿè´£é”€æ¯æˆ–ç»“æŸä¸€ä¸ªå¯¹è±¡ã€‚è´Ÿè´£è¿è¡Œ Java ç¨‹åºçš„ Java è™šæ‹Ÿæœºæœ‰ä¸€ä¸ªåƒåœ¾å›æ”¶å™¨ï¼Œå®ƒä¼šç›‘è§† <code>new</code> åˆ›å»ºçš„å¯¹è±¡ï¼Œä¸€æ—¦å‘ç°å¯¹è±¡ä¸å†è¢«å¼•ç”¨ï¼Œåˆ™ä¼šé‡Šæ”¾å¯¹è±¡çš„å†…å­˜ç©ºé—´ã€‚</p>
<h3 id="1-1-å°è£…"><a href="#1-1-å°è£…" class="headerlink" title="1.1. å°è£…"></a>1.1. å°è£…</h3><p><strong>å°è£…ï¼ˆEncapsulationï¼‰æ˜¯æŒ‡ä¸€ç§å°†æŠ½è±¡æ€§å‡½å¼æ¥å£çš„å®ç°ç»†èŠ‚éƒ¨ä»½åŒ…è£…ã€éšè—èµ·æ¥çš„æ–¹æ³•ã€‚</strong></p>
<p>å°è£…æœ€ä¸»è¦çš„ä½œç”¨åœ¨äºæˆ‘ä»¬èƒ½ä¿®æ”¹è‡ªå·±çš„å®ç°ä»£ç ï¼Œè€Œä¸ç”¨ä¿®æ”¹é‚£äº›è°ƒç”¨æˆ‘ä»¬ä»£ç çš„ç¨‹åºç‰‡æ®µã€‚</p>
<p>é€‚å½“çš„å°è£…å¯ä»¥è®©ç¨‹å¼ç æ›´å®¹æ˜“ç†è§£ä¸ç»´æŠ¤ï¼Œä¹ŸåŠ å¼ºäº†ç¨‹å¼ç çš„å®‰å…¨æ€§ã€‚</p>
<p>å°è£…çš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>è‰¯å¥½çš„å°è£…èƒ½å¤Ÿå‡å°‘è€¦åˆã€‚</li>
<li>ç±»å†…éƒ¨çš„ç»“æ„å¯ä»¥è‡ªç”±ä¿®æ”¹ã€‚</li>
<li>å¯ä»¥å¯¹æˆå‘˜å˜é‡è¿›è¡Œæ›´ç²¾ç¡®çš„æ§åˆ¶ã€‚</li>
<li>éšè—ä¿¡æ¯ï¼Œå®ç°ç»†èŠ‚ã€‚</li>
</ul>
<p>å®ç°å°è£…çš„æ­¥éª¤ï¼š</p>
<ol>
<li>ä¿®æ”¹å±æ€§çš„å¯è§æ€§æ¥é™åˆ¶å¯¹å±æ€§çš„è®¿é—®ï¼ˆä¸€èˆ¬é™åˆ¶ä¸º privateï¼‰ã€‚</li>
<li>å¯¹æ¯ä¸ªå€¼å±æ€§æä¾›å¯¹å¤–çš„å…¬å…±æ–¹æ³•è®¿é—®ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºä¸€å¯¹èµ‹å–å€¼æ–¹æ³•ï¼Œç”¨äºå¯¹ç§æœ‰å±æ€§çš„è®¿é—®ã€‚</li>
</ol>
<h3 id="1-2-ç»§æ‰¿"><a href="#1-2-ç»§æ‰¿" class="headerlink" title="1.2. ç»§æ‰¿"></a>1.2. ç»§æ‰¿</h3><p>ç»§æ‰¿æ˜¯ java é¢å‘å¯¹è±¡ç¼–ç¨‹æŠ€æœ¯çš„ä¸€å—åŸºçŸ³ï¼Œå› ä¸ºå®ƒå…è®¸åˆ›å»ºåˆ†ç­‰çº§å±‚æ¬¡çš„ç±»ã€‚</p>
<p>ç»§æ‰¿å°±æ˜¯å­ç±»ç»§æ‰¿çˆ¶ç±»çš„ç‰¹å¾å’Œè¡Œä¸ºï¼Œä½¿å¾—å­ç±»å¯¹è±¡ï¼ˆå®ä¾‹ï¼‰å…·æœ‰çˆ¶ç±»çš„å®ä¾‹åŸŸå’Œæ–¹æ³•ï¼Œæˆ–å­ç±»ä»çˆ¶ç±»ç»§æ‰¿æ–¹æ³•ï¼Œä½¿å¾—å­ç±»å…·æœ‰çˆ¶ç±»ç›¸åŒçš„è¡Œä¸ºã€‚</p>
<p>ç°å®ä¸­çš„ä¾‹å­ï¼š</p>
<p>ç‹—å’Œé¸Ÿéƒ½æ˜¯åŠ¨ç‰©ã€‚å¦‚æœå°†ç‹—ã€é¸Ÿä½œä¸ºç±»ï¼Œå®ƒä»¬å¯ä»¥ç»§æ‰¿åŠ¨ç‰©ç±»ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1552641712126.png" alt="img"></p>
<p>ç±»çš„ç»§æ‰¿å½¢å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class çˆ¶ç±» &#123;&#125;</span><br><span class="line"></span><br><span class="line">class å­ç±» extends çˆ¶ç±» &#123;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç»§æ‰¿ç±»å‹"><a href="#ç»§æ‰¿ç±»å‹" class="headerlink" title="ç»§æ‰¿ç±»å‹"></a>ç»§æ‰¿ç±»å‹</h4><p><img src="http://www.runoob.com/wp-content/uploads/2013/12/types_of_inheritance.png" alt="img"></p>
<h4 id="ç»§æ‰¿çš„ç‰¹æ€§"><a href="#ç»§æ‰¿çš„ç‰¹æ€§" class="headerlink" title="ç»§æ‰¿çš„ç‰¹æ€§"></a>ç»§æ‰¿çš„ç‰¹æ€§</h4><ul>
<li>å­ç±»æ‹¥æœ‰çˆ¶ç±»é private çš„å±æ€§ã€æ–¹æ³•ã€‚</li>
<li>å­ç±»å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ï¼Œå³å­ç±»å¯ä»¥å¯¹çˆ¶ç±»è¿›è¡Œæ‰©å±•ã€‚</li>
<li>å­ç±»å¯ä»¥ç”¨è‡ªå·±çš„æ–¹å¼å®ç°çˆ¶ç±»çš„æ–¹æ³•ã€‚</li>
<li>Java çš„ç»§æ‰¿æ˜¯å•ç»§æ‰¿ï¼Œä½†æ˜¯å¯ä»¥å¤šé‡ç»§æ‰¿ï¼Œå•ç»§æ‰¿å°±æ˜¯ä¸€ä¸ªå­ç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œå¤šé‡ç»§æ‰¿å°±æ˜¯ï¼Œä¾‹å¦‚ A ç±»ç»§æ‰¿ B ç±»ï¼ŒB ç±»ç»§æ‰¿ C ç±»ï¼Œæ‰€ä»¥æŒ‰ç…§å…³ç³»å°±æ˜¯ C ç±»æ˜¯ B ç±»çš„çˆ¶ç±»ï¼ŒB ç±»æ˜¯ A ç±»çš„çˆ¶ç±»ï¼Œè¿™æ˜¯ Java ç»§æ‰¿åŒºåˆ«äº C++ ç»§æ‰¿çš„ä¸€ä¸ªç‰¹æ€§ã€‚</li>
<li>æé«˜äº†ç±»ä¹‹é—´çš„è€¦åˆæ€§ï¼ˆç»§æ‰¿çš„ç¼ºç‚¹ï¼Œè€¦åˆåº¦é«˜å°±ä¼šé€ æˆä»£ç ä¹‹é—´çš„è”ç³»è¶Šç´§å¯†ï¼Œä»£ç ç‹¬ç«‹æ€§è¶Šå·®ï¼‰ã€‚</li>
</ul>
<h4 id="ç»§æ‰¿å…³é”®å­—"><a href="#ç»§æ‰¿å…³é”®å­—" class="headerlink" title="ç»§æ‰¿å…³é”®å­—"></a>ç»§æ‰¿å…³é”®å­—</h4><p>ç»§æ‰¿å¯ä»¥ä½¿ç”¨ extends å’Œ implements è¿™ä¸¤ä¸ªå…³é”®å­—æ¥å®ç°ç»§æ‰¿ï¼Œè€Œä¸”æ‰€æœ‰çš„ç±»éƒ½æ˜¯ç»§æ‰¿äº java.lang.Objectï¼Œå½“ä¸€ä¸ªç±»æ²¡æœ‰ç»§æ‰¿çš„ä¸¤ä¸ªå…³é”®å­—ï¼Œåˆ™é»˜è®¤ç»§æ‰¿ objectï¼ˆè¿™ä¸ªç±»åœ¨ <strong>java.lang</strong> åŒ…ä¸­ï¼Œæ‰€ä»¥ä¸éœ€è¦ <strong>import</strong>ï¼‰ç¥–å…ˆç±»ã€‚</p>
<h3 id="1-3-å¤šæ€"><a href="#1-3-å¤šæ€" class="headerlink" title="1.3. å¤šæ€"></a>1.3. å¤šæ€</h3><p>åˆšå¼€å§‹å­¦ä¹ é¢å‘å¯¹è±¡ç¼–ç¨‹æ—¶ï¼Œå®¹æ˜“è¢«å„ç§æœ¯è¯­å¼„å¾—äº‘é‡Œé›¾é‡Œã€‚æ‰€ä»¥ï¼Œå¾ˆå¤šäººä¼šæ­»è®°ç¡¬èƒŒä¹¦ä¸­å¯¹äºæœ¯è¯­çš„å®šä¹‰ã€‚</p>
<p>ä½†æ˜¯ï¼Œéšç€åº”ç”¨å’Œç†è§£çš„æ·±å…¥ï¼Œåº”è¯¥ä¼šæ¸æ¸æœ‰æ›´è¿›ä¸€æ­¥çš„è®¤è¯†ï¼Œå°†å…¶èæ±‡è´¯é€šçš„ç†è§£ã€‚</p>
<p>å­¦ä¹ ç±»ä¹‹å‰ï¼Œå…ˆè®©æˆ‘ä»¬æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šJava ä¸­ä¸ºä»€ä¹ˆè¦å¼•å…¥ç±»æœºåˆ¶ï¼Œè®¾è®¡çš„åˆè¡·æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>Java ä¸­æä¾›çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåªèƒ½è¡¨ç¤ºå•ä¸€çš„æ•°å€¼ï¼Œè¿™ç”¨äºæ•°å€¼è®¡ç®—ï¼Œè¿˜ OKã€‚ä½†æ˜¯ï¼Œå¦‚æœè¦æŠ½è±¡æ¨¡æ‹Ÿç°å®ä¸­æ›´å¤æ‚çš„äº‹ç‰©ï¼Œåˆ™æ— æ³•åšåˆ°ã€‚</p>
<p>è¯•æƒ³ï¼Œå¦‚æœè¦è®©ä½ æŠ½è±¡ç‹—çš„æ•°æ®æ¨¡å‹ï¼Œæ€ä¹ˆåšï¼Ÿç‹—æœ‰çœ¼è€³å£é¼»ç­‰å™¨å®˜ï¼Œæœ‰è…¿ï¼Œç‹—æœ‰å¤§å°ï¼Œæ¯›è‰²ï¼Œè¿™äº›éƒ½æ˜¯å®ƒçš„çŠ¶æ€ï¼Œç‹—ä¼šè·‘ã€ä¼šå«ã€ä¼šåƒä¸œè¥¿ï¼Œè¿™äº›æ˜¯å®ƒçš„è¡Œä¸ºã€‚</p>
<p>ç±»çš„å¼•å…¥ï¼Œå°±æ˜¯ä¸ºäº†æŠ½è±¡è¿™ç§ç›¸å¯¹å¤æ‚çš„äº‹ç‰©ã€‚</p>
<p>å¯¹è±¡æ˜¯ç”¨äºè®¡ç®—æœºè¯­è¨€å¯¹é—®é¢˜åŸŸä¸­äº‹ç‰©çš„æè¿°ã€‚<strong>å¯¹è±¡é€šè¿‡æ–¹æ³•å’Œå±æ€§æ¥åˆ†åˆ«æè¿°äº‹ç‰©æ‰€å…·æœ‰çš„è¡Œä¸ºå’ŒçŠ¶æ€ã€‚</strong></p>
<p><strong>ç±»æ˜¯ç”¨äºæè¿°åŒä¸€ç±»çš„å¯¹è±¡çš„ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œç±»ä¸­å®šä¹‰äº†è¿™ä¸€ç±»å¯¹è±¡æ‰€å…·æœ‰çš„è¡Œä¸ºå’ŒçŠ¶æ€ã€‚</strong></p>
<p>ç±»å¯ä»¥çœ‹æˆæ˜¯åˆ›å»º Java å¯¹è±¡çš„æ¨¡æ¿ã€‚</p>
<p>ä»€ä¹ˆæ˜¯æ–¹æ³•ï¼Ÿæ‰©å±•é˜…è¯»ï¼š<a href="https://www.zhihu.com/question/20275578/answer/26577791">é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å¼Šç«¯æ˜¯ä»€ä¹ˆï¼Ÿ - invalid s çš„å›ç­”</a></p>
<h2 id="2-ç±»"><a href="#2-ç±»" class="headerlink" title="2. ç±»"></a>2. ç±»</h2><p>ä¸å¤§å¤šæ•°é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒJava ä½¿ç”¨ <code>class</code> ï¼ˆç±»ï¼‰å…³é”®å­—æ¥è¡¨ç¤ºè‡ªå®šä¹‰ç±»å‹ã€‚è‡ªå®šä¹‰ç±»å‹æ˜¯ä¸ºäº†æ›´å®¹æ˜“æŠ½è±¡ç°å®äº‹ç‰©ã€‚</p>
<p>åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œå¯ä»¥è®¾ç½®ä¸€é™ä¸€åŠ¨ä¸¤ç§å…ƒç´ ï¼šå±æ€§ï¼ˆé™ï¼‰å’Œæ–¹æ³•ï¼ˆåŠ¨ï¼‰ã€‚</p>
<ul>
<li><strong>å±æ€§ï¼ˆæœ‰çš„äººå–œæ¬¢ç§°ä¸ºæˆå‘˜ã€å­—æ®µï¼‰</strong> - å±æ€§æŠ½è±¡çš„æ˜¯äº‹ç‰©çš„çŠ¶æ€ã€‚ç±»å±æ€§å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å¯¹è±¡ã€‚</li>
<li><strong>æ–¹æ³•ï¼ˆæœ‰çš„äººå–œæ¬¢ç§°ä¸ºå‡½æ•°ï¼‰</strong> - æ–¹æ³•æŠ½è±¡çš„æ˜¯äº‹ç‰©çš„è¡Œä¸ºã€‚</li>
</ul>
<p>ç±»çš„å½¢å¼å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1552640231731.png" alt="img"></p>
<h2 id="3-æ–¹æ³•"><a href="#3-æ–¹æ³•" class="headerlink" title="3. æ–¹æ³•"></a>3. æ–¹æ³•</h2><h3 id="3-1-æ–¹æ³•å®šä¹‰"><a href="#3-1-æ–¹æ³•å®šä¹‰" class="headerlink" title="3.1. æ–¹æ³•å®šä¹‰"></a>3.1. æ–¹æ³•å®šä¹‰</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°ç±»å‹ å‚æ•°å)&#123;</span><br><span class="line">    ...</span><br><span class="line">    æ–¹æ³•ä½“</span><br><span class="line">    ...</span><br><span class="line">    return è¿”å›å€¼;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•åŒ…å«ä¸€ä¸ªæ–¹æ³•å¤´å’Œä¸€ä¸ªæ–¹æ³•ä½“ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ–¹æ³•çš„æ‰€æœ‰éƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>ä¿®é¥°ç¬¦ï¼š</strong>ä¿®é¥°ç¬¦ï¼Œè¿™æ˜¯å¯é€‰çš„ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•è°ƒç”¨è¯¥æ–¹æ³•ã€‚å®šä¹‰äº†è¯¥æ–¹æ³•çš„è®¿é—®ç±»å‹ã€‚</li>
<li><strong>è¿”å›å€¼ç±»å‹ ï¼š</strong>æ–¹æ³•å¯èƒ½æœ‰è¿”å›å€¼ã€‚å¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œè¿”å›å€¼ç±»å‹åº”è®¾ä¸º voidã€‚</li>
<li><strong>æ–¹æ³•åï¼š</strong>æ˜¯æ–¹æ³•çš„å®é™…åç§°ã€‚æ–¹æ³•åå’Œå‚æ•°è¡¨å…±åŒæ„æˆæ–¹æ³•ç­¾åã€‚</li>
<li><strong>å‚æ•°ç±»å‹ï¼š</strong>å‚æ•°åƒæ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚å½“æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¼ é€’å€¼ç»™å‚æ•°ã€‚è¿™ä¸ªå€¼è¢«ç§°ä¸ºå®å‚æˆ–å˜é‡ã€‚å‚æ•°åˆ—è¡¨æ˜¯æŒ‡æ–¹æ³•çš„å‚æ•°ç±»å‹ã€é¡ºåºå’Œå‚æ•°çš„ä¸ªæ•°ã€‚å‚æ•°æ˜¯å¯é€‰çš„ï¼Œæ–¹æ³•å¯ä»¥ä¸åŒ…å«ä»»ä½•å‚æ•°ã€‚</li>
<li><strong>æ–¹æ³•ä½“ï¼š</strong>æ–¹æ³•ä½“åŒ…å«å…·ä½“çš„è¯­å¥ï¼Œå®šä¹‰è¯¥æ–¹æ³•çš„åŠŸèƒ½ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-æ–¹æ³•è°ƒç”¨"><a href="#3-2-æ–¹æ³•è°ƒç”¨" class="headerlink" title="3.2. æ–¹æ³•è°ƒç”¨"></a>3.2. æ–¹æ³•è°ƒç”¨</h3><p>Java æ”¯æŒä¸¤ç§è°ƒç”¨æ–¹æ³•çš„æ–¹å¼ï¼Œæ ¹æ®æ–¹æ³•æ˜¯å¦è¿”å›å€¼æ¥é€‰æ‹©ã€‚</p>
<p>å½“ç¨‹åºè°ƒç”¨ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œç¨‹åºçš„æ§åˆ¶æƒäº¤ç»™äº†è¢«è°ƒç”¨çš„æ–¹æ³•ã€‚å½“è¢«è°ƒç”¨æ–¹æ³•çš„è¿”å›è¯­å¥æ‰§è¡Œæˆ–è€…åˆ°è¾¾æ–¹æ³•ä½“é—­æ‹¬å·æ—¶å€™äº¤è¿˜æ§åˆ¶æƒç»™ç¨‹åºã€‚</p>
<p>å½“æ–¹æ³•è¿”å›ä¸€ä¸ªå€¼çš„æ—¶å€™ï¼Œæ–¹æ³•è°ƒç”¨é€šå¸¸è¢«å½“åšä¸€ä¸ªå€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int larger = max(30, 40);</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ–¹æ³•è¿”å›å€¼æ˜¯ voidï¼Œæ–¹æ³•è°ƒç”¨ä¸€å®šæ˜¯ä¸€æ¡è¯­å¥ã€‚ä¾‹å¦‚ï¼Œæ–¹æ³• println è¿”å› voidã€‚ä¸‹é¢çš„è°ƒç”¨æ˜¯ä¸ªè¯­å¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">System.out.println(&quot;Hello World&quot;);</span><br></pre></td></tr></table></figure>

<h3 id="3-3-æ„é€ æ–¹æ³•"><a href="#3-3-æ„é€ æ–¹æ³•" class="headerlink" title="3.3. æ„é€ æ–¹æ³•"></a>3.3. æ„é€ æ–¹æ³•</h3><p>æ¯ä¸ªç±»éƒ½æœ‰æ„é€ æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼åœ°ä¸ºç±»å®šä¹‰ä»»ä½•æ„é€ æ–¹æ³•ï¼ŒJava ç¼–è¯‘å™¨å°†ä¼šä¸ºè¯¥ç±»æä¾›ä¸€ä¸ªé»˜è®¤æ„é€ æ–¹æ³•ã€‚</p>
<p>åœ¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œè‡³å°‘è¦è°ƒç”¨ä¸€ä¸ªæ„é€ æ–¹æ³•ã€‚æ„é€ æ–¹æ³•çš„åç§°å¿…é¡»ä¸ç±»åŒåï¼Œä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªæ„é€ æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Puppy</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Puppy</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Puppy</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="comment">// è¿™ä¸ªæ„é€ å™¨ä»…æœ‰ä¸€ä¸ªå‚æ•°ï¼šname</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-å˜é‡"><a href="#4-å˜é‡" class="headerlink" title="4. å˜é‡"></a>4. å˜é‡</h2><p>Java æ”¯æŒçš„å˜é‡ç±»å‹æœ‰ï¼š</p>
<ul>
<li><code>å±€éƒ¨å˜é‡</code> - ç±»æ–¹æ³•ä¸­çš„å˜é‡ã€‚</li>
<li><code>å®ä¾‹å˜é‡ï¼ˆä¹Ÿå«æˆå‘˜å˜é‡ï¼‰</code> - ç±»æ–¹æ³•å¤–çš„å˜é‡ï¼Œä¸è¿‡æ²¡æœ‰ <code>static</code> ä¿®é¥°ã€‚</li>
<li><code>ç±»å˜é‡ï¼ˆä¹Ÿå«é™æ€å˜é‡ï¼‰</code> - ç±»æ–¹æ³•å¤–çš„å˜é‡ï¼Œç”¨ <code>static</code> ä¿®é¥°ã€‚</li>
</ul>
<p>ç‰¹æ€§å¯¹æ¯”ï¼š</p>
<table>
<thead>
<tr>
<th>å±€éƒ¨å˜é‡</th>
<th>å®ä¾‹å˜é‡ï¼ˆä¹Ÿå«æˆå‘˜å˜é‡ï¼‰</th>
<th>ç±»å˜é‡ï¼ˆä¹Ÿå«é™æ€å˜é‡ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>å±€éƒ¨å˜é‡å£°æ˜åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—ä¸­ã€‚</td>
<td>å®ä¾‹å˜é‡å£°æ˜åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•å’Œè¯­å¥å—ä¹‹å¤–ã€‚</td>
<td>ç±»å˜é‡å£°æ˜åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•å’Œè¯­å¥å—ä¹‹å¤–ã€‚å¹¶ä¸”ä»¥ static ä¿®é¥°ã€‚</td>
</tr>
<tr>
<td>å±€éƒ¨å˜é‡åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•ã€æˆ–è€…è¯­å¥å—è¢«æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºï¼Œå½“å®ƒä»¬æ‰§è¡Œå®Œæˆåï¼Œå˜é‡å°†ä¼šè¢«é”€æ¯ã€‚</td>
<td>å®ä¾‹å˜é‡åœ¨å¯¹è±¡åˆ›å»ºçš„æ—¶å€™åˆ›å»ºï¼Œåœ¨å¯¹è±¡è¢«é”€æ¯çš„æ—¶å€™é”€æ¯ã€‚</td>
<td>ç±»å˜é‡åœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶åˆ›å»ºï¼Œåœ¨ç¨‹åºç»“æŸæ—¶é”€æ¯ã€‚</td>
</tr>
<tr>
<td>å±€éƒ¨å˜é‡æ²¡æœ‰é»˜è®¤å€¼ï¼Œæ‰€ä»¥å¿…é¡»ç»è¿‡åˆå§‹åŒ–ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚</td>
<td>å®ä¾‹å˜é‡å…·æœ‰é»˜è®¤å€¼ã€‚æ•°å€¼å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ 0ï¼Œå¸ƒå°”å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ falseï¼Œå¼•ç”¨ç±»å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ nullã€‚å˜é‡çš„å€¼å¯ä»¥åœ¨å£°æ˜æ—¶æŒ‡å®šï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­æŒ‡å®šã€‚</td>
<td>ç±»å˜é‡å…·æœ‰é»˜è®¤å€¼ã€‚æ•°å€¼å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ 0ï¼Œå¸ƒå°”å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ falseï¼Œå¼•ç”¨ç±»å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ nullã€‚å˜é‡çš„å€¼å¯ä»¥åœ¨å£°æ˜æ—¶æŒ‡å®šï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­æŒ‡å®šã€‚æ­¤å¤–ï¼Œé™æ€å˜é‡è¿˜å¯ä»¥åœ¨é™æ€è¯­å¥å—ä¸­åˆå§‹åŒ–ã€‚</td>
</tr>
<tr>
<td>å¯¹äºå±€éƒ¨å˜é‡ï¼Œå¦‚æœæ˜¯åŸºæœ¬ç±»å‹ï¼Œä¼šæŠŠå€¼ç›´æ¥å­˜å‚¨åœ¨æ ˆï¼›å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼šæŠŠå…¶å¯¹è±¡å­˜å‚¨åœ¨å †ï¼Œè€ŒæŠŠè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰å­˜å‚¨åœ¨æ ˆã€‚</td>
<td>å®ä¾‹å˜é‡å­˜å‚¨åœ¨å †ã€‚</td>
<td>ç±»å˜é‡å­˜å‚¨åœ¨é™æ€å­˜å‚¨åŒºã€‚</td>
</tr>
<tr>
<td>è®¿é—®ä¿®é¥°ç¬¦ä¸èƒ½ç”¨äºå±€éƒ¨å˜é‡ã€‚</td>
<td>è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ç”¨äºå®ä¾‹å˜é‡ã€‚</td>
<td>è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ç”¨äºç±»å˜é‡ã€‚</td>
</tr>
<tr>
<td>å±€éƒ¨å˜é‡åªåœ¨å£°æ˜å®ƒçš„æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—ä¸­å¯è§ã€‚</td>
<td>å®ä¾‹å˜é‡å¯¹äºç±»ä¸­çš„æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—æ˜¯å¯è§çš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹åº”è¯¥æŠŠå®ä¾‹å˜é‡è®¾ä¸ºç§æœ‰ã€‚é€šè¿‡ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä½¿å®ä¾‹å˜é‡å¯¹å­ç±»å¯è§ã€‚</td>
<td>ä¸å®ä¾‹å˜é‡å…·æœ‰ç›¸ä¼¼çš„å¯è§æ€§ã€‚ä½†ä¸ºäº†å¯¹ç±»çš„ä½¿ç”¨è€…å¯è§ï¼Œå¤§å¤šæ•°é™æ€å˜é‡å£°æ˜ä¸º public ç±»å‹ã€‚</td>
</tr>
<tr>
<td></td>
<td>å®ä¾‹å˜é‡å¯ä»¥ç›´æ¥é€šè¿‡å˜é‡åè®¿é—®ã€‚ä½†åœ¨é™æ€æ–¹æ³•ä»¥åŠå…¶ä»–ç±»ä¸­ï¼Œå°±åº”è¯¥ä½¿ç”¨å®Œå…¨é™å®šåï¼šObejectReference.VariableNameã€‚</td>
<td>é™æ€å˜é‡å¯ä»¥é€šè¿‡ï¼šClassName.VariableName çš„æ–¹å¼è®¿é—®ã€‚</td>
</tr>
<tr>
<td></td>
<td></td>
<td>æ— è®ºä¸€ä¸ªç±»åˆ›å»ºäº†å¤šå°‘ä¸ªå¯¹è±¡ï¼Œç±»åªæ‹¥æœ‰ç±»å˜é‡çš„ä¸€ä»½æ‹·è´ã€‚</td>
</tr>
<tr>
<td></td>
<td></td>
<td>ç±»å˜é‡é™¤äº†è¢«å£°æ˜ä¸ºå¸¸é‡å¤–å¾ˆå°‘ä½¿ç”¨ã€‚</td>
</tr>
</tbody></table>
<h3 id="4-1-å˜é‡ä¿®é¥°ç¬¦"><a href="#4-1-å˜é‡ä¿®é¥°ç¬¦" class="headerlink" title="4.1. å˜é‡ä¿®é¥°ç¬¦"></a>4.1. å˜é‡ä¿®é¥°ç¬¦</h3><ul>
<li>è®¿é—®çº§åˆ«ä¿®é¥°ç¬¦ - å¦‚æœå˜é‡æ˜¯å®ä¾‹å˜é‡æˆ–ç±»å˜é‡ï¼Œå¯ä»¥æ·»åŠ è®¿é—®çº§åˆ«ä¿®é¥°ç¬¦ï¼ˆpublic/protected/privateï¼‰</li>
<li>é™æ€ä¿®é¥°ç¬¦ - å¦‚æœå˜é‡æ˜¯ç±»å˜é‡ï¼Œéœ€è¦æ·»åŠ  static ä¿®é¥°</li>
<li>final - å¦‚æœå˜é‡ä½¿ç”¨ fianl ä¿®é¥°ç¬¦ï¼Œå°±è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸èƒ½è¢«ä¿®æ”¹ã€‚</li>
</ul>
<h3 id="4-2-åˆ›å»ºå¯¹è±¡"><a href="#4-2-åˆ›å»ºå¯¹è±¡" class="headerlink" title="4.2. åˆ›å»ºå¯¹è±¡"></a>4.2. åˆ›å»ºå¯¹è±¡</h3><p>å¯¹è±¡æ˜¯æ ¹æ®ç±»åˆ›å»ºçš„ã€‚åœ¨ Java ä¸­ï¼Œä½¿ç”¨å…³é”®å­— new æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚åˆ›å»ºå¯¹è±¡éœ€è¦ä»¥ä¸‹ä¸‰æ­¥ï¼š</p>
<ul>
<li><strong>å£°æ˜</strong>ï¼šå£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…æ‹¬å¯¹è±¡åç§°å’Œå¯¹è±¡ç±»å‹ã€‚</li>
<li><strong>å®ä¾‹åŒ–</strong>ï¼šä½¿ç”¨å…³é”®å­— new æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚</li>
<li><strong>åˆå§‹åŒ–</strong>ï¼šä½¿ç”¨ new åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä¼šè°ƒç”¨æ„é€ æ–¹æ³•åˆå§‹åŒ–å¯¹è±¡ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Puppy&#123;</span><br><span class="line">   public Puppy(String name)&#123;</span><br><span class="line">      //è¿™ä¸ªæ„é€ å™¨ä»…æœ‰ä¸€ä¸ªå‚æ•°ï¼šname</span><br><span class="line">      System.out.println(&quot;å°ç‹—çš„åå­—æ˜¯ : &quot; + name );</span><br><span class="line">   &#125;</span><br><span class="line">   public static void main(String[] args)&#123;</span><br><span class="line">      // ä¸‹é¢çš„è¯­å¥å°†åˆ›å»ºä¸€ä¸ªPuppyå¯¹è±¡</span><br><span class="line">      Puppy myPuppy = new Puppy( &quot;tommy&quot; );</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-è®¿é—®å®ä¾‹å˜é‡å’Œæ–¹æ³•"><a href="#4-3-è®¿é—®å®ä¾‹å˜é‡å’Œæ–¹æ³•" class="headerlink" title="4.3. è®¿é—®å®ä¾‹å˜é‡å’Œæ–¹æ³•"></a>4.3. è®¿é—®å®ä¾‹å˜é‡å’Œæ–¹æ³•</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* å®ä¾‹åŒ–å¯¹è±¡ */</span><br><span class="line">ObjectReference = new Constructor();</span><br><span class="line">/* è®¿é—®ç±»ä¸­çš„å˜é‡ */</span><br><span class="line">ObjectReference.variableName;</span><br><span class="line">/* è®¿é—®ç±»ä¸­çš„æ–¹æ³• */</span><br><span class="line">ObjectReference.methodName();</span><br></pre></td></tr></table></figure>

<h2 id="5-è®¿é—®æƒé™æ§åˆ¶"><a href="#5-è®¿é—®æƒé™æ§åˆ¶" class="headerlink" title="5. è®¿é—®æƒé™æ§åˆ¶"></a>5. è®¿é—®æƒé™æ§åˆ¶</h2><h3 id="5-1-ä»£ç ç»„ç»‡"><a href="#5-1-ä»£ç ç»„ç»‡" class="headerlink" title="5.1. ä»£ç ç»„ç»‡"></a>5.1. ä»£ç ç»„ç»‡</h3><p><strong>å½“ç¼–è¯‘ä¸€ä¸ª .java æ–‡ä»¶æ—¶ï¼Œåœ¨ .java æ–‡ä»¶ä¸­çš„æ¯ä¸ªç±»éƒ½ä¼šè¾“å‡ºä¸€ä¸ªä¸ç±»åŒåçš„ .class æ–‡ä»¶ã€‚</strong></p>
<p>MultiClassDemo.java ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MultiClass1</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MultiClass2</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MultiClass3</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MultiClassDemo</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ <code>javac MultiClassDemo.java</code> å‘½ä»¤ï¼Œæœ¬åœ°ä¼šç”Ÿæˆ MultiClass1.classã€MultiClass2.classã€MultiClass3.classã€MultiClassDemo.class å››ä¸ªæ–‡ä»¶ã€‚</p>
<p><strong>Java å¯è¿è¡Œç¨‹åºæ˜¯ç”±ä¸€ç»„ .class æ–‡ä»¶æ‰“åŒ…å¹¶å‹ç¼©æˆçš„ä¸€ä¸ª .jar æ–‡ä»¶</strong>ã€‚Java è§£é‡Šå™¨è´Ÿè´£è¿™äº›æ–‡ä»¶çš„æŸ¥æ‰¾ã€è£…è½½å’Œè§£é‡Šã€‚<strong>Java ç±»åº“å®é™…ä¸Šæ˜¯ä¸€ç»„ç±»æ–‡ä»¶ï¼ˆ.java æ–‡ä»¶ï¼‰ã€‚</strong></p>
<ul>
<li><strong>å…¶ä¸­æ¯ä¸ªæ–‡ä»¶å…è®¸æœ‰ä¸€ä¸ª public ç±»ï¼Œä»¥åŠä»»æ„æ•°é‡çš„é public ç±»</strong>ã€‚</li>
<li><strong>public ç±»åå¿…é¡»å’Œ .java æ–‡ä»¶åå®Œå…¨ç›¸åŒï¼ŒåŒ…æ‹¬å¤§å°å†™ã€‚</strong></li>
</ul>
<p>ç¨‹åºä¸€èˆ¬ä¸æ­¢ä¸€ä¸ªäººç¼–å†™ï¼Œä¼šè°ƒç”¨ç³»ç»Ÿæä¾›çš„ä»£ç ã€ç¬¬ä¸‰æ–¹åº“ä¸­çš„ä»£ç ã€é¡¹ç›®ä¸­å…¶ä»–äººå†™çš„ä»£ç ç­‰ï¼Œä¸åŒçš„äººå› ä¸ºä¸åŒçš„ç›®çš„å¯èƒ½å®šä¹‰åŒæ ·çš„ç±»å/æ¥å£åï¼Œè¿™å°±æ˜¯å‘½åå†²çªã€‚</p>
<p>Java ä¸­ä¸ºäº†è§£å†³å‘½åå†²çªé—®é¢˜ï¼Œæä¾›äº†åŒ…ï¼ˆ<code>package</code>ï¼‰å’Œå¯¼å…¥ï¼ˆ<code>import</code>ï¼‰æœºåˆ¶ã€‚</p>
<h4 id="package"><a href="#package" class="headerlink" title="package"></a>package</h4><p>åŒ…ï¼ˆ<code>package</code>ï¼‰çš„åŸåˆ™ï¼š</p>
<ul>
<li>åŒ…ç±»ä¼¼äºæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶æ”¾åœ¨æ–‡ä»¶å¤¹ä¸­ï¼Œç±»å’Œæ¥å£åˆ™æ”¾åœ¨åŒ…ä¸­ã€‚ä¸ºäº†ä¾¿äºç»„ç»‡ï¼Œæ–‡ä»¶å¤¹ä¸€èˆ¬æ˜¯ä¸€ä¸ª<strong>æœ‰å±‚æ¬¡çš„æ ‘å½¢ç»“æ„</strong>ï¼ŒåŒ…ä¹Ÿç±»ä¼¼ã€‚</li>
<li><strong>åŒ…åä»¥é€—å· <code>.</code> åˆ†éš”ï¼Œè¡¨ç¤ºå±‚æ¬¡ç»“æ„ã€‚</strong></li>
<li>Java ä¸­å‘½ååŒ…åçš„ä¸€ä¸ªæƒ¯ä¾‹æ˜¯ä½¿ç”¨åŸŸåä½œä¸ºå‰ç¼€ï¼Œå› ä¸ºåŸŸåæ˜¯å”¯ä¸€çš„ï¼Œä¸€èˆ¬æŒ‰ç…§åŸŸåçš„ååºæ¥å®šä¹‰åŒ…åï¼Œæ¯”å¦‚ï¼ŒåŸŸåæ˜¯ï¼šapache.orgï¼ŒåŒ…åå°±ä»¥ org.apache å¼€å¤´ã€‚</li>
<li><strong>åŒ…åå’Œæ–‡ä»¶ç›®å½•ç»“æ„å¿…é¡»å®Œå…¨åŒ¹é…ã€‚</strong>Java è§£é‡Šå™¨è¿è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š<ul>
<li>æ‰¾å‡ºç¯å¢ƒå˜é‡ CLASSPATHï¼Œä½œä¸º .class æ–‡ä»¶çš„æ ¹ç›®å½•ã€‚</li>
<li>ä»æ ¹ç›®å½•å¼€å§‹ï¼Œè·å–åŒ…åç§°ï¼Œå¹¶å°†é€—å· <code>.</code> æ›¿æ¢ä¸ºæ–‡ä»¶åˆ†éš”ç¬¦ï¼ˆåæ–œæ  <code>/</code>ï¼‰ï¼Œé€šè¿‡è¿™ä¸ªè·¯å¾„åç§°å»æŸ¥æ‰¾ Java ç±»ã€‚</li>
</ul>
</li>
</ul>
<h4 id="import"><a href="#import" class="headerlink" title="import"></a>import</h4><p>åŒä¸€ä¸ªåŒ…ä¸‹çš„ç±»ä¹‹é—´äº’ç›¸å¼•ç”¨æ˜¯ä¸éœ€è¦åŒ…åçš„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ä½†å¦‚æœç±»ä¸åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œåˆ™å¿…é¡»è¦çŸ¥é“å…¶æ‰€åœ¨çš„åŒ…ï¼Œä½¿ç”¨æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>é€šè¿‡ç±»çš„å®Œå…¨é™å®šå</li>
<li>é€šè¿‡ import å°†ç”¨åˆ°çš„ç±»å¼•å…¥åˆ°å½“å‰ç±»</li>
</ul>
<p>é€šè¿‡ç±»çš„å®Œå…¨é™å®šåç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PackageDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="keyword">new</span> java.util.Date());</span><br><span class="line">        System.out.println(<span class="keyword">new</span> java.util.Date());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>import</code> å¯¼å…¥å…¶å®ƒåŒ…çš„ç±»åˆ°å½“å‰ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PackageDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="keyword">new</span> Date());</span><br><span class="line">        System.out.println(<span class="keyword">new</span> Date());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼šä»¥ä¸Šä¸¤ä¸ªç¤ºä¾‹æ¯”è¾ƒèµ·æ¥ï¼Œæ˜¾ç„¶æ˜¯ <code>import</code> æ–¹å¼ï¼Œä»£ç æ›´åŠ æ•´æ´ã€‚</p>
</blockquote>
<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š<a href="https://www.cnblogs.com/swiftma/p/5628762.html">https://www.cnblogs.com/swiftma/p/5628762.html</a></p>
</blockquote>
<h3 id="5-2-è®¿é—®æƒé™ä¿®é¥°å…³é”®å­—"><a href="#5-2-è®¿é—®æƒé™ä¿®é¥°å…³é”®å­—" class="headerlink" title="5.2. è®¿é—®æƒé™ä¿®é¥°å…³é”®å­—"></a>5.2. è®¿é—®æƒé™ä¿®é¥°å…³é”®å­—</h3><p>è®¿é—®æƒé™æ§åˆ¶çš„ç­‰çº§ï¼Œä»æœ€å¤§æƒé™åˆ°æœ€å°æƒé™ä¾æ¬¡ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public &gt; protected &gt; åŒ…è®¿é—®æƒé™ï¼ˆæ²¡æœ‰ä»»ä½•å…³é”®å­—ï¼‰&gt; private</span><br></pre></td></tr></table></figure>

<ul>
<li><code>public</code> - è¡¨ç¤ºä»»ä½•ç±»éƒ½å¯ä»¥è®¿é—®ï¼›</li>
<li><code>åŒ…è®¿é—®æƒé™</code> - åŒ…è®¿é—®æƒé™ï¼Œæ²¡æœ‰ä»»ä½•å…³é”®å­—ã€‚å®ƒè¡¨ç¤ºå½“å‰åŒ…ä¸­çš„æ‰€æœ‰å…¶ä»–ç±»éƒ½å¯ä»¥è®¿é—®ï¼Œä½†æ˜¯å…¶å®ƒåŒ…çš„ç±»æ— æ³•è®¿é—®ã€‚</li>
<li><code>protected</code> - è¡¨ç¤ºå­ç±»å¯ä»¥è®¿é—®ï¼Œæ­¤å¤–ï¼ŒåŒä¸€ä¸ªåŒ…å†…çš„å…¶ä»–ç±»ä¹Ÿå¯ä»¥è®¿é—®ï¼Œå³ä½¿è¿™äº›ç±»ä¸æ˜¯å­ç±»ã€‚</li>
<li><code>private</code> - è¡¨ç¤ºå…¶å®ƒä»»ä½•ç±»éƒ½æ— æ³•è®¿é—®ã€‚</li>
</ul>
<h2 id="6-æ¥å£"><a href="#6-æ¥å£" class="headerlink" title="6. æ¥å£"></a>6. æ¥å£</h2><p>æ¥å£æ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œå®ƒæ˜¯æŠ½è±¡æ–¹æ³•çš„é›†åˆï¼Œåˆ©ç”¨æ¥å£å¯ä»¥è¾¾åˆ° API å®šä¹‰å’Œå®ç°åˆ†ç¦»çš„ç›®çš„ã€‚</p>
<p>æ¥å£ï¼Œä¸èƒ½å®ä¾‹åŒ–ï¼›ä¸èƒ½åŒ…å«ä»»ä½•éå¸¸é‡æˆå‘˜ï¼Œä»»ä½• field éƒ½æ˜¯éšå«ç€ <code>public static final</code> çš„æ„ä¹‰ï¼›åŒæ—¶ï¼Œæ²¡æœ‰éé™æ€æ–¹æ³•å®ç°ï¼Œä¹Ÿå°±æ˜¯è¯´è¦ä¹ˆæ˜¯æŠ½è±¡æ–¹æ³•ï¼Œè¦ä¹ˆæ˜¯é™æ€æ–¹æ³•ã€‚</p>
<p>Java æ ‡å‡†ç±»åº“ä¸­ï¼Œå®šä¹‰äº†éå¸¸å¤šçš„æ¥å£ï¼Œæ¯”å¦‚ <code>java.util.List</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(T o)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-æŠ½è±¡ç±»"><a href="#7-æŠ½è±¡ç±»" class="headerlink" title="7. æŠ½è±¡ç±»"></a>7. æŠ½è±¡ç±»</h2><p>æŠ½è±¡ç±»æ˜¯ä¸èƒ½å®ä¾‹åŒ–çš„ç±»ï¼Œç”¨ <code>abstract</code> å…³é”®å­—ä¿®é¥° <code>class</code>ï¼Œå…¶ç›®çš„ä¸»è¦æ˜¯ä»£ç é‡ç”¨ã€‚é™¤äº†ä¸èƒ½å®ä¾‹åŒ–ï¼Œå½¢å¼ä¸Šå’Œä¸€èˆ¬çš„ Java ç±»å¹¶æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ã€‚æŠ½è±¡ç±»å¤§å¤šç”¨äºæŠ½å–ç›¸å…³ Java ç±»çš„å…±ç”¨æ–¹æ³•å®ç°æˆ–è€…æ˜¯å…±åŒæˆå‘˜å˜é‡ï¼Œç„¶åé€šè¿‡ç»§æ‰¿çš„æ–¹å¼è¾¾åˆ°ä»£ç å¤ç”¨çš„ç›®çš„ã€‚</p>
<p>Java æ ‡å‡†åº“ä¸­ï¼Œæ¯”å¦‚ <code>collection</code> æ¡†æ¶ï¼Œå¾ˆå¤šé€šç”¨éƒ¨åˆ†å°±è¢«æŠ½å–æˆä¸ºæŠ½è±¡ç±»ï¼Œä¾‹å¦‚ <code>java.util.AbstractList</code>ã€‚</p>
<ol>
<li>æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–(åˆå­¦è€…å¾ˆå®¹æ˜“çŠ¯çš„é”™)ï¼Œå¦‚æœè¢«å®ä¾‹åŒ–ï¼Œå°±ä¼šæŠ¥é”™ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡ã€‚åªæœ‰æŠ½è±¡ç±»çš„éæŠ½è±¡å­ç±»å¯ä»¥åˆ›å»ºå¯¹è±¡ã€‚</li>
<li>æŠ½è±¡ç±»ä¸­ä¸ä¸€å®šåŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…å®šæ˜¯æŠ½è±¡ç±»ã€‚</li>
<li>æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•åªæ˜¯å£°æ˜ï¼Œä¸åŒ…å«æ–¹æ³•ä½“ï¼Œå°±æ˜¯ä¸ç»™å‡ºæ–¹æ³•çš„å…·ä½“å®ç°ä¹Ÿå°±æ˜¯æ–¹æ³•çš„å…·ä½“åŠŸèƒ½ã€‚</li>
<li>æ„é€ æ–¹æ³•ï¼Œç±»æ–¹æ³•ï¼ˆç”¨ static ä¿®é¥°çš„æ–¹æ³•ï¼‰ä¸èƒ½å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ã€‚</li>
<li>æŠ½è±¡ç±»çš„å­ç±»å¿…é¡»ç»™å‡ºæŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•çš„å…·ä½“å®ç°ï¼Œé™¤éè¯¥å­ç±»ä¹Ÿæ˜¯æŠ½è±¡ç±»ã€‚</li>
</ol>
<h2 id="8-å‚è€ƒèµ„æ–™"><a href="#8-å‚è€ƒèµ„æ–™" class="headerlink" title="8. å‚è€ƒèµ„æ–™"></a>8. å‚è€ƒèµ„æ–™</h2><ul>
<li>ä¹¦ç±<ul>
<li><a href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
<li><a href="https://book.douban.com/subject/4496038/">Head First Java</a></li>
</ul>
</li>
<li>æ–‡ç« <ul>
<li><a href="https://www.zhihu.com/question/20275578/answer/26577791">é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å¼Šç«¯æ˜¯ä»€ä¹ˆï¼Ÿ - invalid s çš„å›ç­”</a></li>
<li><a href="https://www.cnblogs.com/swiftma/p/5628762.html">https://www.cnblogs.com/swiftma/p/5628762.html</a></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>oop</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥ç†è§£ Java String ç±»å‹</title>
    <url>/2021/12/06/java-string/</url>
    <content><![CDATA[<h1 id="æ·±å…¥ç†è§£-Java-String-ç±»å‹"><a href="#æ·±å…¥ç†è§£-Java-String-ç±»å‹" class="headerlink" title="æ·±å…¥ç†è§£ Java String ç±»å‹"></a>æ·±å…¥ç†è§£ Java String ç±»å‹</h1><blockquote>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
<p>String ç±»å‹å¯èƒ½æ˜¯ Java ä¸­åº”ç”¨æœ€é¢‘ç¹çš„å¼•ç”¨ç±»å‹ï¼Œä½†å®ƒçš„æ€§èƒ½é—®é¢˜å´å¸¸å¸¸è¢«å¿½ç•¥ã€‚é«˜æ•ˆçš„ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œå¯ä»¥æå‡ç³»ç»Ÿçš„æ•´ä½“æ€§èƒ½ã€‚å½“ç„¶ï¼Œè¦åšåˆ°é«˜æ•ˆä½¿ç”¨å­—ç¬¦ä¸²ï¼Œéœ€è¦æ·±å…¥äº†è§£å…¶ç‰¹æ€§ã€‚</p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-string-%E7%9A%84%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%80%A7">1. String çš„ä¸å¯å˜æ€§</a></li>
<li><a href="#2-string-%E7%9A%84%E6%80%A7%E8%83%BD%E8%80%83%E9%87%8F">2. String çš„æ€§èƒ½è€ƒé‡</a><ul>
<li><a href="#21-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5">2.1. å­—ç¬¦ä¸²æ‹¼æ¥</a></li>
<li><a href="#22-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%86%E5%89%B2">2.2. å­—ç¬¦ä¸²åˆ†å‰²</a></li>
<li><a href="#23-stringintern">2.3. String.intern</a></li>
</ul>
</li>
<li><a href="#3-stringstringbufferstringbuilder-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB">3. Stringã€StringBufferã€StringBuilder æœ‰ä»€ä¹ˆåŒºåˆ«</a></li>
<li><a href="#4-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">4. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-String-çš„ä¸å¯å˜æ€§"><a href="#1-String-çš„ä¸å¯å˜æ€§" class="headerlink" title="1. String çš„ä¸å¯å˜æ€§"></a>1. String çš„ä¸å¯å˜æ€§</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ <code>String</code> çš„å®šä¹‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">String</span></span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>, <span class="title">Comparable</span>&lt;<span class="title">String</span>&gt;, <span class="title">CharSequence</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** The value is used for character storage. */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">char</span> value[];</span><br></pre></td></tr></table></figure>

<p><code>String</code> ç±»è¢« <code>final</code> å…³é”®å­—ä¿®é¥°ï¼Œè¡¨ç¤º<strong>ä¸å¯ç»§æ‰¿ <code>String</code> ç±»</strong>ã€‚</p>
<p><code>String</code> ç±»çš„æ•°æ®å­˜å‚¨äº <code>char[]</code> æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„è¢« <code>final</code> å…³é”®å­—ä¿®é¥°ï¼Œè¡¨ç¤º <strong><code>String</code> å¯¹è±¡ä¸å¯è¢«æ›´æ”¹</strong>ã€‚</p>
<p>ä¸ºä»€ä¹ˆ Java è¦è¿™æ ·è®¾è®¡ï¼Ÿ</p>
<p>ï¼ˆ1ï¼‰<strong>ä¿è¯ String å¯¹è±¡å®‰å…¨æ€§</strong>ã€‚é¿å… String è¢«ç¯¡æ”¹ã€‚</p>
<p>ï¼ˆ2ï¼‰<strong>ä¿è¯ hash å€¼ä¸ä¼šé¢‘ç¹å˜æ›´</strong>ã€‚</p>
<p>ï¼ˆ3ï¼‰<strong>å¯ä»¥å®ç°å­—ç¬¦ä¸²å¸¸é‡æ± </strong>ã€‚é€šå¸¸æœ‰ä¸¤ç§åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡å­—ç¬¦ä¸²å¸¸é‡çš„æ–¹å¼åˆ›å»ºï¼Œå¦‚ <code>String str=&quot;abc&quot;;</code> å¦ä¸€ç§æ˜¯å­—ç¬¦ä¸²å˜é‡é€šè¿‡ new å½¢å¼çš„åˆ›å»ºï¼Œå¦‚ <code>String str = new String(&quot;abc&quot;)</code>ã€‚</p>
<p>ä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡æ—¶ï¼ŒJVM é¦–å…ˆä¼šæ£€æŸ¥è¯¥å¯¹è±¡æ˜¯å¦åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œå¦‚æœåœ¨ï¼Œå°±è¿”å›è¯¥å¯¹è±¡å¼•ç”¨ï¼Œå¦åˆ™æ–°çš„å­—ç¬¦ä¸²å°†åœ¨å¸¸é‡æ± ä¸­è¢«åˆ›å»ºã€‚è¿™ç§æ–¹å¼å¯ä»¥å‡å°‘åŒä¸€ä¸ªå€¼çš„å­—ç¬¦ä¸²å¯¹è±¡çš„é‡å¤åˆ›å»ºï¼ŒèŠ‚çº¦å†…å­˜ã€‚</p>
<p><code>String str = new String(&quot;abc&quot;)</code> è¿™ç§æ–¹å¼ï¼Œé¦–å…ˆåœ¨ç¼–è¯‘ç±»æ–‡ä»¶æ—¶ï¼Œ<code>&quot;abc&quot;</code> å¸¸é‡å­—ç¬¦ä¸²å°†ä¼šæ”¾å…¥åˆ°å¸¸é‡ç»“æ„ä¸­ï¼Œåœ¨ç±»åŠ è½½æ—¶ï¼Œ<code>&quot;abc&quot;</code> å°†ä¼šåœ¨å¸¸é‡æ± ä¸­åˆ›å»ºï¼›å…¶æ¬¡ï¼Œåœ¨è°ƒç”¨ new æ—¶ï¼ŒJVM å‘½ä»¤å°†ä¼šè°ƒç”¨ <code>String</code> çš„æ„é€ å‡½æ•°ï¼ŒåŒæ—¶å¼•ç”¨å¸¸é‡æ± ä¸­çš„ <code>&quot;abc&quot;</code> å­—ç¬¦ä¸²ï¼Œåœ¨å †å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ª <code>String</code> å¯¹è±¡ï¼›æœ€åï¼Œstr å°†å¼•ç”¨ <code>String</code> å¯¹è±¡ã€‚</p>
<h2 id="2-String-çš„æ€§èƒ½è€ƒé‡"><a href="#2-String-çš„æ€§èƒ½è€ƒé‡" class="headerlink" title="2. String çš„æ€§èƒ½è€ƒé‡"></a>2. String çš„æ€§èƒ½è€ƒé‡</h2><h3 id="2-1-å­—ç¬¦ä¸²æ‹¼æ¥"><a href="#2-1-å­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="2.1. å­—ç¬¦ä¸²æ‹¼æ¥"></a>2.1. å­—ç¬¦ä¸²æ‹¼æ¥</h3><p><strong>å­—ç¬¦ä¸²å¸¸é‡çš„æ‹¼æ¥ï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶ä¼˜åŒ–ä¸ºä¸€ä¸ªå¸¸é‡å­—ç¬¦ä¸²</strong>ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘å­—ç¬¦ä¸²å¸¸é‡æ‹¼æ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æœ¬è¡Œä»£ç åœ¨ class æ–‡ä»¶ä¸­ï¼Œä¼šè¢«ç¼–è¯‘å™¨ç›´æ¥ä¼˜åŒ–ä¸ºï¼š</span></span><br><span class="line">    <span class="comment">// String str = &quot;abc&quot;;</span></span><br><span class="line">    String str = <span class="string">&quot;a&quot;</span> + <span class="string">&quot;b&quot;</span> + <span class="string">&quot;c&quot;</span>;</span><br><span class="line">    System.out.println(<span class="string">&quot;str = &quot;</span> + str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å­—ç¬¦ä¸²å˜é‡çš„æ‹¼æ¥ï¼Œç¼–è¯‘å™¨ä¼šä¼˜åŒ–æˆ <code>StringBuilder</code> çš„æ–¹å¼</strong>ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘å­—ç¬¦ä¸²å˜é‡çš„æ‹¼æ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">1000</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// æœ¬è¡Œä»£ç ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–ä¸ºï¼š</span></span><br><span class="line">        <span class="comment">// str = (new StringBuilder(String.valueOf(str))).append(i).toString();</span></span><br><span class="line">        str = str + i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œæ¯æ¬¡å¾ªç¯éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ <code>StringBuilder</code> å®ä¾‹ï¼ŒåŒæ ·ä¹Ÿä¼šé™ä½ç³»ç»Ÿçš„æ€§èƒ½ã€‚</p>
<p>å­—ç¬¦ä¸²æ‹¼æ¥çš„æ­£ç¡®æ–¹æ¡ˆï¼š</p>
<ul>
<li>å¦‚æœéœ€è¦ä½¿ç”¨<strong>å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œåº”è¯¥ä¼˜å…ˆè€ƒè™‘ <code>StringBuilder</code> çš„ <code>append</code> æ–¹æ³•æ›¿ä»£ä½¿ç”¨ <code>+</code> å·</strong>ã€‚</li>
<li>å¦‚æœåœ¨å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œ<code>String</code> å¯¹è±¡çš„æ‹¼æ¥æ¶‰åŠåˆ°çº¿ç¨‹å®‰å…¨ï¼Œå¯ä»¥ä½¿ç”¨ <code>StringBuffer</code>ã€‚ä½†æ˜¯è¦æ³¨æ„ï¼Œç”±äº <code>StringBuffer</code> æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ¶‰åŠåˆ°é”ç«äº‰ï¼Œæ‰€ä»¥ä»æ€§èƒ½ä¸Šæ¥è¯´ï¼Œè¦æ¯” <code>StringBuilder</code> å·®ä¸€äº›ã€‚</li>
</ul>
<h3 id="2-2-å­—ç¬¦ä¸²åˆ†å‰²"><a href="#2-2-å­—ç¬¦ä¸²åˆ†å‰²" class="headerlink" title="2.2. å­—ç¬¦ä¸²åˆ†å‰²"></a>2.2. å­—ç¬¦ä¸²åˆ†å‰²</h3><p><strong><code>String</code> çš„ <code>split()</code> æ–¹æ³•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å®ç°å…¶å¼ºå¤§çš„åˆ†å‰²åŠŸèƒ½</strong>ã€‚è€Œæ­£åˆ™è¡¨è¾¾å¼çš„æ€§èƒ½æ˜¯éå¸¸ä¸ç¨³å®šçš„ï¼Œä½¿ç”¨ä¸æ°å½“ä¼šå¼•èµ·å›æº¯é—®é¢˜ï¼Œå¾ˆå¯èƒ½å¯¼è‡´ CPU å±…é«˜ä¸ä¸‹ã€‚</p>
<p>æ‰€ä»¥ï¼Œåº”è¯¥æ…é‡ä½¿ç”¨ <code>split()</code> æ–¹æ³•ï¼Œ<strong>å¯ä»¥è€ƒè™‘ç”¨ <code>String.indexOf()</code> æ–¹æ³•ä»£æ›¿ <code>split()</code> æ–¹æ³•å®Œæˆå­—ç¬¦ä¸²çš„åˆ†å‰²</strong>ã€‚å¦‚æœå®åœ¨æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œä½ å°±åœ¨ä½¿ç”¨ Split() æ–¹æ³•æ—¶ï¼Œå¯¹å›æº¯é—®é¢˜åŠ ä»¥é‡è§†å°±å¯ä»¥äº†ã€‚</p>
<h3 id="2-3-String-intern"><a href="#2-3-String-intern" class="headerlink" title="2.3. String.intern"></a>2.3. String.intern</h3><p><strong>åœ¨æ¯æ¬¡èµ‹å€¼çš„æ—¶å€™ä½¿ç”¨ <code>String</code> çš„ <code>intern</code> æ–¹æ³•ï¼Œå¦‚æœå¸¸é‡æ± ä¸­æœ‰ç›¸åŒå€¼ï¼Œå°±ä¼šé‡å¤ä½¿ç”¨è¯¥å¯¹è±¡ï¼Œè¿”å›å¯¹è±¡å¼•ç”¨ï¼Œè¿™æ ·ä¸€å¼€å§‹çš„å¯¹è±¡å°±å¯ä»¥è¢«å›æ”¶æ‰</strong>ã€‚</p>
<p>åœ¨å­—ç¬¦ä¸²å¸¸é‡ä¸­ï¼Œé»˜è®¤ä¼šå°†å¯¹è±¡æ”¾å…¥å¸¸é‡æ± ï¼›åœ¨å­—ç¬¦ä¸²å˜é‡ä¸­ï¼Œå¯¹è±¡æ˜¯ä¼šåˆ›å»ºåœ¨å †å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿä¼šåœ¨å¸¸é‡æ± ä¸­åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå¤åˆ¶åˆ°å †å†…å­˜å¯¹è±¡ä¸­ï¼Œå¹¶è¿”å›å †å†…å­˜å¯¹è±¡å¼•ç”¨ã€‚</p>
<p>å¦‚æœè°ƒç”¨ <code>intern</code> æ–¹æ³•ï¼Œä¼šå»æŸ¥çœ‹å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ˜¯å¦æœ‰ç­‰äºè¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±åœ¨å¸¸é‡æ± ä¸­æ–°å¢è¯¥å¯¹è±¡ï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡å¼•ç”¨ï¼›å¦‚æœæœ‰ï¼Œå°±è¿”å›å¸¸é‡æ± ä¸­çš„å­—ç¬¦ä¸²å¼•ç”¨ã€‚å †å†…å­˜ä¸­åŸæœ‰çš„å¯¹è±¡ç”±äºæ²¡æœ‰å¼•ç”¨æŒ‡å‘å®ƒï¼Œå°†ä¼šé€šè¿‡åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SharedLocation</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> String city;</span><br><span class="line">	<span class="keyword">private</span> String region;</span><br><span class="line">	<span class="keyword">private</span> String countryCode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SharedLocation sharedLocation = <span class="keyword">new</span> SharedLocation();</span><br><span class="line">sharedLocation.setCity(messageInfo.getCity().intern());		sharedLocation.setCountryCode(messageInfo.getRegion().intern());</span><br><span class="line">sharedLocation.setRegion(messageInfo.getCountryCode().intern());</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä½¿ç”¨ <code>intern</code> æ–¹æ³•éœ€è¦æ³¨æ„ï¼šä¸€å®šè¦ç»“åˆå®é™…åœºæ™¯ã€‚å› ä¸ºå¸¸é‡æ± çš„å®ç°æ˜¯ç±»ä¼¼äºä¸€ä¸ª HashTable çš„å®ç°æ–¹å¼ï¼ŒHashTable å­˜å‚¨çš„æ•°æ®è¶Šå¤§ï¼Œéå†çš„æ—¶é—´å¤æ‚åº¦å°±ä¼šå¢åŠ ã€‚å¦‚æœæ•°æ®è¿‡å¤§ï¼Œä¼šå¢åŠ æ•´ä¸ªå­—ç¬¦ä¸²å¸¸é‡æ± çš„è´Ÿæ‹…ã€‚</p>
</blockquote>
<h2 id="3-Stringã€StringBufferã€StringBuilder-æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#3-Stringã€StringBufferã€StringBuilder-æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="3. Stringã€StringBufferã€StringBuilder æœ‰ä»€ä¹ˆåŒºåˆ«"></a>3. Stringã€StringBufferã€StringBuilder æœ‰ä»€ä¹ˆåŒºåˆ«</h2><p><code>String</code> æ˜¯ Java è¯­è¨€éå¸¸åŸºç¡€å’Œé‡è¦çš„ç±»ï¼Œæä¾›äº†æ„é€ å’Œç®¡ç†å­—ç¬¦ä¸²çš„å„ç§åŸºæœ¬é€»è¾‘ã€‚å®ƒæ˜¯å…¸å‹çš„ <code>Immutable</code> ç±»ï¼Œè¢«å£°æ˜æˆä¸º <code>final class</code>ï¼Œæ‰€æœ‰å±æ€§ä¹Ÿéƒ½æ˜¯ <code>final</code> çš„ã€‚ä¹Ÿç”±äºå®ƒçš„ä¸å¯å˜æ€§ï¼Œç±»ä¼¼æ‹¼æ¥ã€è£å‰ªå­—ç¬¦ä¸²ç­‰åŠ¨ä½œï¼Œéƒ½ä¼šäº§ç”Ÿæ–°çš„ <code>String</code> å¯¹è±¡ã€‚ç”±äºå­—ç¬¦ä¸²æ“ä½œçš„æ™®éæ€§ï¼Œæ‰€ä»¥ç›¸å…³æ“ä½œçš„æ•ˆç‡å¾€å¾€å¯¹åº”ç”¨æ€§èƒ½æœ‰æ˜æ˜¾å½±å“ã€‚</p>
<p><code>StringBuffer</code> æ˜¯ä¸ºè§£å†³ä¸Šé¢æåˆ°æ‹¼æ¥äº§ç”Ÿå¤ªå¤šä¸­é—´å¯¹è±¡çš„é—®é¢˜è€Œæä¾›çš„ä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>append</code> æˆ–è€… <code>add</code> æ–¹æ³•ï¼ŒæŠŠå­—ç¬¦ä¸²æ·»åŠ åˆ°å·²æœ‰åºåˆ—çš„æœ«å°¾æˆ–è€…æŒ‡å®šä½ç½®ã€‚<code>StringBuffer</code> æ˜¯ä¸€ä¸ª<strong>çº¿ç¨‹å®‰å…¨çš„</strong>å¯ä¿®æ”¹å­—ç¬¦åºåˆ—ã€‚<code>StringBuffer</code> çš„çº¿ç¨‹å®‰å…¨æ˜¯é€šè¿‡åœ¨å„ç§ä¿®æ”¹æ•°æ®çš„æ–¹æ³•ä¸Šç”¨ <code>synchronized</code> å…³é”®å­—ä¿®é¥°å®ç°çš„ã€‚</p>
<p><code>StringBuilder</code> æ˜¯ Java 1.5 ä¸­æ–°å¢çš„ï¼Œåœ¨èƒ½åŠ›ä¸Šå’Œ StringBuffer æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œä½†æ˜¯å®ƒå»æ‰äº†çº¿ç¨‹å®‰å…¨çš„éƒ¨åˆ†ï¼Œæœ‰æ•ˆå‡å°äº†å¼€é”€ï¼Œæ˜¯ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥çš„é¦–é€‰ã€‚</p>
<p><code>StringBuffer</code> å’Œ <code>StringBuilder</code> åº•å±‚éƒ½æ˜¯åˆ©ç”¨å¯ä¿®æ”¹çš„ï¼ˆcharï¼ŒJDK 9 ä»¥åæ˜¯ byteï¼‰æ•°ç»„ï¼ŒäºŒè€…éƒ½ç»§æ‰¿äº† <code>AbstractStringBuilder</code>ï¼Œé‡Œé¢åŒ…å«äº†åŸºæœ¬æ“ä½œï¼ŒåŒºåˆ«ä»…åœ¨äºæœ€ç»ˆçš„æ–¹æ³•æ˜¯å¦åŠ äº† <code>synchronized</code>ã€‚æ„å»ºæ—¶åˆå§‹å­—ç¬¦ä¸²é•¿åº¦åŠ  16ï¼ˆè¿™æ„å‘³ç€ï¼Œå¦‚æœæ²¡æœ‰æ„å»ºå¯¹è±¡æ—¶è¾“å…¥æœ€åˆçš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆåˆå§‹å€¼å°±æ˜¯ 16ï¼‰ã€‚æˆ‘ä»¬å¦‚æœç¡®å®šæ‹¼æ¥ä¼šå‘ç”Ÿéå¸¸å¤šæ¬¡ï¼Œè€Œä¸”å¤§æ¦‚æ˜¯å¯é¢„è®¡çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŒ‡å®šåˆé€‚çš„å¤§å°ï¼Œé¿å…å¾ˆå¤šæ¬¡æ‰©å®¹çš„å¼€é”€ã€‚æ‰©å®¹ä¼šäº§ç”Ÿå¤šé‡å¼€é”€ï¼Œå› ä¸ºè¦æŠ›å¼ƒåŸæœ‰æ•°ç»„ï¼Œåˆ›å»ºæ–°çš„ï¼ˆå¯ä»¥ç®€å•è®¤ä¸ºæ˜¯å€æ•°ï¼‰æ•°ç»„ï¼Œè¿˜è¦è¿›è¡Œ <code>arraycopy</code>ã€‚</p>
<p>**é™¤éæœ‰çº¿ç¨‹å®‰å…¨çš„éœ€è¦ï¼Œä¸ç„¶ä¸€èˆ¬éƒ½ä½¿ç”¨ <code>StringBuilder</code>**ã€‚</p>
<h2 id="4-å‚è€ƒèµ„æ–™"><a href="#4-å‚è€ƒèµ„æ–™" class="headerlink" title="4. å‚è€ƒèµ„æ–™"></a>4. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">ã€ŠJava ç¼–ç¨‹æ€æƒ³ï¼ˆThinking in javaï¼‰ã€‹</a></li>
<li><a href="https://book.douban.com/subject/26880667/">ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· I åŸºç¡€çŸ¥è¯†ã€‹</a></li>
<li><a href="https://time.geekbang.org/column/intro/100028001">ã€ŠJava æ€§èƒ½è°ƒä¼˜å®æˆ˜ã€‹</a></li>
<li><a href="https://time.geekbang.org/column/intro/82">ã€ŠJava æ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®²ã€‹</a></li>
<li><a href="https://juejin.im/post/59cd71835188255d3448faf6">Java åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨ç±»å‹</a></li>
<li><a href="https://www.cnblogs.com/dolphin0520/p/3780005.html">æ·±å…¥å‰–æ Java ä¸­çš„è£…ç®±å’Œæ‹†ç®±</a></li>
</ul>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>å­—ç¬¦ä¸²</tag>
        <tag>String</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdownå­¦ä¹ ç¬”è®°</title>
    <url>/2021/12/04/%E5%AD%A6%E4%B9%A0markdown/</url>
    <content><![CDATA[<h1 id="æ ‡é¢˜1"><a href="#æ ‡é¢˜1" class="headerlink" title="æ ‡é¢˜1"></a>æ ‡é¢˜1</h1><h2 id="æ ‡é¢˜2"><a href="#æ ‡é¢˜2" class="headerlink" title="æ ‡é¢˜2"></a>æ ‡é¢˜2</h2><h3 id="æ ‡é¢˜3"><a href="#æ ‡é¢˜3" class="headerlink" title="æ ‡é¢˜3"></a>æ ‡é¢˜3</h3><h4 id="æ ‡é¢˜4"><a href="#æ ‡é¢˜4" class="headerlink" title="æ ‡é¢˜4"></a>æ ‡é¢˜4</h4><h5 id="æ ‡é¢˜5"><a href="#æ ‡é¢˜5" class="headerlink" title="æ ‡é¢˜5"></a>æ ‡é¢˜5</h5><h6 id="æ ‡é¢˜6"><a href="#æ ‡é¢˜6" class="headerlink" title="æ ‡é¢˜6"></a>æ ‡é¢˜6</h6><blockquote>
<p>è¿™æ˜¯ä¸€æ®µå¼•ç”¨</p>
</blockquote>
<p>æŠŠå¤§è±¡æ”¾è¿›å†°ç®±ï¼š</p>
<ol>
<li>æ‰“å¼€å†°ç®±</li>
<li>æŠŠå¤§è±¡æ”¾è¿›å»</li>
<li>å…³ä¸Šå†°ç®±</li>
</ol>
<p>æ— åºåˆ—è¡¨ï¼š</p>
<ul>
<li>111</li>
<li>222</li>
<li>333</li>
</ul>
<p>æ˜å¤©è¦åšçš„äº‹ï¼š</p>
<ul>
<li><input disabled="" type="checkbox"> åƒé¥­</li>
<li><input disabled="" type="checkbox"> ç¡è§‰</li>
<li><input disabled="" type="checkbox"> æ‰“è±†è±†</li>
</ul>
<p>ä»£ç å—:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Hello,World!&quot;</span>)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>æ•°å­¦å…¬å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E = mc^2</span><br></pre></td></tr></table></figure>

<p>è¡¨æ ¼ï¼š</p>
<table>
<thead>
<tr>
<th>å§“å</th>
<th>å¹´é¾„</th>
</tr>
</thead>
<tbody><tr>
<td>row 1 col 1</td>
<td>row 1 col 2</td>
</tr>
<tr>
<td>row 2 col 1</td>
<td>row 2 col 2</td>
</tr>
</tbody></table>
<p>è„šæ³¨ï¼š<br>ä¸€é”®ä¸‰è¿^[ä¸‰è¿]</p>
<p>æ¨ªçº¿ï¼š</p>
<hr>
<p>é“¾æ¥ï¼š<br><a href="https://www.baidu.com/">ç™¾åº¦</a></p>
<p>è¯·å‚è€ƒ<a href="#%E6%A0%87%E9%A2%981">æ ‡é¢˜1</a></p>
<p><em>æ–œä½“</em></p>
<p><strong>åŠ ç²—</strong></p>
<p>H<del>2</del>O</p>
<p>X^2^</p>
<p>==è¿™æ˜¯ä¸€æ®µé«˜äº®æ–‡å­—==</p>
<p><img src="" alt="å›¾1"><a href="https://static01.imgkr.com/temp/ad944187032944ec863ce55134f3b37a.png%E2%80%9C%E5%9B%BE1%E2%80%9D">https://static01.imgkr.com/temp/ad944187032944ec863ce55134f3b37a.pngâ€œå›¾1â€</a>)<br><img src="" alt="å›¾2"><a href="https://static01.imgkr.com/temp/16e89e377b844eec9376826b16baee22.png%E2%80%9C%E5%9B%BE2%E2%80%9D">https://static01.imgkr.com/temp/16e89e377b844eec9376826b16baee22.pngâ€œå›¾2â€</a>)</p>
]]></content>
      <categories>
        <category>Markdown</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
        <tag>æœ‰é“äº‘ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥ç†è§£ Java åå°„å’ŒåŠ¨æ€ä»£ç†</title>
    <url>/2021/12/06/java-reflection/</url>
    <content><![CDATA[<h1 id="æ·±å…¥ç†è§£-Java-åå°„å’ŒåŠ¨æ€ä»£ç†"><a href="#æ·±å…¥ç†è§£-Java-åå°„å’ŒåŠ¨æ€ä»£ç†" class="headerlink" title="æ·±å…¥ç†è§£ Java åå°„å’ŒåŠ¨æ€ä»£ç†"></a>æ·±å…¥ç†è§£ Java åå°„å’ŒåŠ¨æ€ä»£ç†</h1><blockquote>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->

<ul>
<li><a href="#1-%E5%8F%8D%E5%B0%84%E7%AE%80%E4%BB%8B">1. åå°„ç®€ä»‹</a><ul>
<li><a href="#11-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%8D%E5%B0%84">1.1. ä»€ä¹ˆæ˜¯åå°„</a></li>
<li><a href="#12-%E5%8F%8D%E5%B0%84%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">1.2. åå°„çš„åº”ç”¨åœºæ™¯</a></li>
<li><a href="#13-%E5%8F%8D%E5%B0%84%E7%9A%84%E7%BC%BA%E7%82%B9">1.3. åå°„çš„ç¼ºç‚¹</a></li>
</ul>
</li>
<li><a href="#2-%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6">2. åå°„æœºåˆ¶</a><ul>
<li><a href="#21-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B">2.1. ç±»åŠ è½½è¿‡ç¨‹</a></li>
<li><a href="#22-class-%E5%AF%B9%E8%B1%A1">2.2. Class å¯¹è±¡</a></li>
<li><a href="#23-%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%8D%E5%B0%84%E8%B0%83%E7%94%A8">2.3. æ–¹æ³•çš„åå°„è°ƒç”¨</a></li>
<li><a href="#24-%E5%8F%8D%E5%B0%84%E8%B0%83%E7%94%A8%E7%9A%84%E5%BC%80%E9%94%80">2.4. åå°„è°ƒç”¨çš„å¼€é”€</a></li>
</ul>
</li>
<li><a href="#3-%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%B0%84">3. ä½¿ç”¨åå°„</a><ul>
<li><a href="#31-javalangreflect-%E5%8C%85">3.1. java.lang.reflect åŒ…</a></li>
<li><a href="#32-%E8%8E%B7%E5%8F%96-class-%E5%AF%B9%E8%B1%A1">3.2. è·å– Class å¯¹è±¡</a></li>
<li><a href="#33-%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%B8%BA%E6%9F%90%E4%B8%AA%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B">3.3. åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»çš„å®ä¾‹</a></li>
<li><a href="#34-%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B">3.4. åˆ›å»ºå®ä¾‹</a></li>
<li><a href="#35-%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84%E5%AE%9E%E4%BE%8B">3.5. åˆ›å»ºæ•°ç»„å®ä¾‹</a></li>
<li><a href="#36-field">3.6. Field</a></li>
<li><a href="#37-method">3.7. Method</a></li>
<li><a href="#38-constructor">3.8. Constructor</a></li>
<li><a href="#39-%E7%BB%95%E5%BC%80%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6">3.9. ç»•å¼€è®¿é—®é™åˆ¶</a></li>
</ul>
</li>
<li><a href="#4-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86">4. åŠ¨æ€ä»£ç†</a><ul>
<li><a href="#41-%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86">4.1. é™æ€ä»£ç†</a></li>
<li><a href="#42-jdk-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86">4.2. JDK åŠ¨æ€ä»£ç†</a></li>
<li><a href="#43-cglib-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86">4.3. CGLIB åŠ¨æ€ä»£ç†</a></li>
</ul>
</li>
<li><a href="#5-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">5. å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->

<h2 id="1-åå°„ç®€ä»‹"><a href="#1-åå°„ç®€ä»‹" class="headerlink" title="1. åå°„ç®€ä»‹"></a>1. åå°„ç®€ä»‹</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E5%8F%8D%E5%B0%84.svg" alt="img"></p>
<h3 id="1-1-ä»€ä¹ˆæ˜¯åå°„"><a href="#1-1-ä»€ä¹ˆæ˜¯åå°„" class="headerlink" title="1.1. ä»€ä¹ˆæ˜¯åå°„"></a>1.1. ä»€ä¹ˆæ˜¯åå°„</h3><p>åå°„(Reflection)æ˜¯ Java ç¨‹åºå¼€å‘è¯­è¨€çš„ç‰¹å¾ä¹‹ä¸€ï¼Œå®ƒå…è®¸è¿è¡Œä¸­çš„ Java ç¨‹åºè·å–è‡ªèº«çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥æ“ä½œç±»æˆ–å¯¹è±¡çš„å†…éƒ¨å±æ€§ã€‚</p>
<p><strong>é€šè¿‡åå°„æœºåˆ¶ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶è®¿é—® Java å¯¹è±¡çš„å±æ€§ï¼Œæ–¹æ³•ï¼Œæ„é€ æ–¹æ³•ç­‰ã€‚</strong></p>
<h3 id="1-2-åå°„çš„åº”ç”¨åœºæ™¯"><a href="#1-2-åå°„çš„åº”ç”¨åœºæ™¯" class="headerlink" title="1.2. åå°„çš„åº”ç”¨åœºæ™¯"></a>1.2. åå°„çš„åº”ç”¨åœºæ™¯</h3><p>åå°„çš„ä¸»è¦åº”ç”¨åœºæ™¯æœ‰ï¼š</p>
<ul>
<li><strong>å¼€å‘é€šç”¨æ¡†æ¶</strong> - åå°„æœ€é‡è¦çš„ç”¨é€”å°±æ˜¯å¼€å‘å„ç§é€šç”¨æ¡†æ¶ã€‚å¾ˆå¤šæ¡†æ¶ï¼ˆæ¯”å¦‚ Springï¼‰éƒ½æ˜¯é…ç½®åŒ–çš„ï¼ˆæ¯”å¦‚é€šè¿‡ XML æ–‡ä»¶é…ç½® JavaBeanã€Filter ç­‰ï¼‰ï¼Œä¸ºäº†ä¿è¯æ¡†æ¶çš„é€šç”¨æ€§ï¼Œå®ƒä»¬å¯èƒ½éœ€è¦æ ¹æ®é…ç½®æ–‡ä»¶åŠ è½½ä¸åŒçš„å¯¹è±¡æˆ–ç±»ï¼Œè°ƒç”¨ä¸åŒçš„æ–¹æ³•ï¼Œè¿™ä¸ªæ—¶å€™å°±å¿…é¡»ç”¨åˆ°åå°„â€”â€”è¿è¡Œæ—¶åŠ¨æ€åŠ è½½éœ€è¦åŠ è½½çš„å¯¹è±¡ã€‚</li>
<li><strong>åŠ¨æ€ä»£ç†</strong> - åœ¨åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰ä¸­ï¼Œéœ€è¦æ‹¦æˆªç‰¹å®šçš„æ–¹æ³•ï¼Œé€šå¸¸ï¼Œä¼šé€‰æ‹©åŠ¨æ€ä»£ç†æ–¹å¼ã€‚è¿™æ—¶ï¼Œå°±éœ€è¦åå°„æŠ€æœ¯æ¥å®ç°äº†ã€‚</li>
<li><strong>æ³¨è§£</strong> - æ³¨è§£æœ¬èº«ä»…ä»…æ˜¯èµ·åˆ°æ ‡è®°ä½œç”¨ï¼Œå®ƒéœ€è¦åˆ©ç”¨åå°„æœºåˆ¶ï¼Œæ ¹æ®æ³¨è§£æ ‡è®°å»è°ƒç”¨æ³¨è§£è§£é‡Šå™¨ï¼Œæ‰§è¡Œè¡Œä¸ºã€‚å¦‚æœæ²¡æœ‰åå°„æœºåˆ¶ï¼Œæ³¨è§£å¹¶ä¸æ¯”æ³¨é‡Šæ›´æœ‰ç”¨ã€‚</li>
<li><strong>å¯æ‰©å±•æ€§åŠŸèƒ½</strong> - åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ä½¿ç”¨å®Œå…¨é™å®šåç§°åˆ›å»ºå¯æ‰©å±•æ€§å¯¹è±¡å®ä¾‹æ¥ä½¿ç”¨å¤–éƒ¨çš„ç”¨æˆ·å®šä¹‰ç±»ã€‚</li>
</ul>
<h3 id="1-3-åå°„çš„ç¼ºç‚¹"><a href="#1-3-åå°„çš„ç¼ºç‚¹" class="headerlink" title="1.3. åå°„çš„ç¼ºç‚¹"></a>1.3. åå°„çš„ç¼ºç‚¹</h3><ul>
<li><strong>æ€§èƒ½å¼€é”€</strong> - ç”±äºåå°„æ¶‰åŠåŠ¨æ€è§£æçš„ç±»å‹ï¼Œå› æ­¤æ— æ³•æ‰§è¡ŒæŸäº› Java è™šæ‹Ÿæœºä¼˜åŒ–ã€‚å› æ­¤ï¼Œåå°„æ“ä½œçš„æ€§èƒ½è¦æ¯”éåå°„æ“ä½œçš„æ€§èƒ½è¦å·®ï¼Œåº”è¯¥åœ¨æ€§èƒ½æ•æ„Ÿçš„åº”ç”¨ç¨‹åºä¸­é¢‘ç¹è°ƒç”¨çš„ä»£ç æ®µä¸­é¿å…ã€‚</li>
<li><strong>ç ´åå°è£…æ€§</strong> - åå°„è°ƒç”¨æ–¹æ³•æ—¶å¯ä»¥å¿½ç•¥æƒé™æ£€æŸ¥ï¼Œå› æ­¤å¯èƒ½ä¼šç ´åå°è£…æ€§è€Œå¯¼è‡´å®‰å…¨é—®é¢˜ã€‚</li>
<li><strong>å†…éƒ¨æ›å…‰</strong> - ç”±äºåå°„å…è®¸ä»£ç æ‰§è¡Œåœ¨éåå°„ä»£ç ä¸­éæ³•çš„æ“ä½œï¼Œä¾‹å¦‚è®¿é—®ç§æœ‰å­—æ®µå’Œæ–¹æ³•ï¼Œæ‰€ä»¥åå°„çš„ä½¿ç”¨å¯èƒ½ä¼šå¯¼è‡´æ„æƒ³ä¸åˆ°çš„å‰¯ä½œç”¨ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä»£ç åŠŸèƒ½å¤±å¸¸å¹¶å¯èƒ½ç ´åå¯ç§»æ¤æ€§ã€‚åå°„ä»£ç æ‰“ç ´äº†æŠ½è±¡ï¼Œå› æ­¤å¯èƒ½ä¼šéšç€å¹³å°çš„å‡çº§è€Œæ”¹å˜è¡Œä¸ºã€‚</li>
</ul>
<h2 id="2-åå°„æœºåˆ¶"><a href="#2-åå°„æœºåˆ¶" class="headerlink" title="2. åå°„æœºåˆ¶"></a>2. åå°„æœºåˆ¶</h2><h3 id="2-1-ç±»åŠ è½½è¿‡ç¨‹"><a href="#2-1-ç±»åŠ è½½è¿‡ç¨‹" class="headerlink" title="2.1. ç±»åŠ è½½è¿‡ç¨‹"></a>2.1. ç±»åŠ è½½è¿‡ç¨‹</h3><p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1553611895164.png" alt="img"></p>
<p>ç±»åŠ è½½çš„å®Œæ•´è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>åœ¨ç¼–è¯‘æ—¶ï¼ŒJava ç¼–è¯‘å™¨ç¼–è¯‘å¥½ <code>.java</code> æ–‡ä»¶ä¹‹åï¼Œåœ¨ç£ç›˜ä¸­äº§ç”Ÿ <code>.class</code> æ–‡ä»¶ã€‚<code>.class</code> æ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå†…å®¹æ˜¯åªæœ‰ JVM èƒ½å¤Ÿè¯†åˆ«çš„æœºå™¨ç ã€‚</li>
<li>JVM ä¸­çš„ç±»åŠ è½½å™¨è¯»å–å­—èŠ‚ç æ–‡ä»¶ï¼Œå–å‡ºäºŒè¿›åˆ¶æ•°æ®ï¼ŒåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè§£æ.class æ–‡ä»¶å†…çš„ä¿¡æ¯ã€‚ç±»åŠ è½½å™¨ä¼šæ ¹æ®ç±»çš„å…¨é™å®šåæ¥è·å–æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµï¼›ç„¶åï¼Œå°†å­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼›æ¥ç€ï¼Œåœ¨å†…å­˜ä¸­ç”Ÿæˆä»£è¡¨è¿™ä¸ªç±»çš„ <code>java.lang.Class</code> å¯¹è±¡ã€‚</li>
<li>åŠ è½½ç»“æŸåï¼ŒJVM å¼€å§‹è¿›è¡Œè¿æ¥é˜¶æ®µï¼ˆåŒ…å«éªŒè¯ã€å‡†å¤‡ã€åˆå§‹åŒ–ï¼‰ã€‚ç»è¿‡è¿™ä¸€ç³»åˆ—æ“ä½œï¼Œç±»çš„å˜é‡ä¼šè¢«åˆå§‹åŒ–ã€‚</li>
</ol>
<h3 id="2-2-Class-å¯¹è±¡"><a href="#2-2-Class-å¯¹è±¡" class="headerlink" title="2.2. Class å¯¹è±¡"></a>2.2. Class å¯¹è±¡</h3><p>è¦æƒ³ä½¿ç”¨åå°„ï¼Œé¦–å…ˆéœ€è¦è·å¾—å¾…æ“ä½œçš„ç±»æ‰€å¯¹åº”çš„ Class å¯¹è±¡ã€‚<strong>Java ä¸­ï¼Œæ— è®ºç”ŸæˆæŸä¸ªç±»çš„å¤šå°‘ä¸ªå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡éƒ½ä¼šå¯¹åº”äºåŒä¸€ä¸ª Class å¯¹è±¡ã€‚è¿™ä¸ª Class å¯¹è±¡æ˜¯ç”± JVM ç”Ÿæˆçš„ï¼Œé€šè¿‡å®ƒèƒ½å¤Ÿè·æ‚‰æ•´ä¸ªç±»çš„ç»“æ„</strong>ã€‚æ‰€ä»¥ï¼Œ<code>java.lang.Class</code> å¯ä»¥è§†ä¸ºæ‰€æœ‰åå°„ API çš„å…¥å£ç‚¹ã€‚</p>
<p><strong>åå°„çš„æœ¬è´¨å°±æ˜¯ï¼šåœ¨è¿è¡Œæ—¶ï¼ŒæŠŠ Java ç±»ä¸­çš„å„ç§æˆåˆ†æ˜ å°„æˆä¸€ä¸ªä¸ªçš„ Java å¯¹è±¡ã€‚</strong></p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œå‡å¦‚å®šä¹‰äº†ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">User user = <span class="keyword">new</span> User();</span><br></pre></td></tr></table></figure>

<p>æ­¥éª¤è¯´æ˜ï¼š</p>
<ol>
<li>JVM åŠ è½½æ–¹æ³•çš„æ—¶å€™ï¼Œé‡åˆ° <code>new User()</code>ï¼ŒJVM ä¼šæ ¹æ® <code>User</code> çš„å…¨é™å®šåå»åŠ è½½ <code>User.class</code> ã€‚</li>
<li>JVM ä¼šå»æœ¬åœ°ç£ç›˜æŸ¥æ‰¾ <code>User.class</code> æ–‡ä»¶å¹¶åŠ è½½ JVM å†…å­˜ä¸­ã€‚</li>
<li>JVM é€šè¿‡è°ƒç”¨ç±»åŠ è½½å™¨è‡ªåŠ¨åˆ›å»ºè¿™ä¸ªç±»å¯¹åº”çš„ <code>Class</code> å¯¹è±¡ï¼Œå¹¶ä¸”å­˜å‚¨åœ¨ JVM çš„æ–¹æ³•åŒºã€‚æ³¨æ„ï¼š<strong>ä¸€ä¸ªç±»æœ‰ä¸”åªæœ‰ä¸€ä¸ª <code>Class</code> å¯¹è±¡</strong>ã€‚</li>
</ol>
<h3 id="2-3-æ–¹æ³•çš„åå°„è°ƒç”¨"><a href="#2-3-æ–¹æ³•çš„åå°„è°ƒç”¨" class="headerlink" title="2.3. æ–¹æ³•çš„åå°„è°ƒç”¨"></a>2.3. æ–¹æ³•çš„åå°„è°ƒç”¨</h3><p>æ–¹æ³•çš„åå°„è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯ <code>Method.invoke</code> æ–¹æ³•ã€‚</p>
<p><code>Method.invoke</code> æ–¹æ³•æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Method</span> <span class="keyword">extends</span> <span class="title">Executable</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object obj, Object... args)</span> <span class="keyword">throws</span> ... </span>&#123;</span><br><span class="line">    ... <span class="comment">// æƒé™æ£€æŸ¥</span></span><br><span class="line">    MethodAccessor ma = methodAccessor;</span><br><span class="line">    <span class="keyword">if</span> (ma == <span class="keyword">null</span>) &#123;</span><br><span class="line">      ma = acquireMethodAccessor();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ma.invoke(obj, args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Method.invoke</code> æ–¹æ³•å®é™…ä¸Šå§”æ´¾ç»™ <code>MethodAccessor</code> æ¥å£æ¥å¤„ç†ã€‚å®ƒæœ‰ä¸¤ä¸ªå·²æœ‰çš„å…·ä½“å®ç°ï¼š</p>
<ul>
<li><code>NativeMethodAccessorImpl</code>ï¼šæœ¬åœ°æ–¹æ³•æ¥å®ç°åå°„è°ƒç”¨</li>
<li><code>DelegatingMethodAccessorImpl</code>ï¼šå§”æ´¾æ¨¡å¼æ¥å®ç°åå°„è°ƒç”¨</li>
</ul>
<p>æ¯ä¸ª <code>Method</code> å®ä¾‹çš„ç¬¬ä¸€æ¬¡åå°„è°ƒç”¨éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå§”æ´¾å®ç°ï¼ˆ<code>DelegatingMethodAccessorImpl</code>ï¼‰ï¼Œå®ƒæ‰€å§”æ´¾çš„å…·ä½“å®ç°ä¾¿æ˜¯ä¸€ä¸ªæœ¬åœ°å®ç°ï¼ˆ<code>NativeMethodAccessorImpl</code>ï¼‰ã€‚æœ¬åœ°å®ç°éå¸¸å®¹æ˜“ç†è§£ã€‚å½“è¿›å…¥äº† Java è™šæ‹Ÿæœºå†…éƒ¨ä¹‹åï¼Œæˆ‘ä»¬ä¾¿æ‹¥æœ‰äº† <code>Method</code> å®ä¾‹æ‰€æŒ‡å‘æ–¹æ³•çš„å…·ä½“åœ°å€ã€‚è¿™æ—¶å€™ï¼Œåå°„è°ƒç”¨æ— éå°±æ˜¯å°†ä¼ å…¥çš„å‚æ•°å‡†å¤‡å¥½ï¼Œç„¶åè°ƒç”¨è¿›å…¥ç›®æ ‡æ–¹æ³•ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘é€šè¿‡æŠ›å‡ºå¼‚å¸¸æ–¹å¼ æ‰“å° <code>Method.invoke</code> è°ƒç”¨è½¨è¿¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodDemo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">target</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Exception(<span class="string">&quot;#&quot;</span> + i).printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Class&lt;?&gt; clazz = Class.forName(<span class="string">&quot;io.github.dunwu.javacore.reflect.MethodDemo01&quot;</span>);</span><br><span class="line">        Method method = clazz.getMethod(<span class="string">&quot;target&quot;</span>, <span class="keyword">int</span>.class);</span><br><span class="line">        method.invoke(<span class="keyword">null</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// java.lang.Exception: #0</span></span><br><span class="line"><span class="comment">//     at io.github.dunwu.javacore.reflect.MethodDemo01.target(MethodDemo01.java:12)</span></span><br><span class="line"><span class="comment">//     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span></span><br><span class="line"><span class="comment">//     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span></span><br></pre></td></tr></table></figure>

<p>å…ˆè°ƒç”¨ <code>DelegatingMethodAccessorImpl</code>ï¼›ç„¶åè°ƒç”¨ <code>NativeMethodAccessorImpl</code>ï¼Œæœ€åè°ƒç”¨å®é™…æ–¹æ³•ã€‚</p>
<p>ä¸ºä»€ä¹ˆåå°„è°ƒç”¨ <code>DelegatingMethodAccessorImpl</code> ä½œä¸ºä¸­é—´å±‚ï¼Œè€Œä¸æ˜¯ç›´æ¥äº¤ç»™æœ¬åœ°å®ç°ï¼Ÿ</p>
<p>å…¶å®ï¼ŒJava çš„åå°„è°ƒç”¨æœºåˆ¶è¿˜è®¾ç«‹äº†å¦ä¸€ç§åŠ¨æ€ç”Ÿæˆå­—èŠ‚ç çš„å®ç°ï¼ˆä¸‹ç§°åŠ¨æ€å®ç°ï¼‰ï¼Œç›´æ¥ä½¿ç”¨ invoke æŒ‡ä»¤æ¥è°ƒç”¨ç›®æ ‡æ–¹æ³•ã€‚ä¹‹æ‰€ä»¥é‡‡ç”¨å§”æ´¾å®ç°ï¼Œä¾¿æ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨æœ¬åœ°å®ç°ä»¥åŠåŠ¨æ€å®ç°ä¸­åˆ‡æ¢ã€‚åŠ¨æ€å®ç°å’Œæœ¬åœ°å®ç°ç›¸æ¯”ï¼Œå…¶è¿è¡Œæ•ˆç‡è¦å¿«ä¸Š 20 å€ã€‚è¿™æ˜¯å› ä¸ºåŠ¨æ€å®ç°æ— éœ€ç»è¿‡ Java åˆ° C++ å†åˆ° Java çš„åˆ‡æ¢ï¼Œä½†ç”±äºç”Ÿæˆå­—èŠ‚ç ååˆ†è€—æ—¶ï¼Œä»…è°ƒç”¨ä¸€æ¬¡çš„è¯ï¼Œåè€Œæ˜¯æœ¬åœ°å®ç°è¦å¿«ä¸Š 3 åˆ° 4 å€ã€‚</p>
<p>è€ƒè™‘åˆ°è®¸å¤šåå°„è°ƒç”¨ä»…ä¼šæ‰§è¡Œä¸€æ¬¡ï¼ŒJava è™šæ‹Ÿæœºè®¾ç½®äº†ä¸€ä¸ªé˜ˆå€¼ 15ï¼ˆå¯ä»¥é€šè¿‡ <code>-Dsun.reflect.inflationThreshold</code> æ¥è°ƒæ•´ï¼‰ï¼Œå½“æŸä¸ªåå°„è°ƒç”¨çš„è°ƒç”¨æ¬¡æ•°åœ¨ 15 ä¹‹ä¸‹æ—¶ï¼Œé‡‡ç”¨æœ¬åœ°å®ç°ï¼›å½“è¾¾åˆ° 15 æ—¶ï¼Œä¾¿å¼€å§‹åŠ¨æ€ç”Ÿæˆå­—èŠ‚ç ï¼Œå¹¶å°†å§”æ´¾å®ç°çš„å§”æ´¾å¯¹è±¡åˆ‡æ¢è‡³åŠ¨æ€å®ç°ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¹‹ä¸º Inflationã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘æ‰§è¡Œ java -verbose:class MethodDemo02 å¯åŠ¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodDemo02</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">target</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Exception(<span class="string">&quot;#&quot;</span> + i).printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Class&lt;?&gt; klass = Class.forName(<span class="string">&quot;io.github.dunwu.javacore.reflect.MethodDemo02&quot;</span>);</span><br><span class="line">        Method method = klass.getMethod(<span class="string">&quot;target&quot;</span>, <span class="keyword">int</span>.class);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            method.invoke(<span class="keyword">null</span>, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºå†…å®¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...çœç•¥</span></span><br><span class="line">java.lang.Exception: #<span class="number">14</span></span><br><span class="line">        at io.github.dunwu.javacore.reflect.MethodDemo02.target(MethodDemo02.java:<span class="number">13</span>)</span><br><span class="line">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:<span class="number">62</span>)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:<span class="number">498</span>)</span><br><span class="line">        at io.github.dunwu.javacore.reflect.MethodDemo02.main(MethodDemo02.java:<span class="number">20</span>)</span><br><span class="line">[Loaded sun.reflect.ClassFileConstants from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.AccessorGenerator from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.MethodAccessorGenerator from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.ByteVectorFactory from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.ByteVector from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.ByteVectorImpl from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.ClassFileAssembler from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.UTF8 from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.Label from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.Label$PatchInfo from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded java.util.ArrayList$Itr from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.MethodAccessorGenerator$<span class="number">1</span> from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.ClassDefiner from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.ClassDefiner$<span class="number">1</span> from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">[Loaded sun.reflect.GeneratedMethodAccessor1 from __JVM_DefineClass__]</span><br><span class="line">java.lang.Exception: #<span class="number">15</span></span><br><span class="line">        at io.github.dunwu.javacore.reflect.MethodDemo02.target(MethodDemo02.java:<span class="number">13</span>)</span><br><span class="line">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:<span class="number">62</span>)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:<span class="number">498</span>)</span><br><span class="line">        at io.github.dunwu.javacore.reflect.MethodDemo02.main(MethodDemo02.java:<span class="number">20</span>)</span><br><span class="line">[Loaded java.util.concurrent.ConcurrentHashMap$ForwardingNode from D:\Tools\Java\jdk1<span class="number">.8</span><span class="number">.0_192</span>\jre\lib\rt.jar]</span><br><span class="line">java.lang.Exception: #<span class="number">16</span></span><br><span class="line">        at io.github.dunwu.javacore.reflect.MethodDemo02.target(MethodDemo02.java:<span class="number">13</span>)</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:<span class="number">498</span>)</span><br><span class="line">        at io.github.dunwu.javacore.reflect.MethodDemo02.main(MethodDemo02.java:<span class="number">20</span>)</span><br><span class="line"><span class="comment">// ...çœç•¥</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œä»ç¬¬ 16 æ¬¡å¼€å§‹åï¼Œéƒ½æ˜¯ä½¿ç”¨ <code>DelegatingMethodAccessorImpl</code> ï¼Œä¸å†ä½¿ç”¨æœ¬åœ°å®ç° <code>NativeMethodAccessorImpl</code>ã€‚</p>
<h3 id="2-4-åå°„è°ƒç”¨çš„å¼€é”€"><a href="#2-4-åå°„è°ƒç”¨çš„å¼€é”€" class="headerlink" title="2.4. åå°„è°ƒç”¨çš„å¼€é”€"></a>2.4. åå°„è°ƒç”¨çš„å¼€é”€</h3><p>æ–¹æ³•çš„åå°„è°ƒç”¨ä¼šå¸¦æ¥ä¸å°‘æ€§èƒ½å¼€é”€ï¼ŒåŸå› ä¸»è¦æœ‰ä¸‰ä¸ªï¼š</p>
<ul>
<li>å˜é•¿å‚æ•°æ–¹æ³•å¯¼è‡´çš„ Object æ•°ç»„</li>
<li>åŸºæœ¬ç±»å‹çš„è‡ªåŠ¨è£…ç®±ã€æ‹†ç®±</li>
<li>è¿˜æœ‰æœ€é‡è¦çš„æ–¹æ³•å†…è”</li>
</ul>
<p><code>Class.forName</code> ä¼šè°ƒç”¨æœ¬åœ°æ–¹æ³•ï¼Œ<code>Class.getMethod</code> åˆ™ä¼šéå†è¯¥ç±»çš„å…¬æœ‰æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ï¼Œå®ƒè¿˜å°†éå†çˆ¶ç±»çš„å…¬æœ‰æ–¹æ³•ã€‚å¯æƒ³è€ŒçŸ¥ï¼Œè¿™ä¸¤ä¸ªæ“ä½œéƒ½éå¸¸è´¹æ—¶ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œä»¥ <code>getMethod</code> ä¸ºä»£è¡¨çš„æŸ¥æ‰¾æ–¹æ³•æ“ä½œï¼Œä¼šè¿”å›æŸ¥æ‰¾å¾—åˆ°ç»“æœçš„ä¸€ä»½æ‹·è´ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åº”å½“é¿å…åœ¨çƒ­ç‚¹ä»£ç ä¸­ä½¿ç”¨è¿”å› <code>Method</code> æ•°ç»„çš„ <code>getMethods</code> æˆ–è€… <code>getDeclaredMethods</code> æ–¹æ³•ï¼Œä»¥å‡å°‘ä¸å¿…è¦çš„å †ç©ºé—´æ¶ˆè€—ã€‚åœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šåœ¨åº”ç”¨ç¨‹åºä¸­ç¼“å­˜ <code>Class.forName</code> å’Œ <code>Class.getMethod</code> çš„ç»“æœã€‚</p>
</blockquote>
<p>ä¸‹é¢åªå…³æ³¨åå°„è°ƒç”¨æœ¬èº«çš„æ€§èƒ½å¼€é”€ã€‚</p>
<p>ç¬¬ä¸€ï¼Œç”±äº Method.invoke æ˜¯ä¸€ä¸ªå˜é•¿å‚æ•°æ–¹æ³•ï¼Œåœ¨å­—èŠ‚ç å±‚é¢å®ƒçš„æœ€åä¸€ä¸ªå‚æ•°ä¼šæ˜¯ Object æ•°ç»„ï¼ˆæ„Ÿå…´è¶£çš„åŒå­¦ç§ä¸‹å¯ä»¥ç”¨ javap æŸ¥çœ‹ï¼‰ã€‚Java ç¼–è¯‘å™¨ä¼šåœ¨æ–¹æ³•è°ƒç”¨å¤„ç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸ºä¼ å…¥å‚æ•°æ•°é‡çš„ Object æ•°ç»„ï¼Œå¹¶å°†ä¼ å…¥å‚æ•°ä¸€ä¸€å­˜å‚¨è¿›è¯¥æ•°ç»„ä¸­ã€‚</p>
<p>ç¬¬äºŒï¼Œç”±äº Object æ•°ç»„ä¸èƒ½å­˜å‚¨åŸºæœ¬ç±»å‹ï¼ŒJava ç¼–è¯‘å™¨ä¼šå¯¹ä¼ å…¥çš„åŸºæœ¬ç±»å‹å‚æ•°è¿›è¡Œè‡ªåŠ¨è£…ç®±ã€‚</p>
<p>è¿™ä¸¤ä¸ªæ“ä½œé™¤äº†å¸¦æ¥æ€§èƒ½å¼€é”€å¤–ï¼Œè¿˜å¯èƒ½å ç”¨å †å†…å­˜ï¼Œä½¿å¾— GC æ›´åŠ é¢‘ç¹ã€‚ï¼ˆå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥ç”¨è™šæ‹Ÿæœºå‚æ•° -XX:+PrintGC è¯•è¯•ã€‚ï¼‰é‚£ä¹ˆï¼Œå¦‚ä½•æ¶ˆé™¤è¿™éƒ¨åˆ†å¼€é”€å‘¢ï¼Ÿ</p>
<h2 id="3-ä½¿ç”¨åå°„"><a href="#3-ä½¿ç”¨åå°„" class="headerlink" title="3. ä½¿ç”¨åå°„"></a>3. ä½¿ç”¨åå°„</h2><h3 id="3-1-java-lang-reflect-åŒ…"><a href="#3-1-java-lang-reflect-åŒ…" class="headerlink" title="3.1. java.lang.reflect åŒ…"></a>3.1. java.lang.reflect åŒ…</h3><p>Java ä¸­çš„ <code>java.lang.reflect</code> åŒ…æä¾›äº†åå°„åŠŸèƒ½ã€‚<code>java.lang.reflect</code> åŒ…ä¸­çš„ç±»éƒ½æ²¡æœ‰ <code>public</code> æ„é€ æ–¹æ³•ã€‚</p>
<p><code>java.lang.reflect</code> åŒ…çš„æ ¸å¿ƒæ¥å£å’Œç±»å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>Member</code> æ¥å£ï¼šåæ˜ å…³äºå•ä¸ªæˆå‘˜(å­—æ®µæˆ–æ–¹æ³•)æˆ–æ„é€ å‡½æ•°çš„æ ‡è¯†ä¿¡æ¯ã€‚</li>
<li><code>Field</code> ç±»ï¼šæä¾›ä¸€ä¸ªç±»çš„åŸŸçš„ä¿¡æ¯ä»¥åŠè®¿é—®ç±»çš„åŸŸçš„æ¥å£ã€‚</li>
<li><code>Method</code> ç±»ï¼šæä¾›ä¸€ä¸ªç±»çš„æ–¹æ³•çš„ä¿¡æ¯ä»¥åŠè®¿é—®ç±»çš„æ–¹æ³•çš„æ¥å£ã€‚</li>
<li><code>Constructor</code> ç±»ï¼šæä¾›ä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°çš„ä¿¡æ¯ä»¥åŠè®¿é—®ç±»çš„æ„é€ å‡½æ•°çš„æ¥å£ã€‚</li>
<li><code>Array</code> ç±»ï¼šè¯¥ç±»æä¾›åŠ¨æ€åœ°ç”Ÿæˆå’Œè®¿é—® JAVA æ•°ç»„çš„æ–¹æ³•ã€‚</li>
<li><code>Modifier</code> ç±»ï¼šæä¾›äº† static æ–¹æ³•å’Œå¸¸é‡ï¼Œå¯¹ç±»å’Œæˆå‘˜è®¿é—®ä¿®é¥°ç¬¦è¿›è¡Œè§£ç ã€‚</li>
<li><code>Proxy</code> ç±»ï¼šæä¾›åŠ¨æ€åœ°ç”Ÿæˆä»£ç†ç±»å’Œç±»å®ä¾‹çš„é™æ€æ–¹æ³•ã€‚</li>
</ul>
<h3 id="3-2-è·å–-Class-å¯¹è±¡"><a href="#3-2-è·å–-Class-å¯¹è±¡" class="headerlink" title="3.2. è·å– Class å¯¹è±¡"></a>3.2. è·å– Class å¯¹è±¡</h3><p>è·å– <code>Class</code> å¯¹è±¡çš„ä¸‰ç§æ–¹æ³•ï¼š</p>
<p>ï¼ˆ1ï¼‰**<code>Class.forName</code> é™æ€æ–¹æ³•**</p>
<p>ã€ç¤ºä¾‹ã€‘ä½¿ç”¨ <code>Class.forName</code> é™æ€æ–¹æ³•è·å– <code>Class</code> å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.dunwu.javacore.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectClassDemo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        Class c1 = Class.forName(<span class="string">&quot;io.github.dunwu.javacore.reflect.ReflectClassDemo01&quot;</span>);</span><br><span class="line">        System.out.println(c1.getCanonicalName());</span><br><span class="line"></span><br><span class="line">        Class c2 = Class.forName(<span class="string">&quot;[D&quot;</span>);</span><br><span class="line">        System.out.println(c2.getCanonicalName());</span><br><span class="line"></span><br><span class="line">        Class c3 = Class.forName(<span class="string">&quot;[[Ljava.lang.String;&quot;</span>);</span><br><span class="line">        System.out.println(c3.getCanonicalName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Output:</span></span><br><span class="line"><span class="comment">//io.github.dunwu.javacore.reflect.ReflectClassDemo01</span></span><br><span class="line"><span class="comment">//double[]</span></span><br><span class="line"><span class="comment">//java.lang.String[][]</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ç±»çš„å®Œå…¨é™å®šåæ¥åå°„å¯¹è±¡çš„ç±»ã€‚å¸¸è§çš„åº”ç”¨åœºæ™¯ä¸ºï¼šåœ¨ JDBC å¼€å‘ä¸­å¸¸ç”¨æ­¤æ–¹æ³•åŠ è½½æ•°æ®åº“é©±åŠ¨ã€‚</p>
<p>ï¼ˆ2ï¼‰<strong>ç±»å + <code>.class</code></strong></p>
<p>ã€ç¤ºä¾‹ã€‘ç›´æ¥ç”¨ç±»å + <code>.class</code> è·å– <code>Class</code> å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectClassDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> b;</span><br><span class="line">        <span class="comment">// Class c = b.getClass(); // ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">        Class c1 = <span class="keyword">boolean</span>.class;</span><br><span class="line">        System.out.println(c1.getCanonicalName());</span><br><span class="line"></span><br><span class="line">        Class c2 = java.io.PrintStream.class;</span><br><span class="line">        System.out.println(c2.getCanonicalName());</span><br><span class="line"></span><br><span class="line">        Class c3 = <span class="keyword">int</span>[][][].class;</span><br><span class="line">        System.out.println(c3.getCanonicalName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Output:</span></span><br><span class="line"><span class="comment">//boolean</span></span><br><span class="line"><span class="comment">//java.io.PrintStream</span></span><br><span class="line"><span class="comment">//int[][][]</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰**<code>Object</code> çš„ <code>getClass</code> æ–¹æ³•**</p>
<p><code>Object</code> ç±»ä¸­æœ‰ <code>getClass</code> æ–¹æ³•ï¼Œå› ä¸ºæ‰€æœ‰ç±»éƒ½ç»§æ‰¿ <code>Object</code> ç±»ã€‚ä»è€Œè°ƒç”¨ <code>Object</code> ç±»æ¥è·å– <code>Class</code> å¯¹è±¡ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘<code>Object</code> çš„ <code>getClass</code> æ–¹æ³•è·å– <code>Class</code> å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.dunwu.javacore.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectClassDemo03</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">E</span> </span>&#123;A, B&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Class c = <span class="string">&quot;foo&quot;</span>.getClass();</span><br><span class="line">        System.out.println(c.getCanonicalName());</span><br><span class="line"></span><br><span class="line">        Class c2 = ReflectClassDemo03.E.A.getClass();</span><br><span class="line">        System.out.println(c2.getCanonicalName());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        Class c3 = bytes.getClass();</span><br><span class="line">        System.out.println(c3.getCanonicalName());</span><br><span class="line"></span><br><span class="line">        Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Class c4 = set.getClass();</span><br><span class="line">        System.out.println(c4.getCanonicalName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Output:</span></span><br><span class="line"><span class="comment">//java.lang.String</span></span><br><span class="line"><span class="comment">//io.github.dunwu.javacore.reflect.ReflectClassDemo.E</span></span><br><span class="line"><span class="comment">//byte[]</span></span><br><span class="line"><span class="comment">//java.util.HashSet</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»çš„å®ä¾‹"><a href="#3-3-åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»çš„å®ä¾‹" class="headerlink" title="3.3. åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»çš„å®ä¾‹"></a>3.3. åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»çš„å®ä¾‹</h3><p>åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»çš„å®ä¾‹æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li><strong>ç”¨ <code>instanceof</code> å…³é”®å­—</strong></li>
<li><strong>ç”¨ <code>Class</code> å¯¹è±¡çš„ <code>isInstance</code> æ–¹æ³•</strong>ï¼ˆå®ƒæ˜¯ä¸€ä¸ª Native æ–¹æ³•ï¼‰</li>
</ol>
<p>ã€ç¤ºä¾‹ã€‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InstanceofDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList arrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="keyword">if</span> (arrayList <span class="keyword">instanceof</span> List) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ArrayList is List&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (List.class.isInstance(arrayList)) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ArrayList is List&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Output:</span></span><br><span class="line"><span class="comment">//ArrayList is List</span></span><br><span class="line"><span class="comment">//ArrayList is List</span></span><br></pre></td></tr></table></figure>

<h3 id="3-4-åˆ›å»ºå®ä¾‹"><a href="#3-4-åˆ›å»ºå®ä¾‹" class="headerlink" title="3.4. åˆ›å»ºå®ä¾‹"></a>3.4. åˆ›å»ºå®ä¾‹</h3><p>é€šè¿‡åå°„æ¥åˆ›å»ºå®ä¾‹å¯¹è±¡ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>ç”¨ <code>Class</code> å¯¹è±¡çš„ <code>newInstance</code> æ–¹æ³•ã€‚</li>
<li>ç”¨ <code>Constructor</code> å¯¹è±¡çš„ <code>newInstance</code> æ–¹æ³•ã€‚</li>
</ul>
<p>ã€ç¤ºä¾‹ã€‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NewInstanceDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> IllegalAccessException, InstantiationException, NoSuchMethodException, InvocationTargetException </span>&#123;</span><br><span class="line">        Class&lt;?&gt; c1 = StringBuilder.class;</span><br><span class="line">        StringBuilder sb = (StringBuilder) c1.newInstance();</span><br><span class="line">        sb.append(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        System.out.println(sb.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–Stringæ‰€å¯¹åº”çš„Classå¯¹è±¡</span></span><br><span class="line">        Class&lt;?&gt; c2 = String.class;</span><br><span class="line">        <span class="comment">//è·å–Stringç±»å¸¦ä¸€ä¸ªStringå‚æ•°çš„æ„é€ å™¨</span></span><br><span class="line">        Constructor constructor = c2.getConstructor(String.class);</span><br><span class="line">        <span class="comment">//æ ¹æ®æ„é€ å™¨åˆ›å»ºå®ä¾‹</span></span><br><span class="line">        String str2 = (String) constructor.newInstance(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        System.out.println(str2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Output:</span></span><br><span class="line"><span class="comment">//aaa</span></span><br><span class="line"><span class="comment">//bbb</span></span><br></pre></td></tr></table></figure>

<h3 id="3-5-åˆ›å»ºæ•°ç»„å®ä¾‹"><a href="#3-5-åˆ›å»ºæ•°ç»„å®ä¾‹" class="headerlink" title="3.5. åˆ›å»ºæ•°ç»„å®ä¾‹"></a>3.5. åˆ›å»ºæ•°ç»„å®ä¾‹</h3><p>æ•°ç»„åœ¨ Java é‡Œæ˜¯æ¯”è¾ƒç‰¹æ®Šçš„ä¸€ç§ç±»å‹ï¼Œå®ƒå¯ä»¥èµ‹å€¼ç»™ä¸€ä¸ªå¯¹è±¡å¼•ç”¨ã€‚Java ä¸­ï¼Œ<strong>é€šè¿‡ <code>Array.newInstance</code> åˆ›å»ºæ•°ç»„çš„å®ä¾‹</strong>ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘åˆ©ç”¨åå°„åˆ›å»ºæ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectArrayDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        Class&lt;?&gt; cls = Class.forName(<span class="string">&quot;java.lang.String&quot;</span>);</span><br><span class="line">        Object array = Array.newInstance(cls, <span class="number">25</span>);</span><br><span class="line">        <span class="comment">//å¾€æ•°ç»„é‡Œæ·»åŠ å†…å®¹</span></span><br><span class="line">        Array.set(array, <span class="number">0</span>, <span class="string">&quot;Scala&quot;</span>);</span><br><span class="line">        Array.set(array, <span class="number">1</span>, <span class="string">&quot;Java&quot;</span>);</span><br><span class="line">        Array.set(array, <span class="number">2</span>, <span class="string">&quot;Groovy&quot;</span>);</span><br><span class="line">        Array.set(array, <span class="number">3</span>, <span class="string">&quot;Scala&quot;</span>);</span><br><span class="line">        Array.set(array, <span class="number">4</span>, <span class="string">&quot;Clojure&quot;</span>);</span><br><span class="line">        <span class="comment">//è·å–æŸä¸€é¡¹çš„å†…å®¹</span></span><br><span class="line">        System.out.println(Array.get(array, <span class="number">3</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Output:</span></span><br><span class="line"><span class="comment">//Scala</span></span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­çš„ Array ç±»ä¸º <code>java.lang.reflect.Array</code> ç±»ã€‚æˆ‘ä»¬ <code>Array.newInstance</code> çš„åŸå‹æ˜¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">newInstance</span><span class="params">(Class&lt;?&gt; componentType, <span class="keyword">int</span> length)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> NegativeArraySizeException </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> newArray(componentType, length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-6-Field"><a href="#3-6-Field" class="headerlink" title="3.6. Field"></a>3.6. Field</h3><p><code>Class</code> å¯¹è±¡æä¾›ä»¥ä¸‹æ–¹æ³•è·å–å¯¹è±¡çš„æˆå‘˜ï¼ˆ<code>Field</code>ï¼‰ï¼š</p>
<ul>
<li><code>getFiled</code> - æ ¹æ®åç§°è·å–å…¬æœ‰çš„ï¼ˆpublicï¼‰ç±»æˆå‘˜ã€‚</li>
<li><code>getDeclaredField</code> - æ ¹æ®åç§°è·å–å·²å£°æ˜çš„ç±»æˆå‘˜ã€‚ä½†ä¸èƒ½å¾—åˆ°å…¶çˆ¶ç±»çš„ç±»æˆå‘˜ã€‚</li>
<li><code>getFields</code> - è·å–æ‰€æœ‰å…¬æœ‰çš„ï¼ˆpublicï¼‰ç±»æˆå‘˜ã€‚</li>
<li><code>getDeclaredFields</code> - è·å–æ‰€æœ‰å·²å£°æ˜çš„ç±»æˆå‘˜ã€‚</li>
</ul>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectFieldDemo</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">FieldSpy</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">boolean</span>[][] b = &#123; &#123;<span class="keyword">false</span>, <span class="keyword">false</span>&#125;, &#123;<span class="keyword">true</span>, <span class="keyword">true</span>&#125; &#125;;</span><br><span class="line">        <span class="keyword">public</span> String name = <span class="string">&quot;Alice&quot;</span>;</span><br><span class="line">        <span class="keyword">public</span> List&lt;Integer&gt; list;</span><br><span class="line">        <span class="keyword">public</span> T val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchFieldException </span>&#123;</span><br><span class="line">        Field f1 = FieldSpy.class.getField(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">        System.out.format(<span class="string">&quot;Type: %s%n&quot;</span>, f1.getType());</span><br><span class="line"></span><br><span class="line">        Field f2 = FieldSpy.class.getField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.format(<span class="string">&quot;Type: %s%n&quot;</span>, f2.getType());</span><br><span class="line"></span><br><span class="line">        Field f3 = FieldSpy.class.getField(<span class="string">&quot;list&quot;</span>);</span><br><span class="line">        System.out.format(<span class="string">&quot;Type: %s%n&quot;</span>, f3.getType());</span><br><span class="line"></span><br><span class="line">        Field f4 = FieldSpy.class.getField(<span class="string">&quot;val&quot;</span>);</span><br><span class="line">        System.out.format(<span class="string">&quot;Type: %s%n&quot;</span>, f4.getType());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Output:</span></span><br><span class="line"><span class="comment">//Type: class [[Z</span></span><br><span class="line"><span class="comment">//Type: class java.lang.String</span></span><br><span class="line"><span class="comment">//Type: interface java.util.List</span></span><br><span class="line"><span class="comment">//Type: class java.lang.Object</span></span><br></pre></td></tr></table></figure>

<h3 id="3-7-Method"><a href="#3-7-Method" class="headerlink" title="3.7. Method"></a>3.7. Method</h3><p><code>Class</code> å¯¹è±¡æä¾›ä»¥ä¸‹æ–¹æ³•è·å–å¯¹è±¡çš„æ–¹æ³•ï¼ˆ<code>Method</code>ï¼‰ï¼š</p>
<ul>
<li><code>getMethod</code> - è¿”å›ç±»æˆ–æ¥å£çš„ç‰¹å®šæ–¹æ³•ã€‚å…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–¹æ³•åç§°ï¼Œåé¢çš„å‚æ•°ä¸ºæ–¹æ³•å‚æ•°å¯¹åº” Class çš„å¯¹è±¡ã€‚</li>
<li><code>getDeclaredMethod</code> - è¿”å›ç±»æˆ–æ¥å£çš„ç‰¹å®šå£°æ˜æ–¹æ³•ã€‚å…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–¹æ³•åç§°ï¼Œåé¢çš„å‚æ•°ä¸ºæ–¹æ³•å‚æ•°å¯¹åº” Class çš„å¯¹è±¡ã€‚</li>
<li><code>getMethods</code> - è¿”å›ç±»æˆ–æ¥å£çš„æ‰€æœ‰ public æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¶çˆ¶ç±»çš„ public æ–¹æ³•ã€‚</li>
<li><code>getDeclaredMethods</code> - è¿”å›ç±»æˆ–æ¥å£å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬ publicã€protectedã€é»˜è®¤ï¼ˆåŒ…ï¼‰è®¿é—®å’Œ private æ–¹æ³•ï¼Œä½†ä¸åŒ…æ‹¬ç»§æ‰¿çš„æ–¹æ³•ã€‚</li>
</ul>
<p>è·å–ä¸€ä¸ª <code>Method</code> å¯¹è±¡åï¼Œå¯ä»¥ç”¨ <code>invoke</code> æ–¹æ³•æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p>
<p><code>invoke</code> æ–¹æ³•çš„åŸå‹ä¸º:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object obj, Object... args)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> IllegalAccessException, IllegalArgumentException,</span></span><br><span class="line"><span class="function">           InvocationTargetException</span></span><br></pre></td></tr></table></figure>

<p>ã€ç¤ºä¾‹ã€‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectMethodDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, IllegalAccessException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›æ‰€æœ‰æ–¹æ³•</span></span><br><span class="line">        Method[] methods1 = System.class.getDeclaredMethods();</span><br><span class="line">        System.out.println(<span class="string">&quot;System getDeclaredMethods æ¸…å•ï¼ˆæ•°é‡ = &quot;</span> + methods1.length + <span class="string">&quot;ï¼‰ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Method m : methods1) &#123;</span><br><span class="line">            System.out.println(m);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›æ‰€æœ‰ public æ–¹æ³•</span></span><br><span class="line">        Method[] methods2 = System.class.getMethods();</span><br><span class="line">        System.out.println(<span class="string">&quot;System getMethods æ¸…å•ï¼ˆæ•°é‡ = &quot;</span> + methods2.length + <span class="string">&quot;ï¼‰ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Method m : methods2) &#123;</span><br><span class="line">            System.out.println(m);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ©ç”¨ Method çš„ invoke æ–¹æ³•è°ƒç”¨ System.currentTimeMillis()</span></span><br><span class="line">        Method method = System.class.getMethod(<span class="string">&quot;currentTimeMillis&quot;</span>);</span><br><span class="line">        System.out.println(method);</span><br><span class="line">        System.out.println(method.invoke(<span class="keyword">null</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-8-Constructor"><a href="#3-8-Constructor" class="headerlink" title="3.8. Constructor"></a>3.8. Constructor</h3><p><code>Class</code> å¯¹è±¡æä¾›ä»¥ä¸‹æ–¹æ³•è·å–å¯¹è±¡çš„æ„é€ æ–¹æ³•ï¼ˆ<code>Constructor</code>ï¼‰ï¼š</p>
<ul>
<li><code>getConstructor</code> - è¿”å›ç±»çš„ç‰¹å®š public æ„é€ æ–¹æ³•ã€‚å‚æ•°ä¸ºæ–¹æ³•å‚æ•°å¯¹åº” Class çš„å¯¹è±¡ã€‚</li>
<li><code>getDeclaredConstructor</code> - è¿”å›ç±»çš„ç‰¹å®šæ„é€ æ–¹æ³•ã€‚å‚æ•°ä¸ºæ–¹æ³•å‚æ•°å¯¹åº” Class çš„å¯¹è±¡ã€‚</li>
<li><code>getConstructors</code> - è¿”å›ç±»çš„æ‰€æœ‰ public æ„é€ æ–¹æ³•ã€‚</li>
<li><code>getDeclaredConstructors</code> - è¿”å›ç±»çš„æ‰€æœ‰æ„é€ æ–¹æ³•ã€‚</li>
</ul>
<p>è·å–ä¸€ä¸ª <code>Constructor</code> å¯¹è±¡åï¼Œå¯ä»¥ç”¨ <code>newInstance</code> æ–¹æ³•æ¥åˆ›å»ºç±»å®ä¾‹ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectMethodConstructorDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException </span>&#123;</span><br><span class="line">        Constructor&lt;?&gt;[] constructors1 = String.class.getDeclaredConstructors();</span><br><span class="line">        System.out.println(<span class="string">&quot;String getDeclaredConstructors æ¸…å•ï¼ˆæ•°é‡ = &quot;</span> + constructors1.length + <span class="string">&quot;ï¼‰ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Constructor c : constructors1) &#123;</span><br><span class="line">            System.out.println(c);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Constructor&lt;?&gt;[] constructors2 = String.class.getConstructors();</span><br><span class="line">        System.out.println(<span class="string">&quot;String getConstructors æ¸…å•ï¼ˆæ•°é‡ = &quot;</span> + constructors2.length + <span class="string">&quot;ï¼‰ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Constructor c : constructors2) &#123;</span><br><span class="line">            System.out.println(c);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;====================&quot;</span>);</span><br><span class="line">        Constructor constructor = String.class.getConstructor(String.class);</span><br><span class="line">        System.out.println(constructor);</span><br><span class="line">        String str = (String) constructor.newInstance(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-9-ç»•å¼€è®¿é—®é™åˆ¶"><a href="#3-9-ç»•å¼€è®¿é—®é™åˆ¶" class="headerlink" title="3.9. ç»•å¼€è®¿é—®é™åˆ¶"></a>3.9. ç»•å¼€è®¿é—®é™åˆ¶</h3><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡åå°„è®¿é—®ç§æœ‰æˆå‘˜ã€æ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨ <code>Constructor/Field/Method.setAccessible(true)</code> æ¥ç»•å¼€ Java è¯­è¨€çš„è®¿é—®é™åˆ¶ã€‚</p>
<h2 id="4-åŠ¨æ€ä»£ç†"><a href="#4-åŠ¨æ€ä»£ç†" class="headerlink" title="4. åŠ¨æ€ä»£ç†"></a>4. åŠ¨æ€ä»£ç†</h2><p>åŠ¨æ€ä»£ç†æ˜¯ä¸€ç§æ–¹ä¾¿è¿è¡Œæ—¶åŠ¨æ€æ„å»ºä»£ç†ã€åŠ¨æ€å¤„ç†ä»£ç†æ–¹æ³•è°ƒç”¨çš„æœºåˆ¶ï¼Œå¾ˆå¤šåœºæ™¯éƒ½æ˜¯åˆ©ç”¨ç±»ä¼¼æœºåˆ¶åšåˆ°çš„ï¼Œæ¯”å¦‚ç”¨æ¥åŒ…è£… RPC è°ƒç”¨ã€é¢å‘åˆ‡é¢çš„ç¼–ç¨‹ï¼ˆAOPï¼‰ã€‚</p>
<p>å®ç°åŠ¨æ€ä»£ç†çš„æ–¹å¼å¾ˆå¤šï¼Œæ¯”å¦‚ JDK è‡ªèº«æä¾›çš„åŠ¨æ€ä»£ç†ï¼Œå°±æ˜¯ä¸»è¦åˆ©ç”¨äº†ä¸Šé¢æåˆ°çš„åå°„æœºåˆ¶ã€‚è¿˜æœ‰å…¶ä»–çš„å®ç°æ–¹å¼ï¼Œæ¯”å¦‚åˆ©ç”¨ä¼ è¯´ä¸­æ›´é«˜æ€§èƒ½çš„å­—èŠ‚ç æ“ä½œæœºåˆ¶ï¼Œç±»ä¼¼ ASMã€cglibï¼ˆåŸºäº ASMï¼‰ã€Javassist ç­‰ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/java/javacore/xmind/Java%E4%BB%A3%E7%90%86.svg" alt="img"></p>
<h3 id="4-1-é™æ€ä»£ç†"><a href="#4-1-é™æ€ä»£ç†" class="headerlink" title="4.1. é™æ€ä»£ç†"></a>4.1. é™æ€ä»£ç†</h3><blockquote>
<p>é™æ€ä»£ç†å…¶å®å°±æ˜¯æŒ‡è®¾è®¡æ¨¡å¼ä¸­çš„ä»£ç†æ¨¡å¼ã€‚</p>
<p><strong>ä»£ç†æ¨¡å¼ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚</strong></p>
</blockquote>
<p><img src="https://upload-images.jianshu.io/upload_images/3101171-6269723ea61527bd.png" alt="img"></p>
<p><strong>Subject</strong> å®šä¹‰äº† RealSubject å’Œ Proxy çš„å…¬å…±æ¥å£ï¼Œè¿™æ ·å°±åœ¨ä»»ä½•ä½¿ç”¨ RealSubject çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ Proxy ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Request</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>RealSubject</strong> å®šä¹‰ Proxy æ‰€ä»£è¡¨çš„çœŸå®å®ä½“ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RealSubject</span> <span class="keyword">extends</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Request</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çœŸå®çš„è¯·æ±‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Proxy</strong> ä¿å­˜ä¸€ä¸ªå¼•ç”¨ä½¿å¾—ä»£ç†å¯ä»¥è®¿é—®å®ä½“ï¼Œå¹¶æä¾›ä¸€ä¸ªä¸ Subject çš„æ¥å£ç›¸åŒçš„æ¥å£ï¼Œè¿™æ ·ä»£ç†å°±å¯ä»¥ç”¨æ¥æ›¿ä»£å®ä½“ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Proxy</span> <span class="keyword">extends</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> RealSubject real;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Request</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == real) &#123;</span><br><span class="line">            real = <span class="keyword">new</span> RealSubject();</span><br><span class="line">        &#125;</span><br><span class="line">        real.Request();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼š</p>
<p>é™æ€ä»£ç†æ¨¡å¼å›ºç„¶åœ¨è®¿é—®æ— æ³•è®¿é—®çš„èµ„æºï¼Œå¢å¼ºç°æœ‰çš„æ¥å£ä¸šåŠ¡åŠŸèƒ½æ–¹é¢æœ‰å¾ˆå¤§çš„ä¼˜ç‚¹ï¼Œä½†æ˜¯å¤§é‡ä½¿ç”¨è¿™ç§é™æ€ä»£ç†ï¼Œä¼šä½¿æˆ‘ä»¬ç³»ç»Ÿå†…çš„ç±»çš„è§„æ¨¡å¢å¤§ï¼Œå¹¶ä¸”ä¸æ˜“ç»´æŠ¤ï¼›å¹¶ä¸”ç”±äº Proxy å’Œ RealSubject çš„åŠŸèƒ½æœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„ï¼ŒProxy åªæ˜¯èµ·åˆ°äº†ä¸­ä»‹çš„ä½œç”¨ï¼Œè¿™ç§ä»£ç†åœ¨ç³»ç»Ÿä¸­çš„å­˜åœ¨ï¼Œå¯¼è‡´ç³»ç»Ÿç»“æ„æ¯”è¾ƒè‡ƒè‚¿å’Œæ¾æ•£ã€‚</p>
</blockquote>
<h3 id="4-2-JDK-åŠ¨æ€ä»£ç†"><a href="#4-2-JDK-åŠ¨æ€ä»£ç†" class="headerlink" title="4.2. JDK åŠ¨æ€ä»£ç†"></a>4.2. JDK åŠ¨æ€ä»£ç†</h3><p>ä¸ºäº†è§£å†³é™æ€ä»£ç†çš„é—®é¢˜ï¼Œå°±æœ‰äº†åˆ›å»ºåŠ¨æ€ä»£ç†çš„æƒ³æ³•ï¼š</p>
<p>åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œéœ€è¦ä»£ç†çš„åœ°æ–¹ï¼Œæ ¹æ® Subject å’Œ RealSubjectï¼ŒåŠ¨æ€åœ°åˆ›å»ºä¸€ä¸ª Proxyï¼Œç”¨å®Œä¹‹åï¼Œå°±ä¼šé”€æ¯ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…äº† Proxy è§’è‰²çš„ class åœ¨ç³»ç»Ÿä¸­å†—æ‚çš„é—®é¢˜äº†ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1553614585028.png" alt="img"></p>
<p>Java åŠ¨æ€ä»£ç†åŸºäºç»å…¸ä»£ç†æ¨¡å¼ï¼Œå¼•å…¥äº†ä¸€ä¸ª <code>InvocationHandler</code>ï¼Œ<code>InvocationHandler</code> è´Ÿè´£ç»Ÿä¸€ç®¡ç†æ‰€æœ‰çš„æ–¹æ³•è°ƒç”¨ã€‚</p>
<p>åŠ¨æ€ä»£ç†æ­¥éª¤ï¼š</p>
<ol>
<li>è·å– RealSubject ä¸Šçš„æ‰€æœ‰æ¥å£åˆ—è¡¨ï¼›</li>
<li>ç¡®å®šè¦ç”Ÿæˆçš„ä»£ç†ç±»çš„ç±»åï¼Œé»˜è®¤ä¸ºï¼š<code>com.sun.proxy.$ProxyXXXX</code>ï¼›</li>
<li>æ ¹æ®éœ€è¦å®ç°çš„æ¥å£ä¿¡æ¯ï¼Œåœ¨ä»£ç ä¸­åŠ¨æ€åˆ›å»º è¯¥ Proxy ç±»çš„å­—èŠ‚ç ï¼›</li>
<li>å°†å¯¹åº”çš„å­—èŠ‚ç è½¬æ¢ä¸ºå¯¹åº”çš„ class å¯¹è±¡ï¼›</li>
<li>åˆ›å»º <code>InvocationHandler</code> å®ä¾‹ handlerï¼Œç”¨æ¥å¤„ç† <code>Proxy</code> æ‰€æœ‰æ–¹æ³•è°ƒç”¨ï¼›</li>
<li>Proxy çš„ class å¯¹è±¡ ä»¥åˆ›å»ºçš„ handler å¯¹è±¡ä¸ºå‚æ•°ï¼Œå®ä¾‹åŒ–ä¸€ä¸ª proxy å¯¹è±¡ã€‚</li>
</ol>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼ŒJDK åŠ¨æ€ä»£ç†çš„å®ç°æ˜¯åŸºäºå®ç°æ¥å£çš„æ–¹å¼ï¼Œä½¿å¾— Proxy å’Œ RealSubject å…·æœ‰ç›¸åŒçš„åŠŸèƒ½ã€‚</p>
<p>ä½†å…¶å®è¿˜æœ‰ä¸€ç§æ€è·¯ï¼šé€šè¿‡ç»§æ‰¿ã€‚å³ï¼šè®© Proxy ç»§æ‰¿ RealSubjectï¼Œè¿™æ ·äºŒè€…åŒæ ·å…·æœ‰ç›¸åŒçš„åŠŸèƒ½ï¼ŒProxy è¿˜å¯ä»¥é€šè¿‡é‡å†™ RealSubject ä¸­çš„æ–¹æ³•ï¼Œæ¥å®ç°å¤šæ€ã€‚CGLIB å°±æ˜¯åŸºäºè¿™ç§æ€è·¯è®¾è®¡çš„ã€‚</p>
<p>åœ¨ Java çš„åŠ¨æ€ä»£ç†æœºåˆ¶ä¸­ï¼Œæœ‰ä¸¤ä¸ªé‡è¦çš„ç±»ï¼ˆæ¥å£ï¼‰ï¼Œä¸€ä¸ªæ˜¯ <code>InvocationHandler</code> æ¥å£ã€å¦ä¸€ä¸ªåˆ™æ˜¯ <code>Proxy</code> ç±»ï¼Œè¿™ä¸€ä¸ªç±»å’Œä¸€ä¸ªæ¥å£æ˜¯å®ç°æˆ‘ä»¬åŠ¨æ€ä»£ç†æ‰€å¿…é¡»ç”¨åˆ°çš„ã€‚</p>
<h4 id="InvocationHandler-æ¥å£"><a href="#InvocationHandler-æ¥å£" class="headerlink" title="InvocationHandler æ¥å£"></a>InvocationHandler æ¥å£</h4><p><code>InvocationHandler</code> æ¥å£å®šä¹‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> Throwable</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»éƒ½å¿…é¡»è¦å®ç° <code>InvocationHandler</code> è¿™ä¸ªæ¥å£ï¼Œå¹¶ä¸”æ¯ä¸ªä»£ç†ç±»çš„å®ä¾‹éƒ½å…³è”åˆ°äº†ä¸€ä¸ª Handlerï¼Œå½“æˆ‘ä»¬é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œè¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨å°±ä¼šè¢«è½¬å‘ä¸ºç”± <code>InvocationHandler</code> è¿™ä¸ªæ¥å£çš„ <code>invoke</code> æ–¹æ³•æ¥è¿›è¡Œè°ƒç”¨ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹ InvocationHandler è¿™ä¸ªæ¥å£çš„å”¯ä¸€ä¸€ä¸ªæ–¹æ³• invoke æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable</span></span><br></pre></td></tr></table></figure>

<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><strong>proxy</strong> - ä»£ç†çš„çœŸå®å¯¹è±¡ã€‚</li>
<li><strong>method</strong> - æ‰€è¦è°ƒç”¨çœŸå®å¯¹è±¡çš„æŸä¸ªæ–¹æ³•çš„ <code>Method</code> å¯¹è±¡</li>
<li><strong>args</strong> - æ‰€è¦è°ƒç”¨çœŸå®å¯¹è±¡æŸä¸ªæ–¹æ³•æ—¶æ¥å—çš„å‚æ•°</li>
</ul>
<p>å¦‚æœä¸æ˜¯å¾ˆæ˜ç™½ï¼Œç­‰ä¸‹é€šè¿‡ä¸€ä¸ªå®ä¾‹ä¼šå¯¹è¿™å‡ ä¸ªå‚æ•°è¿›è¡Œæ›´æ·±çš„è®²è§£ã€‚</p>
<h4 id="Proxy-ç±»"><a href="#Proxy-ç±»" class="headerlink" title="Proxy ç±»"></a>Proxy ç±»</h4><p><code>Proxy</code> è¿™ä¸ªç±»çš„ä½œç”¨å°±æ˜¯ç”¨æ¥åŠ¨æ€åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡çš„ç±»ï¼Œå®ƒæä¾›äº†è®¸å¤šçš„æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬ç”¨çš„æœ€å¤šçš„å°±æ˜¯ <code>newProxyInstance</code> è¿™ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">newProxyInstance</span><span class="params">(ClassLoader loader, Class&lt;?&gt;[] interfaces,  InvocationHandler h)</span>  <span class="keyword">throws</span> IllegalArgumentException</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯å¾—åˆ°ä¸€ä¸ªåŠ¨æ€çš„ä»£ç†å¯¹è±¡ã€‚</p>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><strong>loader</strong> - ä¸€ä¸ª <code>ClassLoader</code> å¯¹è±¡ï¼Œå®šä¹‰äº†ç”±å“ªä¸ª <code>ClassLoader</code> å¯¹è±¡æ¥å¯¹ç”Ÿæˆçš„ä»£ç†å¯¹è±¡è¿›è¡ŒåŠ è½½ã€‚</li>
<li><strong>interfaces</strong> - ä¸€ä¸ª <code>Class&lt;?&gt;</code> å¯¹è±¡çš„æ•°ç»„ï¼Œè¡¨ç¤ºçš„æ˜¯æˆ‘å°†è¦ç»™æˆ‘éœ€è¦ä»£ç†çš„å¯¹è±¡æä¾›ä¸€ç»„ä»€ä¹ˆæ¥å£ï¼Œå¦‚æœæˆ‘æä¾›äº†ä¸€ç»„æ¥å£ç»™å®ƒï¼Œé‚£ä¹ˆè¿™ä¸ªä»£ç†å¯¹è±¡å°±å®£ç§°å®ç°äº†è¯¥æ¥å£(å¤šæ€)ï¼Œè¿™æ ·æˆ‘å°±èƒ½è°ƒç”¨è¿™ç»„æ¥å£ä¸­çš„æ–¹æ³•äº†</li>
<li><strong>h</strong> - ä¸€ä¸ª <code>InvocationHandler</code> å¯¹è±¡ï¼Œè¡¨ç¤ºçš„æ˜¯å½“æˆ‘è¿™ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šå…³è”åˆ°å“ªä¸€ä¸ª <code>InvocationHandler</code> å¯¹è±¡ä¸Š</li>
</ul>
<h4 id="JDK-åŠ¨æ€ä»£ç†å®ä¾‹"><a href="#JDK-åŠ¨æ€ä»£ç†å®ä¾‹" class="headerlink" title="JDK åŠ¨æ€ä»£ç†å®ä¾‹"></a>JDK åŠ¨æ€ä»£ç†å®ä¾‹</h4><p>ä¸Šé¢çš„å†…å®¹ä»‹ç»å®Œè¿™ä¸¤ä¸ªæ¥å£(ç±»)ä»¥åï¼Œæˆ‘ä»¬æ¥é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥çœ‹çœ‹æˆ‘ä»¬çš„åŠ¨æ€ä»£ç†æ¨¡å¼æ˜¯ä»€ä¹ˆæ ·çš„ï¼š</p>
<p>é¦–å…ˆæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª Subject ç±»å‹çš„æ¥å£ï¼Œä¸ºå…¶å£°æ˜äº†ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">hello</span><span class="params">(String str)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">bye</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œå®šä¹‰äº†ä¸€ä¸ªç±»æ¥å®ç°è¿™ä¸ªæ¥å£ï¼Œè¿™ä¸ªç±»å°±æ˜¯æˆ‘ä»¬çš„çœŸå®å¯¹è±¡ï¼ŒRealSubject ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RealSubject</span> <span class="keyword">implements</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello  &quot;</span> + str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">bye</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Goodbye&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Over&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å°±è¦å®šä¹‰ä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»äº†ï¼Œå‰é¢è¯´ä¸ªï¼Œæ¯ä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»éƒ½å¿…é¡»è¦å®ç° InvocationHandler è¿™ä¸ªæ¥å£ï¼Œå› æ­¤æˆ‘ä»¬è¿™ä¸ªåŠ¨æ€ä»£ç†ç±»ä¹Ÿä¸ä¾‹å¤–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InvocationHandlerDemo</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¦ä»£ç†çš„çœŸå®å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> Object subject;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ æ–¹æ³•ï¼Œç»™æˆ‘ä»¬è¦ä»£ç†çš„çœŸå®å¯¹è±¡èµ‹åˆå€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">InvocationHandlerDemo</span><span class="params">(Object subject)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.subject = subject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object object, Method method, Object[] args)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="comment">// åœ¨ä»£ç†çœŸå®å¯¹è±¡å‰æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€äº›è‡ªå·±çš„æ“ä½œ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Before method&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Call Method: &quot;</span> + method);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å½“ä»£ç†å¯¹è±¡è°ƒç”¨çœŸå®å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œå…¶ä¼šè‡ªåŠ¨çš„è·³è½¬åˆ°ä»£ç†å¯¹è±¡å…³è”çš„handlerå¯¹è±¡çš„invokeæ–¹æ³•æ¥è¿›è¡Œè°ƒç”¨</span></span><br><span class="line">        Object obj = method.invoke(subject, args);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åœ¨ä»£ç†çœŸå®å¯¹è±¡åæˆ‘ä»¬ä¹Ÿå¯ä»¥æ·»åŠ ä¸€äº›è‡ªå·±çš„æ“ä½œ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;After method&quot;</span>);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œæ¥çœ‹çœ‹æˆ‘ä»¬çš„ Client ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æˆ‘ä»¬è¦ä»£ç†çš„çœŸå®å¯¹è±¡</span></span><br><span class="line">        Subject realSubject = <span class="keyword">new</span> RealSubject();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬è¦ä»£ç†å“ªä¸ªçœŸå®å¯¹è±¡ï¼Œå°±å°†è¯¥å¯¹è±¡ä¼ è¿›å»ï¼Œæœ€åæ˜¯é€šè¿‡è¯¥çœŸå®å¯¹è±¡æ¥è°ƒç”¨å…¶æ–¹æ³•çš„</span></span><br><span class="line">        InvocationHandler handler = <span class="keyword">new</span> InvocationHandlerDemo(realSubject);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * é€šè¿‡Proxyçš„newProxyInstanceæ–¹æ³•æ¥åˆ›å»ºæˆ‘ä»¬çš„ä»£ç†å¯¹è±¡ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å…¶ä¸‰ä¸ªå‚æ•°</span></span><br><span class="line"><span class="comment">         * ç¬¬ä¸€ä¸ªå‚æ•° handler.getClass().getClassLoader() ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨handlerè¿™ä¸ªç±»çš„ClassLoaderå¯¹è±¡æ¥åŠ è½½æˆ‘ä»¬çš„ä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment">         * ç¬¬äºŒä¸ªå‚æ•°realSubject.getClass().getInterfaces()ï¼Œæˆ‘ä»¬è¿™é‡Œä¸ºä»£ç†å¯¹è±¡æä¾›çš„æ¥å£æ˜¯çœŸå®å¯¹è±¡æ‰€å®è¡Œçš„æ¥å£ï¼Œè¡¨ç¤ºæˆ‘è¦ä»£ç†çš„æ˜¯è¯¥çœŸå®å¯¹è±¡ï¼Œè¿™æ ·æˆ‘å°±èƒ½è°ƒç”¨è¿™ç»„æ¥å£ä¸­çš„æ–¹æ³•äº†</span></span><br><span class="line"><span class="comment">         * ç¬¬ä¸‰ä¸ªå‚æ•°handlerï¼Œ æˆ‘ä»¬è¿™é‡Œå°†è¿™ä¸ªä»£ç†å¯¹è±¡å…³è”åˆ°äº†ä¸Šæ–¹çš„ InvocationHandler è¿™ä¸ªå¯¹è±¡ä¸Š</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Subject subject = (Subject)Proxy.newProxyInstance(handler.getClass().getClassLoader(), realSubject</span><br><span class="line">                .getClass().getInterfaces(), handler);</span><br><span class="line"></span><br><span class="line">        System.out.println(subject.getClass().getName());</span><br><span class="line">        subject.hello(<span class="string">&quot;World&quot;</span>);</span><br><span class="line">        String result = subject.bye();</span><br><span class="line">        System.out.println(<span class="string">&quot;Result is: &quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ§åˆ¶å°çš„è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">com.sun.proxy.$Proxy0</span><br><span class="line">Before method</span><br><span class="line">Call Method: public abstract void io.github.dunwu.javacore.reflect.InvocationHandlerDemo$Subject.hello(java.lang.String)</span><br><span class="line">Hello  World</span><br><span class="line">After method</span><br><span class="line"></span><br><span class="line">Before method</span><br><span class="line">Call Method: public abstract java.lang.String io.github.dunwu.javacore.reflect.InvocationHandlerDemo$Subject.bye()</span><br><span class="line">Goodbye</span><br><span class="line">After method</span><br><span class="line"></span><br><span class="line">Result is: Over</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é¦–å…ˆæ¥çœ‹çœ‹ <code>com.sun.proxy.$Proxy0</code> è¿™ä¸œè¥¿ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œè¿™ä¸ªä¸œè¥¿æ˜¯ç”± <code>System.out.println(subject.getClass().getName());</code> è¿™æ¡è¯­å¥æ‰“å°å‡ºæ¥çš„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬è¿”å›çš„è¿™ä¸ªä»£ç†å¯¹è±¡çš„ç±»åæ˜¯è¿™æ ·çš„å‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Subject subject = (Subject)Proxy.newProxyInstance(handler.getClass().getClassLoader(), realSubject</span><br><span class="line">                .getClass().getInterfaces(), handler);</span><br></pre></td></tr></table></figure>

<p>å¯èƒ½æˆ‘ä»¥ä¸ºè¿”å›çš„è¿™ä¸ªä»£ç†å¯¹è±¡ä¼šæ˜¯ Subject ç±»å‹çš„å¯¹è±¡ï¼Œæˆ–è€…æ˜¯ InvocationHandler çš„å¯¹è±¡ï¼Œç»“æœå´ä¸æ˜¯ï¼Œé¦–å…ˆæˆ‘ä»¬è§£é‡Šä¸€ä¸‹<strong>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿™é‡Œå¯ä»¥å°†å…¶è½¬åŒ–ä¸º Subject ç±»å‹çš„å¯¹è±¡ï¼Ÿ</strong></p>
<p>åŸå› å°±æ˜¯ï¼šåœ¨ newProxyInstance è¿™ä¸ªæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¸Šï¼Œæˆ‘ä»¬ç»™è¿™ä¸ªä»£ç†å¯¹è±¡æä¾›äº†ä¸€ç»„ä»€ä¹ˆæ¥å£ï¼Œé‚£ä¹ˆæˆ‘è¿™ä¸ªä»£ç†å¯¹è±¡å°±ä¼šå®ç°äº†è¿™ç»„æ¥å£ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å½“ç„¶å¯ä»¥å°†è¿™ä¸ªä»£ç†å¯¹è±¡å¼ºåˆ¶ç±»å‹è½¬åŒ–ä¸ºè¿™ç»„æ¥å£ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œå› ä¸ºè¿™é‡Œçš„æ¥å£æ˜¯ Subject ç±»å‹ï¼Œæ‰€ä»¥å°±å¯ä»¥å°†å…¶è½¬åŒ–ä¸º Subject ç±»å‹äº†ã€‚</p>
<p><strong>åŒæ—¶æˆ‘ä»¬ä¸€å®šè¦è®°ä½ï¼Œé€šè¿‡ <code>Proxy.newProxyInstance</code> åˆ›å»ºçš„ä»£ç†å¯¹è±¡æ˜¯åœ¨ jvm è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆçš„ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¹¶ä¸æ˜¯æˆ‘ä»¬çš„ InvocationHandler ç±»å‹ï¼Œä¹Ÿä¸æ˜¯æˆ‘ä»¬å®šä¹‰çš„é‚£ç»„æ¥å£çš„ç±»å‹ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ˜¯åŠ¨æ€ç”Ÿæˆçš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å‘½åæ–¹å¼éƒ½æ˜¯è¿™æ ·çš„å½¢å¼ï¼Œä»¥$å¼€å¤´ï¼Œproxy ä¸ºä¸­ï¼Œæœ€åä¸€ä¸ªæ•°å­—è¡¨ç¤ºå¯¹è±¡çš„æ ‡å·</strong>ã€‚</p>
<p>æ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸¤å¥</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">subject.hello(&quot;World&quot;);</span><br><span class="line">String result = subject.bye();</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæ˜¯é€šè¿‡ä»£ç†å¯¹è±¡æ¥è°ƒç”¨å®ç°çš„é‚£ç§æ¥å£ä¸­çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ—¶å€™ç¨‹åºå°±ä¼šè·³è½¬åˆ°ç”±è¿™ä¸ªä»£ç†å¯¹è±¡å…³è”åˆ°çš„ handler ä¸­çš„ invoke æ–¹æ³•å»æ‰§è¡Œï¼Œè€Œæˆ‘ä»¬çš„è¿™ä¸ª handler å¯¹è±¡åˆæ¥å—äº†ä¸€ä¸ª RealSubject ç±»å‹çš„å‚æ•°ï¼Œè¡¨ç¤ºæˆ‘è¦ä»£ç†çš„å°±æ˜¯è¿™ä¸ªçœŸå®å¯¹è±¡ï¼Œæ‰€ä»¥æ­¤æ—¶å°±ä¼šè°ƒç”¨ handler ä¸­çš„ invoke æ–¹æ³•å»æ‰§è¡Œã€‚</p>
<p>æˆ‘ä»¬çœ‹åˆ°ï¼Œåœ¨çœŸæ­£é€šè¿‡ä»£ç†å¯¹è±¡æ¥è°ƒç”¨çœŸå®å¯¹è±¡çš„æ–¹æ³•çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯¥æ–¹æ³•å‰åæ·»åŠ è‡ªå·±çš„ä¸€äº›æ“ä½œï¼ŒåŒæ—¶æˆ‘ä»¬çœ‹åˆ°æˆ‘ä»¬çš„è¿™ä¸ª method å¯¹è±¡æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> io.github.dunwu.javacore.reflect.InvocationHandlerDemo$Subject.hello(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> java.lang.String io.github.dunwu.javacore.reflect.InvocationHandlerDemo$Subject.bye()</span><br></pre></td></tr></table></figure>

<p>æ­£å¥½å°±æ˜¯æˆ‘ä»¬çš„ Subject æ¥å£ä¸­çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿™ä¹Ÿå°±è¯æ˜äº†å½“æˆ‘é€šè¿‡ä»£ç†å¯¹è±¡æ¥è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œèµ·å®é™…å°±æ˜¯å§”æ‰˜ç”±å…¶å…³è”åˆ°çš„ handler å¯¹è±¡çš„ invoke æ–¹æ³•ä¸­æ¥è°ƒç”¨ï¼Œå¹¶ä¸æ˜¯è‡ªå·±æ¥çœŸå®è°ƒç”¨ï¼Œè€Œæ˜¯é€šè¿‡ä»£ç†çš„æ–¹å¼æ¥è°ƒç”¨çš„ã€‚</p>
<h4 id="JDK-åŠ¨æ€ä»£ç†å°ç»“"><a href="#JDK-åŠ¨æ€ä»£ç†å°ç»“" class="headerlink" title="JDK åŠ¨æ€ä»£ç†å°ç»“"></a>JDK åŠ¨æ€ä»£ç†å°ç»“</h4><p>ä»£ç†ç±»ä¸å§”æ‰˜ç±»å®ç°åŒä¸€æ¥å£ï¼Œä¸»è¦æ˜¯é€šè¿‡ä»£ç†ç±»å®ç° <code>InvocationHandler</code> å¹¶é‡å†™ <code>invoke</code> æ–¹æ³•æ¥è¿›è¡ŒåŠ¨æ€ä»£ç†çš„ï¼Œåœ¨ <code>invoke</code> æ–¹æ³•ä¸­å°†å¯¹æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</p>
<p>JDK åŠ¨æ€ä»£ç†ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä¼˜ç‚¹ï¼šç›¸å¯¹äºé™æ€ä»£ç†æ¨¡å¼ï¼Œä¸éœ€è¦ç¡¬ç¼–ç æ¥å£ï¼Œä»£ç å¤ç”¨ç‡é«˜ã€‚</li>
<li>ç¼ºç‚¹ï¼šå¼ºåˆ¶è¦æ±‚ä»£ç†ç±»å®ç° <code>InvocationHandler</code> æ¥å£ã€‚</li>
</ul>
<h3 id="4-3-CGLIB-åŠ¨æ€ä»£ç†"><a href="#4-3-CGLIB-åŠ¨æ€ä»£ç†" class="headerlink" title="4.3. CGLIB åŠ¨æ€ä»£ç†"></a>4.3. CGLIB åŠ¨æ€ä»£ç†</h3><p>CGLIB æä¾›äº†ä¸ JDK åŠ¨æ€ä»£ç†ä¸åŒçš„æ–¹æ¡ˆã€‚å¾ˆå¤šæ¡†æ¶ï¼Œä¾‹å¦‚ Spring AOP ä¸­ï¼Œå°±ä½¿ç”¨äº† CGLIB åŠ¨æ€ä»£ç†ã€‚</p>
<p>CGLIB åº•å±‚ï¼Œå…¶å®æ˜¯å€ŸåŠ©äº† ASM è¿™ä¸ªå¼ºå¤§çš„ Java å­—èŠ‚ç æ¡†æ¶å»è¿›è¡Œå­—èŠ‚ç å¢å¼ºæ“ä½œã€‚</p>
<p>CGLIB åŠ¨æ€ä»£ç†çš„å·¥ä½œæ­¥éª¤ï¼š</p>
<ul>
<li>ç”Ÿæˆä»£ç†ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚ç æ–‡ä»¶ï¼›</li>
<li>åŠ è½½äºŒè¿›åˆ¶å­—èŠ‚ç ï¼Œç”Ÿæˆ <code>Class</code> å¯¹è±¡( ä¾‹å¦‚ä½¿ç”¨ <code>Class.forName()</code> æ–¹æ³• )ï¼›</li>
<li>é€šè¿‡åå°„æœºåˆ¶è·å¾—å®ä¾‹æ„é€ ï¼Œå¹¶åˆ›å»ºä»£ç†ç±»å¯¹è±¡ã€‚</li>
</ul>
<p>CGLIB åŠ¨æ€ä»£ç†ç‰¹ç‚¹ï¼š</p>
<p>ä¼˜ç‚¹ï¼šä½¿ç”¨å­—èŠ‚ç å¢å¼ºï¼Œæ¯” JDK åŠ¨æ€ä»£ç†æ–¹å¼æ€§èƒ½é«˜ã€‚å¯ä»¥åœ¨è¿è¡Œæ—¶å¯¹ç±»æˆ–è€…æ˜¯æ¥å£è¿›è¡Œå¢å¼ºæ“ä½œï¼Œä¸”å§”æ‰˜ç±»æ— éœ€å®ç°æ¥å£ã€‚</p>
<p>ç¼ºç‚¹ï¼šä¸èƒ½å¯¹ <code>final</code> ç±»ä»¥åŠ <code>final</code> æ–¹æ³•è¿›è¡Œä»£ç†ã€‚</p>
<blockquote>
<p>å‚è€ƒï¼š<a href="https://www.jianshu.com/p/9a61af393e41">æ·±å…¥ç†è§£ CGLIB åŠ¨æ€ä»£ç†æœºåˆ¶</a></p>
</blockquote>
<h2 id="5-å‚è€ƒèµ„æ–™"><a href="#5-å‚è€ƒèµ„æ–™" class="headerlink" title="5. å‚è€ƒèµ„æ–™"></a>5. å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
<li><a href="https://time.geekbang.org/column/intro/100010301">æ·±å…¥æ‹†è§£ Java è™šæ‹Ÿæœº</a></li>
<li><a href="https://www.sczyh30.com/posts/Java/java-reflection-1/">æ·±å…¥è§£æ Java åå°„ï¼ˆ1ï¼‰ - åŸºç¡€</a></li>
<li><a href="https://blog.csdn.net/sinat_38259539/article/details/71799078">Java åŸºç¡€ä¹‹â€”åå°„ï¼ˆéå¸¸é‡è¦ï¼‰</a></li>
<li><a href="https://docs.oracle.com/javase/tutorial/reflect/index.html">å®˜æ–¹ Reflection API æ–‡æ¡£</a></li>
<li><a href="https://www.cnblogs.com/xiaoluo501395377/p/3383130.html">Java çš„åŠ¨æ€ä»£ç†æœºåˆ¶è¯¦è§£</a></li>
<li><a href="https://blog.csdn.net/luanlouis/article/details/24589193">Java åŠ¨æ€ä»£ç†æœºåˆ¶è¯¦è§£ï¼ˆJDK å’Œ CGLIBï¼ŒJavassistï¼ŒASMï¼‰</a></li>
<li><a href="https://www.jianshu.com/p/471c80a7e831">æ·±å…¥ç†è§£ JDK åŠ¨æ€ä»£ç†æœºåˆ¶</a></li>
<li><a href="https://www.jianshu.com/p/9a61af393e41">æ·±å…¥ç†è§£ CGLIB åŠ¨æ€ä»£ç†æœºåˆ¶</a></li>
</ul>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>åå°„</tag>
        <tag>åŠ¨æ€ä»£ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>Java åŸºç¡€ç‰¹æ€§</title>
    <url>/2021/12/06/java%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7/</url>
    <content><![CDATA[<h1 id="Java-åŸºç¡€ç‰¹æ€§"><a href="#Java-åŸºç¡€ç‰¹æ€§" class="headerlink" title="Java åŸºç¡€ç‰¹æ€§"></a>Java åŸºç¡€ç‰¹æ€§</h1><blockquote>
<p>Java åŸºç¡€ç¯‡æ€»ç»“ Java çš„ä¸€äº›åŸºç¡€ç‰¹æ€§ã€‚</p>
</blockquote>
<h2 id="ğŸ“–-å†…å®¹"><a href="#ğŸ“–-å†…å®¹" class="headerlink" title="ğŸ“– å†…å®¹"></a>ğŸ“– å†…å®¹</h2><ul>
<li><a href="java-develop-env.md">Java å¼€å‘ç¯å¢ƒ</a></li>
<li><a href="java-basic-grammar.md">Java åŸºç¡€è¯­æ³•ç‰¹æ€§</a></li>
<li><a href="java-data-type.md">Java åŸºæœ¬æ•°æ®ç±»å‹</a></li>
<li><a href="java-string.md">Java String ç±»å‹</a></li>
<li><a href="java-oop.md">Java é¢å‘å¯¹è±¡</a></li>
<li><a href="java-method.md">Java æ–¹æ³•</a></li>
<li><a href="java-array.md">Java æ•°ç»„</a></li>
<li><a href="java-enum.md">Java æšä¸¾</a></li>
<li><a href="java-control-statement.md">Java æ§åˆ¶è¯­å¥</a></li>
<li><a href="java-exception.md">Java å¼‚å¸¸</a></li>
<li><a href="java-generic.md">Java æ³›å‹</a></li>
<li><a href="java-reflection.md">Java åå°„</a></li>
<li><a href="java-annotation.md">Java æ³¨è§£</a></li>
</ul>
<h2 id="ğŸ“š-èµ„æ–™"><a href="#ğŸ“š-èµ„æ–™" class="headerlink" title="ğŸ“š èµ„æ–™"></a>ğŸ“š èµ„æ–™</h2><ul>
<li><strong>ä¹¦ç±</strong><ul>
<li>Java å››å¤§åè‘—<ul>
<li><a href="https://book.douban.com/subject/2130190/">ã€ŠJava ç¼–ç¨‹æ€æƒ³ï¼ˆThinking in javaï¼‰ã€‹</a></li>
<li><a href="https://book.douban.com/subject/26880667/">ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· I åŸºç¡€çŸ¥è¯†ã€‹</a></li>
<li><a href="https://book.douban.com/subject/27165931/">ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· II é«˜çº§ç‰¹æ€§ã€‹</a></li>
<li><a href="https://book.douban.com/subject/30412517/">ã€ŠEffective Javaã€‹</a></li>
</ul>
</li>
<li>Java å¹¶å‘<ul>
<li><a href="https://book.douban.com/subject/10484692/">ã€ŠJava å¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹</a></li>
<li><a href="https://book.douban.com/subject/26591326/">ã€ŠJava å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹</a></li>
</ul>
</li>
<li>Java è™šæ‹Ÿæœº<ul>
<li><a href="https://book.douban.com/subject/34907497/">ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹</a></li>
</ul>
</li>
<li>Java å…¥é—¨<ul>
<li><a href="https://book.douban.com/subject/2000732/">ã€ŠO&#39;Reillyï¼šHead First Javaã€‹</a></li>
<li><a href="https://book.douban.com/subject/3246499/">ã€Šç–¯ç‹‚ Java è®²ä¹‰ã€‹</a></li>
</ul>
</li>
<li>å…¶ä»–<ul>
<li><a href="https://book.douban.com/subject/2243615/">ã€ŠHead First è®¾è®¡æ¨¡å¼ã€‹</a></li>
<li><a href="https://book.douban.com/subject/1438754/">ã€ŠJava ç½‘ç»œç¼–ç¨‹ã€‹</a></li>
<li><a href="https://book.douban.com/subject/25861566/">ã€ŠJava åŠ å¯†ä¸è§£å¯†çš„è‰ºæœ¯ã€‹</a></li>
<li><a href="https://book.douban.com/subject/27605355/">ã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹</a></li>
</ul>
</li>
</ul>
</li>
<li><strong>æ•™ç¨‹ã€ç¤¾åŒº</strong><ul>
<li><a href="https://www.runoob.com/java/java-tutorial.html">Runoob Java æ•™ç¨‹</a></li>
<li><a href="https://github.com/iluwatar/java-design-patterns">java-design-patterns</a></li>
<li><a href="https://github.com/TheAlgorithms/Java">Java</a></li>
<li><a href="https://time.geekbang.org/column/intro/82">ã€ŠJava æ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®²ã€‹</a></li>
<li><a href="https://time.geekbang.org/column/intro/100028001">ã€ŠJava æ€§èƒ½è°ƒä¼˜å®æˆ˜ã€‹</a></li>
<li><a href="https://time.geekbang.org/column/intro/100047701">ã€ŠJava ä¸šåŠ¡å¼€å‘å¸¸è§é”™è¯¯ 100 ä¾‹ã€‹</a></li>
<li><a href="https://time.geekbang.org/column/intro/100010301">æ·±å…¥æ‹†è§£ Java è™šæ‹Ÿæœº</a></li>
<li><a href="https://time.geekbang.org/column/intro/100023901">ã€ŠJava å¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹</a></li>
</ul>
</li>
<li><strong>é¢è¯•</strong><ul>
<li><a href="https://github.com/CyC2018/CS-Notes">CS-Notes</a></li>
<li><a href="https://github.com/Snailclimb/JavaGuide">JavaGuide</a></li>
<li><a href="https://github.com/doocs/advanced-java">advanced-java</a></li>
</ul>
</li>
</ul>
<h2 id="ğŸšª-ä¼ é€"><a href="#ğŸšª-ä¼ é€" class="headerlink" title="ğŸšª ä¼ é€"></a>ğŸšª ä¼ é€</h2><p>â—¾ ğŸ  <a href="https://github.com/dunwu/javacore">JAVACORE é¦–é¡µ</a> â—¾ ğŸ¯ <a href="https://github.com/dunwu/blog">æˆ‘çš„åšå®¢</a> â—¾</p>
]]></content>
      <categories>
        <category>javaåŸºç¡€</category>
      </categories>
      <tags>
        <tag>åŸºç¡€ç‰¹æ€§</tag>
      </tags>
  </entry>
</search>
